<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
<title>DRN.TODAY — Somnath Kurmi · AI Systems Architect</title>
<meta name="description" content="DRN.TODAY — Somnath Kurmi, AI Systems Architect & Full-Stack Innovator.">
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Rajdhani:wght@300;400;600;700&family=Share+Tech+Mono&display=swap" rel="stylesheet">
<style>
/* ═══════════════════════════════════════════════
   BASE RESET
═══════════════════════════════════════════════ */
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
:root{
  /* CSS TOKENS */
  --c1:#00e5ff;--c2:#b400ff;--c3:#ff2d9b;--c4:#00ff9d;--c5:#ff7b00;--c6:#4f46ff;
  --dark:#030614;--dark2:#060b20;--glass:rgba(6,11,32,.88);
  --FH:'Orbitron',sans-serif;--FB:'Rajdhani',sans-serif;--FM:'Share Tech Mono',monospace;
  --ez:cubic-bezier(.16,1,.3,1);--snap-dur:900ms;
  --room-tint:#00e5ff;--room-rgb:0,229,255;--depth-z:0;
}
/* META/SEO: semantic text remains in DOM for readability + indexing */
html,body{
  overflow:hidden;width:100vw;height:100vh;
  background:var(--dark);color:#fff;font-family:var(--FB);
  touch-action:none;
}
a{color:inherit;text-decoration:none}

/* ═══════════════════════════════════════════════
   THREE.JS PERSISTENT BG
═══════════════════════════════════════════════ */
#bg-canvas{position:fixed;inset:0;z-index:0;pointer-events:none}

/* ═══════════════════════════════════════════════
   FX OVERLAY LAYERS
═══════════════════════════════════════════════ */
#fx-canvas{position:fixed;inset:0;z-index:450;pointer-events:none}
#scanlines{position:fixed;inset:0;z-index:440;pointer-events:none;
  background:repeating-linear-gradient(0deg,transparent,transparent 2px,rgba(0,229,255,.012) 2px,rgba(0,229,255,.012) 4px);
  opacity:0;transition:opacity .25s}
#scanlines.on{opacity:1}
#bloom{position:fixed;inset:0;z-index:430;pointer-events:none;opacity:0;mix-blend-mode:screen}
#transition-label{
  position:fixed;bottom:20px;left:50%;transform:translateX(-50%);
  font-family:var(--FM);font-size:.5rem;letter-spacing:4px;color:rgba(0,229,255,.3);
  z-index:400;pointer-events:none;transition:opacity .5s;opacity:0;
  text-transform:uppercase;
}
#transition-label.on{opacity:1}

/* ═══════════════════════════════════════════════
   HUD
═══════════════════════════════════════════════ */
#hud{position:fixed;left:14px;top:14px;z-index:200;font-family:var(--FM);pointer-events:none}
#hud-index{font-size:clamp(1.8rem,7vw,3rem);font-weight:900;font-family:var(--FH);line-height:1;color:var(--c1);opacity:.9;transition:color .6s,transform .4s}
#hud-section{font-size:.5rem;letter-spacing:4px;text-transform:uppercase;color:rgba(255,255,255,.3);margin-top:2px;transition:color .6s}
#hud-bar{width:1px;height:32px;background:var(--c1);margin-top:6px;transform-origin:top;transform:scaleY(0);transition:transform .7s var(--ez),background .6s}
#hud-bar.grow{transform:scaleY(1)}
#scroll-prog{position:fixed;top:0;left:0;height:2px;z-index:300;width:0%;
  background:linear-gradient(90deg,var(--c1),var(--c2),var(--c3));
  transition:width .3s;
}

/* Transition mode indicator pill */
#mode-pill{
  position:fixed;top:14px;right:55px;z-index:200;
  font-family:var(--FM);font-size:.48rem;letter-spacing:2px;
  background:rgba(0,229,255,.08);border:1px solid rgba(0,229,255,.2);
  color:rgba(0,229,255,.6);padding:4px 10px;border-radius:2px;
  transition:all .5s;pointer-events:none;text-transform:uppercase;
}
@media(max-width:400px){#mode-pill{font-size:.4rem;padding:3px 7px;right:48px}}

/* ═══════════════════════════════════════════════
   NAV DOTS
═══════════════════════════════════════════════ */
#nav{position:fixed;right:20px;top:50%;transform:translateY(-50%);z-index:200;display:flex;flex-direction:column;gap:12px}
.ndot{
  width:6px;height:6px;border-radius:50%;border:1px solid rgba(255,255,255,.2);
  background:transparent;cursor:pointer;padding:0;transition:all .3s;position:relative;
}
.ndot::after{
  content:attr(data-lbl);position:absolute;right:16px;top:50%;transform:translateY(-50%);
  font-family:var(--FM);font-size:.48rem;color:rgba(255,255,255,.35);white-space:nowrap;
  opacity:0;transition:opacity .3s;letter-spacing:1.5px;text-transform:uppercase;
}
.ndot:hover{border-color:var(--c1);transform:scale(1.8)}.ndot:hover::after{opacity:1}
.ndot.act{background:var(--c1);border-color:var(--c1);box-shadow:0 0 10px var(--c1)}
@media(max-width:600px){#nav,#mode-pill{display:none}}

/* ═══════════════════════════════════════════════
   TYPEWRITER / GLITCH (HERO)
═══════════════════════════════════════════════ */
.glitch-wrap{position:relative;display:inline-block}
.glitch-wrap::before,.glitch-wrap::after{
  content:attr(data-text);position:absolute;inset:0;
  background:var(--dark);overflow:hidden;
}
.glitch-wrap::before{left:-2px;text-shadow:-2px 0 #ff2d9b;animation:glitch1 5s infinite steps(1);clip-path:polygon(0 18%,100% 18%,100% 34%,0 34%)}
.glitch-wrap::after{left:2px;text-shadow:2px 0 #00e5ff;animation:glitch2 5s infinite steps(1);clip-path:polygon(0 60%,100% 60%,100% 74%,0 74%)}
@keyframes glitch1{0%,88%,100%{opacity:0}89%{opacity:1;transform:translateX(-3px) skewX(-4deg)}91%{opacity:0}93%{opacity:1;transform:translateX(2px)}95%{opacity:0}}
@keyframes glitch2{0%,88%,100%{opacity:0}90%{opacity:1;transform:translateX(3px) skewX(4deg)}92%{opacity:0}94%{opacity:1;transform:translateX(-2px)}96%{opacity:0}}
.typewriter{font-family:var(--FM);font-size:clamp(.55rem,2vw,.76rem);color:var(--c4);letter-spacing:2.5px;margin-top:8px;margin-bottom:12px;min-height:1.4em;text-align:center}
.typewriter::after{content:'▋';animation:blink .7s step-end infinite;color:var(--c1)}
@keyframes blink{50%{opacity:0}}
.avail-badge{display:inline-flex;align-items:center;gap:6px;font-family:var(--FM);font-size:.48rem;letter-spacing:2px;color:#00ff9d;border:1px solid rgba(0,255,157,.25);background:rgba(0,255,157,.06);padding:4px 10px;border-radius:2px;margin-bottom:12px}
.avail-dot{width:6px;height:6px;border-radius:50%;background:#00ff9d;animation:availPulse 2s ease-in-out infinite}
@keyframes availPulse{0%,100%{box-shadow:0 0 0 0 rgba(0,255,157,.5)}70%{box-shadow:0 0 0 6px transparent}}

/* ═══════════════════════════════════════════════
   SKILL TAGS
═══════════════════════════════════════════════ */
.skill-tags{display:flex;flex-wrap:wrap;gap:5px;margin-top:10px}
.stag{font-family:var(--FM);font-size:.46rem;letter-spacing:1px;border:1px solid rgba(0,229,255,.18);color:rgba(0,229,255,.65);padding:3px 7px;border-radius:2px;background:rgba(0,229,255,.04);opacity:0;transform:translateY(6px) scale(.92);transition:all .3s}
.stag:hover{border-color:var(--ac,var(--c1));color:var(--ac,var(--c1));background:rgba(0,229,255,.08);transform:translateY(-2px) scale(1.06)!important}
.sec-panel.vis .stag:nth-child(1){animation:tagPop .4s var(--ez) .7s forwards}
.sec-panel.vis .stag:nth-child(2){animation:tagPop .4s var(--ez) .78s forwards}
.sec-panel.vis .stag:nth-child(3){animation:tagPop .4s var(--ez) .86s forwards}
.sec-panel.vis .stag:nth-child(4){animation:tagPop .4s var(--ez) .94s forwards}
.sec-panel.vis .stag:nth-child(5){animation:tagPop .4s var(--ez) 1.02s forwards}
.sec-panel.vis .stag:nth-child(6){animation:tagPop .4s var(--ez) 1.1s forwards}
.sec-panel.vis .stag:nth-child(7){animation:tagPop .4s var(--ez) 1.18s forwards}
.sec-panel.vis .stag:nth-child(8){animation:tagPop .4s var(--ez) 1.26s forwards}
.sec-panel.vis .stag:nth-child(9){animation:tagPop .4s var(--ez) 1.34s forwards}
.sec-panel.vis .stag:nth-child(10){animation:tagPop .4s var(--ez) 1.42s forwards}
.sec-panel.vis .stag:nth-child(11){animation:tagPop .4s var(--ez) 1.5s forwards}
.sec-panel.vis .stag:nth-child(12){animation:tagPop .4s var(--ez) 1.58s forwards}
@keyframes tagPop{to{opacity:1;transform:none}}

/* ═══════════════════════════════════════════════
   TIMELINE
═══════════════════════════════════════════════ */
.timeline{display:flex;align-items:flex-start;gap:0;overflow-x:auto;padding:14px 0 6px;scrollbar-width:none;margin-top:10px;position:relative}
.timeline::-webkit-scrollbar{display:none}
.timeline::before{content:'';position:absolute;top:20px;left:0;right:0;height:1px;background:linear-gradient(90deg,transparent,rgba(0,229,255,.25),transparent)}
.tl-item{flex:0 0 auto;display:flex;flex-direction:column;align-items:center;min-width:76px;gap:5px;opacity:0;transform:translateY(8px)}
.sec-panel.vis .tl-item:nth-child(1){animation:statPop .4s var(--ez) .8s forwards}
.sec-panel.vis .tl-item:nth-child(2){animation:statPop .4s var(--ez) .95s forwards}
.sec-panel.vis .tl-item:nth-child(3){animation:statPop .4s var(--ez) 1.1s forwards}
.sec-panel.vis .tl-item:nth-child(4){animation:statPop .4s var(--ez) 1.25s forwards}
.sec-panel.vis .tl-item:nth-child(5){animation:statPop .4s var(--ez) 1.4s forwards}
.sec-panel.vis .tl-item:nth-child(6){animation:statPop .4s var(--ez) 1.55s forwards}
.tl-dot{width:9px;height:9px;border-radius:50%;border:2px solid var(--c1);background:var(--dark)}
.tl-dot.active{background:var(--c1);box-shadow:0 0 10px var(--c1)}
.tl-year{font-family:var(--FH);font-size:.48rem;color:var(--c1);letter-spacing:1px;margin-top:2px}
.tl-event{font-family:var(--FM);font-size:.4rem;color:rgba(255,255,255,.3);text-align:center;line-height:1.4}

/* ═══════════════════════════════════════════════
   PROFICIENCY BARS
═══════════════════════════════════════════════ */
.prof-bars{display:grid;grid-template-columns:1fr 1fr;gap:8px;margin-top:10px}
.prof-item{display:flex;flex-direction:column;gap:3px}
.prof-label{display:flex;justify-content:space-between}
.prof-name{font-family:var(--FM);font-size:.44rem;color:rgba(255,255,255,.5);letter-spacing:1px}
.prof-pct{font-family:var(--FH);font-size:.44rem;color:var(--ac,var(--c1))}
.prof-track{height:3px;background:rgba(255,255,255,.06);border-radius:2px;overflow:hidden}
.prof-fill{height:100%;border-radius:2px;background:linear-gradient(90deg,var(--ac,var(--c1)),var(--c2));width:0;transition:width 1.1s var(--ez) 0.8s}
.sec-panel.vis .prof-fill{width:var(--w)}

/* ═══════════════════════════════════════════════
   AGENT LOOP DIAGRAM
═══════════════════════════════════════════════ */
.agent-loop{display:flex;align-items:center;justify-content:center;gap:3px;margin:8px 0;flex-wrap:wrap}
.al-step{font-family:var(--FM);font-size:.44rem;letter-spacing:.5px;color:rgba(0,255,157,.7);border:1px solid rgba(0,255,157,.2);padding:3px 7px;border-radius:2px;opacity:0;transform:scale(.85)}
.al-arr{font-size:.5rem;color:rgba(0,255,157,.25);opacity:0}
.sec-panel.vis .al-step,.sec-panel.vis .al-arr{animation:tagPop .3s var(--ez) var(--d,0s) forwards}

/* ═══════════════════════════════════════════════
   RAG PIPELINE
═══════════════════════════════════════════════ */
.rag-pipe{display:flex;align-items:center;gap:2px;overflow-x:auto;padding:6px 0;scrollbar-width:none;margin:6px 0}
.rag-pipe::-webkit-scrollbar{display:none}
.rp-step{flex:0 0 auto;font-family:var(--FM);font-size:.4rem;letter-spacing:.5px;color:rgba(255,45,155,.7);border:1px solid rgba(255,45,155,.18);padding:3px 6px;border-radius:2px;opacity:0}
.rp-arr{flex-shrink:0;color:rgba(255,45,155,.25);font-size:.46rem;opacity:0}
.sec-panel.vis .rp-step,.sec-panel.vis .rp-arr{animation:tagPop .3s var(--ez) var(--d,0s) forwards}

/* ═══════════════════════════════════════════════
   KPI ROW
═══════════════════════════════════════════════ */
.kpi-row{display:grid;grid-template-columns:repeat(3,1fr);gap:7px;margin:8px 0}
.kpi{text-align:center;padding:9px 5px;border:1px solid rgba(0,255,157,.1);border-radius:4px;background:rgba(0,255,157,.03);opacity:0;transform:translateY(8px)}
.sec-panel.vis .kpi:nth-child(1){animation:statPop .4s var(--ez) .65s forwards}
.sec-panel.vis .kpi:nth-child(2){animation:statPop .4s var(--ez) .78s forwards}
.sec-panel.vis .kpi:nth-child(3){animation:statPop .4s var(--ez) .91s forwards}
.kpi-val{font-family:var(--FH);font-size:clamp(.8rem,3.5vw,1.2rem);font-weight:900;color:var(--ac,var(--c4));line-height:1}
.kpi-label{font-family:var(--FM);font-size:.4rem;color:rgba(255,255,255,.28);letter-spacing:1px;margin-top:3px}

/* ═══════════════════════════════════════════════
   BEFORE/AFTER
═══════════════════════════════════════════════ */
.ba-chip{display:flex;align-items:center;gap:7px;background:rgba(6,11,32,.9);border:1px solid rgba(255,255,255,.07);border-radius:4px;padding:8px 11px;margin:8px 0;font-family:var(--FM);font-size:.5rem;opacity:0;transition:opacity .5s .9s;flex-wrap:wrap}
.sec-panel.vis .ba-chip{opacity:1}
.ba-before{color:rgba(255,100,100,.7)}.ba-arr{color:rgba(255,255,255,.18)}.ba-after{color:var(--ac,var(--c4))}

/* ═══════════════════════════════════════════════
   WORKFLOW FLOW EXAMPLES
═══════════════════════════════════════════════ */
.flow-examples{display:flex;flex-direction:column;gap:5px;margin:8px 0}
.flow-ex{display:flex;align-items:center;gap:4px;flex-wrap:wrap;background:rgba(6,11,32,.8);border:1px solid rgba(255,123,0,.1);border-radius:3px;padding:6px 9px;opacity:0}
.sec-panel.vis .flow-ex:nth-child(1){animation:statPop .4s var(--ez) .75s forwards}
.sec-panel.vis .flow-ex:nth-child(2){animation:statPop .4s var(--ez) .9s forwards}
.sec-panel.vis .flow-ex:nth-child(3){animation:statPop .4s var(--ez) 1.05s forwards}
.fe-node{font-family:var(--FM);font-size:.42rem;color:rgba(255,123,0,.8);border:1px solid rgba(255,123,0,.18);padding:2px 5px;border-radius:2px;flex-shrink:0}
.fe-arr{color:rgba(255,123,0,.25);font-size:.46rem;flex-shrink:0}
.fe-result{margin-left:auto;font-family:var(--FH);font-size:.42rem;color:rgba(255,170,0,.75);flex-shrink:0;white-space:nowrap}

/* ═══════════════════════════════════════════════
   DRN FORMULA
═══════════════════════════════════════════════ */
.drn-formula{text-align:center;padding:9px;font-family:var(--FH);font-size:clamp(.75rem,3vw,1rem);letter-spacing:4px;border:1px solid rgba(180,0,255,.18);border-radius:4px;background:rgba(180,0,255,.04);margin:8px 0;opacity:0;transition:opacity .6s .95s}
.sec-panel.vis .drn-formula{opacity:1}
.drn-formula span{color:#b400ff}.drn-formula em{color:#ff2d9b;font-style:normal}

/* ═══════════════════════════════════════════════
   BACKEND ARCHITECTURE DIAGRAM
═══════════════════════════════════════════════ */
.arch-diagram{font-family:var(--FM);font-size:.42rem;letter-spacing:.5px;color:rgba(0,255,157,.45);border:1px solid rgba(0,255,157,.08);border-radius:4px;padding:9px;background:rgba(0,255,157,.02);line-height:1.9;margin:8px 0;opacity:0;transition:opacity .5s 1.0s;overflow-x:auto;white-space:nowrap}
.sec-panel.vis .arch-diagram{opacity:1}

/* ═══════════════════════════════════════════════
   TRUST SIGNALS
═══════════════════════════════════════════════ */
.trust-row{display:flex;flex-wrap:wrap;gap:5px;margin:8px 0}
.trust-item{font-family:var(--FM);font-size:.44rem;letter-spacing:1px;color:rgba(255,45,155,.7);border:1px solid rgba(255,45,155,.14);padding:3px 7px;border-radius:2px;opacity:0}
.sec-panel.vis .trust-item:nth-child(1){animation:tagPop .4s var(--ez) .9s forwards}
.sec-panel.vis .trust-item:nth-child(2){animation:tagPop .4s var(--ez) 1.05s forwards}
.sec-panel.vis .trust-item:nth-child(3){animation:tagPop .4s var(--ez) 1.2s forwards}
.sec-panel.vis .trust-item:nth-child(4){animation:tagPop .4s var(--ez) 1.35s forwards}

/* ═══════════════════════════════════════════════
   CONTACT ENHANCEMENTS
═══════════════════════════════════════════════ */
.contact-status{display:flex;align-items:center;gap:8px;margin-bottom:10px;font-family:var(--FM);font-size:.48rem;letter-spacing:1.5px;opacity:0;transition:opacity .5s .5s}
.sec-panel.vis .contact-status{opacity:1}
.cs-dot{width:7px;height:7px;border-radius:50%;background:#00ff9d;flex-shrink:0;animation:availPulse 2s ease-in-out infinite}
.cs-text{color:#00ff9d}.cs-sep{color:rgba(255,255,255,.12)}.cs-tz{color:rgba(255,255,255,.28)}
#live-clock{font-family:var(--FH);font-size:.55rem;color:var(--c1);letter-spacing:2px}
.next-steps{display:flex;flex-direction:column;gap:5px;margin:10px 0}
.ns-step{display:flex;align-items:center;gap:9px;font-family:var(--FM);font-size:.5rem;color:rgba(200,220,200,.55);opacity:0}
.sec-panel.vis .ns-step:nth-child(1){animation:statPop .4s var(--ez) .95s forwards}
.sec-panel.vis .ns-step:nth-child(2){animation:statPop .4s var(--ez) 1.1s forwards}
.sec-panel.vis .ns-step:nth-child(3){animation:statPop .4s var(--ez) 1.25s forwards}
.ns-num{width:18px;height:18px;border-radius:50%;border:1px solid rgba(0,255,157,.28);display:flex;align-items:center;justify-content:center;font-family:var(--FH);font-size:.44rem;color:#00ff9d;flex-shrink:0}
.ns-label{color:rgba(0,255,157,.75)}.ns-sub{color:rgba(255,255,255,.25);font-size:.42rem}

/* ═══════════════════════════════════════════════
   FAQ ENHANCEMENTS
═══════════════════════════════════════════════ */
.faq-tag{font-size:.4rem;font-family:var(--FM);letter-spacing:.5px;border:1px solid rgba(0,229,255,.18);color:rgba(0,229,255,.45);padding:1px 5px;border-radius:2px;margin-left:5px;flex-shrink:0}
.faq-item.on{border-left:2px solid var(--ac,var(--c1));padding-left:8px;margin-left:-10px;transition:all .3s}
.faq-item.on .faq-q{color:var(--ac,var(--c1))}
.faq-cta{margin-top:12px;text-align:center;font-family:var(--FM);font-size:.48rem;color:rgba(255,255,255,.28);letter-spacing:1.5px;opacity:0;transition:opacity .5s 2.0s}
.sec-panel.vis .faq-cta{opacity:1}
.faq-cta a{color:var(--c4);border-bottom:1px solid rgba(0,255,157,.18);transition:color .3s}
.faq-cta a:hover{color:var(--c1)}

/* ═══════════════════════════════════════════════
   RESULT CHIP / CC-RESULT
═══════════════════════════════════════════════ */
.cc-result{font-family:var(--FM);font-size:.42rem;color:rgba(255,255,255,.28);margin-top:4px;letter-spacing:.4px;line-height:1.4}
.cc-result strong{color:var(--ac,var(--c1))}
.perf-chip{display:flex;gap:6px;flex-wrap:wrap;margin-top:8px}
.pc{font-family:var(--FM);font-size:.44rem;color:rgba(79,70,255,.8);border:1px solid rgba(79,70,255,.2);padding:2px 7px;border-radius:2px;opacity:0;transition:opacity .4s var(--d,0s)}
.sec-panel.vis .pc{opacity:1}

/* ═══════════════════════════════════════════════
   *** THE 3D SCROLL ENGINE ***
═══════════════════════════════════════════════ */

/* Outer clip */
#stage-clip{
  position:fixed;inset:0;overflow:hidden;z-index:1;
  perspective:1400px;perspective-origin:50% 50%;
}

/* The 3D world that moves */
#stage{
  position:absolute;
  width:100vw;height:100vh;
  transform-style:preserve-3d;
}

/* Each section is a panel in 3D space */
.sec-panel{
  position:absolute;
  width:100vw;height:100vh;
  display:flex;align-items:flex-start;justify-content:center;
  /* Mobile: scrollable within panel for overflow content */
  overflow-x:hidden;
  overflow-y:auto;
  -webkit-overflow-scrolling:touch;
  padding:clamp(52px,8vh,80px) clamp(12px,4vw,32px) clamp(60px,8vh,80px);
  backface-visibility:hidden;
  will-change:transform,opacity;
}
/* Prevent inner scroll from triggering section nav on mobile */
.sec-panel::-webkit-scrollbar{display:none}
.sec-panel{scrollbar-width:none}

/* BG pattern per section */
.sec-bg{position:absolute;inset:0;pointer-events:none;overflow:hidden}
.sec-bg-grid{
  position:absolute;inset:0;
  background-image:linear-gradient(rgba(0,229,255,.025) 1px,transparent 1px),
    linear-gradient(90deg,rgba(0,229,255,.025) 1px,transparent 1px);
  background-size:80px 80px;animation:gridDrift 25s linear infinite;
}
@keyframes gridDrift{to{background-position:80px 80px}}
.orb{position:absolute;border-radius:50%;filter:blur(60px);pointer-events:none;animation:orbFloat 8s ease-in-out infinite}
@keyframes orbFloat{0%,100%{transform:translateY(0) scale(1)}50%{transform:translateY(-20px) scale(1.04)}}

/* ═══════════════════════════════════════════════
   SECTION CONTENT REVEAL ANIMATION
═══════════════════════════════════════════════ */
.sec-inner{
  position:relative;width:100%;max-width:900px;z-index:2;
  opacity:0;
  transform:perspective(1200px) translateZ(-200px) rotateX(5deg);
  transition:opacity .6s var(--ez),transform .6s var(--ez);
}
/* vis applied immediately on mobile — content visible from start */
.sec-panel.vis .sec-inner{opacity:1;transform:perspective(1200px) translateZ(0) rotateX(0)}

.ghost-head{
  position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);
  font-family:var(--FH);font-size:clamp(2.5rem,14vw,10rem);font-weight:900;
  white-space:nowrap;letter-spacing:.05em;
  -webkit-text-stroke:1px rgba(255,255,255,.03);color:transparent;
  pointer-events:none;user-select:none;z-index:0;
  opacity:0;transition:opacity .7s .3s;
}
.sec-panel.vis .ghost-head{opacity:1}

/* ═══════════════════════════════════════════════
   GLASS CARDS — MOBILE FIRST
═══════════════════════════════════════════════ */
.glass{
  background:var(--glass);backdrop-filter:blur(20px);
  border:1px solid rgba(255,255,255,.07);border-radius:6px;
  padding:clamp(14px,3vw,46px) clamp(14px,3vw,50px);
  position:relative;overflow:hidden;
  width:100%;
}
.glass::before{
  content:'';position:absolute;inset:0;border-radius:6px;padding:1px;
  background:linear-gradient(135deg,rgba(0,229,255,.25),transparent 50%,rgba(180,0,255,.15));
  -webkit-mask:linear-gradient(#fff 0 0) content-box,linear-gradient(#fff 0 0);
  -webkit-mask-composite:xor;mask-composite:exclude;pointer-events:none;
  opacity:0;transition:opacity .6s 1s;
}
.sec-panel.vis .glass::before{opacity:1}
.glass::after{
  content:'';position:absolute;top:0;left:-150%;width:60%;height:100%;
  background:linear-gradient(90deg,transparent,rgba(255,255,255,.022),transparent);
  animation:shimmer 9s ease-in-out infinite;pointer-events:none;
}
@keyframes shimmer{0%,100%{left:-150%}50%{left:200%}}

.corner{position:absolute;width:14px;height:14px;border-color:var(--ac,var(--c1));border-style:solid;
  opacity:0;transition:opacity .4s 1.1s;}
.sec-panel.vis .corner{opacity:.8}
.c-tl{top:0;left:0;border-width:2px 0 0 2px}.c-tr{top:0;right:0;border-width:2px 2px 0 0}
.c-bl{bottom:0;left:0;border-width:0 0 2px 2px}.c-br{bottom:0;right:0;border-width:0 2px 2px 0}

/* ═══════════════════════════════════════════════
   TYPOGRAPHY — MOBILE FIRST
═══════════════════════════════════════════════ */
.sec-label{
  font-family:var(--FM);font-size:.55rem;letter-spacing:4px;
  color:var(--ac,var(--c1));text-transform:uppercase;margin-bottom:6px;
  opacity:0;transform:translateX(-16px);transition:opacity .5s .3s,transform .5s .3s;
  display:flex;align-items:center;gap:8px;
}
.sec-label::before{content:'';flex:0 0 14px;height:1px;background:var(--ac,var(--c1))}
.sec-panel.vis .sec-label{opacity:1;transform:none}
.sec-title{
  font-family:var(--FH);font-size:clamp(1rem,5vw,2rem);font-weight:700;
  letter-spacing:2px;margin-bottom:4px;line-height:1.2;color:var(--ac,var(--c1));
  opacity:0;transform:translateY(12px);transition:opacity .5s .4s,transform .5s .4s;
}
.sec-panel.vis .sec-title{opacity:1;transform:none}
.sec-rule{width:0;height:1px;background:linear-gradient(90deg,var(--ac,var(--c1)),transparent);
  margin-bottom:14px;transition:width .7s var(--ez) .5s;}
.sec-panel.vis .sec-rule{width:100%;max-width:280px}
.sec-desc{
  font-size:clamp(.78rem,2.5vw,.9rem);font-weight:300;color:rgba(200,210,230,.75);
  line-height:1.7;margin-bottom:16px;
  opacity:0;transition:opacity .5s .5s;
}
.sec-panel.vis .sec-desc{opacity:1}

/* ═══════════════════════════════════════════════
   STATS — 3 COLUMNS ON ALL SCREENS
═══════════════════════════════════════════════ */
.stats{display:grid;grid-template-columns:repeat(3,1fr);gap:8px;margin-bottom:14px}
.stat-box{
  border:1px solid rgba(255,255,255,.07);border-radius:4px;padding:10px 6px;text-align:center;
  background:rgba(0,229,255,.03);
  opacity:0;transform:translateY(12px);
}
.sec-panel.vis .stat-box:nth-child(1){animation:statPop .5s var(--ez) .6s forwards}
.sec-panel.vis .stat-box:nth-child(2){animation:statPop .5s var(--ez) .72s forwards}
.sec-panel.vis .stat-box:nth-child(3){animation:statPop .5s var(--ez) .84s forwards}
@keyframes statPop{to{opacity:1;transform:none}}
.stat-box:hover{border-color:var(--ac,var(--c1));transform:translateY(-3px)!important}
.stat-n{font-family:var(--FH);font-size:clamp(1.1rem,5vw,2rem);font-weight:900;color:var(--ac,var(--c1));line-height:1;margin-bottom:3px}
.stat-l{font-family:var(--FM);font-size:.48rem;color:rgba(255,255,255,.35);letter-spacing:1.5px;text-transform:uppercase}

/* ═══════════════════════════════════════════════
   CUBE CARD GRID — MOBILE: 2 COLS, COMPACT
═══════════════════════════════════════════════ */
.cube-grid{
  display:grid;
  grid-template-columns:repeat(2,1fr);
  gap:8px;
}
@media(min-width:600px){
  .cube-grid{grid-template-columns:repeat(auto-fit,minmax(160px,1fr));gap:12px}
}
.cube-card{
  position:relative;border-radius:4px;padding:12px;overflow:hidden;
  background:rgba(6,11,32,.9);border:1px solid rgba(255,255,255,.06);
  opacity:0;transform:perspective(600px) rotateY(10deg) translateX(16px);
  transition:transform .3s,border-color .3s,background .3s;
}
.cube-card:active{border-color:var(--ac,var(--c1));background:rgba(0,229,255,.05)}
@media(hover:hover){
  .cube-card:hover{border-color:var(--ac,var(--c1));background:rgba(0,229,255,.05);transform:perspective(600px) rotateY(0) translateY(-4px)!important}
}
.cube-card::before{content:'';position:absolute;top:0;left:0;right:0;height:1px;background:linear-gradient(90deg,transparent,var(--ac,var(--c1)),transparent);opacity:0;transition:opacity .3s}
.cube-card:hover::before{opacity:1}
.sec-panel.vis .cube-card:nth-child(1){animation:cubeIn .55s var(--ez) .6s forwards}
.sec-panel.vis .cube-card:nth-child(2){animation:cubeIn .55s var(--ez) .72s forwards}
.sec-panel.vis .cube-card:nth-child(3){animation:cubeIn .55s var(--ez) .84s forwards}
.sec-panel.vis .cube-card:nth-child(4){animation:cubeIn .55s var(--ez) .96s forwards}
@keyframes cubeIn{to{opacity:1;transform:perspective(600px) rotateY(0) translateX(0)}}
.cc-icon{width:26px;height:26px;margin-bottom:8px}
.cc-title{font-family:var(--FH);font-size:.58rem;font-weight:700;color:var(--ac,var(--c1));letter-spacing:1px;margin-bottom:4px;text-transform:uppercase}
.cc-desc{font-size:.72rem;font-weight:300;color:rgba(180,195,220,.7);line-height:1.5}

/* ═══════════════════════════════════════════════
   PACKAGES — MOBILE: 1 COL SCROLL OR CONDENSED
═══════════════════════════════════════════════ */
.pkg-grid{
  display:grid;
  grid-template-columns:1fr;
  gap:8px;margin-top:6px;
}
@media(min-width:500px){
  .pkg-grid{grid-template-columns:repeat(3,1fr)}
}
.pkg{
  background:rgba(6,11,32,.92);border:1px solid rgba(255,255,255,.08);border-radius:5px;
  padding:14px 14px;text-align:center;
  opacity:0;transform:perspective(500px) rotateY(-10deg);
  transition:transform .3s,border-color .3s;position:relative;overflow:hidden;
}
.pkg::before{content:'';position:absolute;top:0;left:50%;transform:translateX(-50%);width:40%;height:1px;background:var(--ac,var(--c3));transition:width .4s}
.pkg:hover::before,.pkg:active::before{width:90%}
.pkg:hover,.pkg:active{transform:translateY(-6px) scale(1.01)!important;border-color:var(--ac,var(--c3))}
.pkg.feat{border-color:var(--c3);background:rgba(255,45,155,.04)}
.sec-panel.vis .pkg:nth-child(1){animation:cubeIn .55s var(--ez) .6s forwards}
.sec-panel.vis .pkg:nth-child(2){animation:cubeIn .55s var(--ez) .75s forwards}
.sec-panel.vis .pkg:nth-child(3){animation:cubeIn .55s var(--ez) .9s forwards}
.pkg-tier{font-family:var(--FM);font-size:.48rem;letter-spacing:3px;color:var(--ac,var(--c3));text-transform:uppercase;margin-bottom:2px}
.pkg-name{font-family:var(--FH);font-size:.8rem;font-weight:900;color:#fff;letter-spacing:2px;margin-bottom:2px}
.pkg-sub{font-size:.68rem;color:rgba(255,255,255,.3);margin-bottom:10px;font-family:var(--FM)}
.pkg-list{list-style:none;margin-bottom:12px;text-align:left}
.pkg-list li{font-size:.72rem;color:rgba(200,210,230,.65);padding:3px 0;border-bottom:1px solid rgba(255,255,255,.04);display:flex;align-items:center;gap:6px}
.pkg-list li::before{content:'';width:3px;height:3px;border-radius:50%;background:var(--ac,var(--c3));flex-shrink:0}
.pkg-btn{display:inline-block;padding:7px 14px;border:1px solid var(--ac,var(--c3));color:var(--ac,var(--c3));font-family:var(--FH);font-size:.52rem;font-weight:700;letter-spacing:1.5px;text-transform:uppercase;border-radius:3px;transition:all .3s;cursor:pointer}
.pkg-btn:hover,.pkg-btn:active{background:var(--ac,var(--c3));color:#000}

/* ═══════════════════════════════════════════════
   FAQ
═══════════════════════════════════════════════ */
.faq-item{border-bottom:1px solid rgba(255,255,255,.06);cursor:pointer;opacity:0}
.faq-item.on .faq-a{max-height:180px;padding-bottom:12px}
.faq-item.on .fq-arr{transform:rotate(180deg)}
.sec-panel.vis .faq-item:nth-child(1){animation:statPop .4s var(--ez) .55s forwards}
.sec-panel.vis .faq-item:nth-child(2){animation:statPop .4s var(--ez) .67s forwards}
.sec-panel.vis .faq-item:nth-child(3){animation:statPop .4s var(--ez) .79s forwards}
.sec-panel.vis .faq-item:nth-child(4){animation:statPop .4s var(--ez) .91s forwards}
.sec-panel.vis .faq-item:nth-child(5){animation:statPop .4s var(--ez) 1.03s forwards}
.faq-q{font-family:var(--FH);font-size:clamp(.6rem,2.5vw,.72rem);font-weight:700;color:var(--c1);padding:12px 0;display:flex;justify-content:space-between;align-items:center;letter-spacing:.5px}
.fq-arr{transition:transform .3s;flex-shrink:0;width:12px;height:12px}
.faq-a{font-size:.78rem;color:rgba(190,205,225,.7);line-height:1.7;max-height:0;overflow:hidden;transition:max-height .4s var(--ez),padding .4s var(--ez)}

/* ═══════════════════════════════════════════════
   CONTACT
═══════════════════════════════════════════════ */
.contact-cards{display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-bottom:14px}
@media(min-width:500px){.contact-cards{grid-template-columns:repeat(3,1fr)}}
.ccard{
  background:rgba(6,11,32,.8);border:1px solid rgba(0,255,157,.14);border-radius:4px;
  padding:14px 12px;text-align:center;
  opacity:0;transform:translateY(16px);transition:border-color .3s,background .3s,transform .3s;
}
.ccard:hover,.ccard:active{border-color:var(--c4);background:rgba(0,255,157,.04);transform:translateY(-4px)!important}
.sec-panel.vis .ccard:nth-child(1){animation:statPop .5s var(--ez) .55s forwards}
.sec-panel.vis .ccard:nth-child(2){animation:statPop .5s var(--ez) .68s forwards}
.sec-panel.vis .ccard:nth-child(3){animation:statPop .5s var(--ez) .81s forwards}
.ccard-icon{width:36px;height:36px;margin:0 auto 8px}
.ccard-label{font-family:var(--FM);font-size:.5rem;color:var(--c4);letter-spacing:2px;text-transform:uppercase;margin-bottom:4px}
.ccard-val{font-size:.75rem;color:#fff;line-height:1.5}
.ccard-val a{display:block;transition:color .3s}.ccard-val a:hover{color:var(--c4)}
.socials{display:flex;gap:8px;justify-content:center;flex-wrap:wrap;margin-top:10px;opacity:0}
.sec-panel.vis .socials{animation:statPop .5s var(--ez) 1.0s forwards}
.slink{width:40px;height:40px;display:flex;align-items:center;justify-content:center;border:1px solid rgba(0,255,157,.22);border-radius:3px;background:rgba(6,11,32,.8);transition:all .3s}
.slink:hover,.slink:active{border-color:var(--c4);background:rgba(0,255,157,.08);transform:translateY(-3px) scale(1.08)}
.ssvg{width:18px;height:18px}
.li-btn{display:inline-flex;align-items:center;gap:7px;padding:8px 16px;border:1px solid rgba(79,70,255,.35);border-radius:3px;font-family:var(--FH);font-size:.54rem;color:var(--c6);letter-spacing:1px;transition:all .3s;margin-top:8px}
.li-btn:hover,.li-btn:active{border-color:var(--c6);background:rgba(79,70,255,.1)}

/* ═══════════════════════════════════════════════
   HERO
═══════════════════════════════════════════════ */
.hero-inner{z-index:2;position:relative;text-align:center;
  opacity:0;animation:heroRise 1.2s var(--ez) .5s forwards;
  padding:0 12px;}
@keyframes heroRise{0%{opacity:0;transform:perspective(1200px) translateZ(-400px) scale(.75)}100%{opacity:1;transform:perspective(1200px) translateZ(0) scale(1)}}
.hero-eyebrow{font-family:var(--FM);font-size:.55rem;letter-spacing:5px;color:rgba(0,229,255,.5);text-transform:uppercase;margin-bottom:12px;display:flex;align-items:center;justify-content:center;gap:10px}
.hero-eyebrow::before,.hero-eyebrow::after{content:'';flex:0 0 22px;height:1px;background:rgba(0,229,255,.3)}
.hero-name{
  font-family:var(--FH);font-size:clamp(2.2rem,13vw,7.5rem);font-weight:900;
  line-height:.9;letter-spacing:.04em;
  background:linear-gradient(135deg,var(--c1) 0%,var(--c2) 50%,var(--c3) 100%);
  -webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;
  filter:drop-shadow(0 0 30px rgba(0,229,255,.2));
}
.hero-name-sub{font-family:var(--FH);font-size:clamp(.75rem,3.5vw,1.9rem);font-weight:400;
  color:rgba(255,255,255,.55);letter-spacing:6px;margin-top:4px;text-transform:uppercase;}
.hero-tagline{font-family:var(--FM);font-size:clamp(.55rem,2vw,.78rem);color:var(--c4);letter-spacing:2px;margin-top:12px;margin-bottom:18px;opacity:.8;line-height:1.8}
/* Hero buttons — 3 per row on mobile, wrap cleanly */
.hero-btns{
  display:grid;
  grid-template-columns:repeat(3,1fr);
  gap:6px;max-width:360px;margin:0 auto;
  opacity:0;animation:heroRise 1.1s var(--ez) 1.0s forwards;
}
@media(max-width:340px){.hero-btns{grid-template-columns:repeat(2,1fr)}}
.hbtn{
  font-family:var(--FH);font-size:.48rem;font-weight:700;letter-spacing:1px;
  padding:7px 4px;border-radius:3px;text-transform:uppercase;cursor:pointer;
  background:transparent;border:1px solid rgba(0,229,255,.22);color:var(--c1);
  transition:all .3s;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;
}
.hbtn:hover,.hbtn:active{border-color:var(--c1);box-shadow:0 0 14px rgba(0,229,255,.12);background:rgba(0,229,255,.06)}
.scroll-hint{position:absolute;bottom:70px;left:50%;transform:translateX(-50%);opacity:0;animation:heroRise 1s var(--ez) 1.8s forwards;display:flex;flex-direction:column;align-items:center;gap:4px}
.sh-text{font-family:var(--FM);font-size:.5rem;color:rgba(255,255,255,.18);letter-spacing:3px}
.sh-line{width:1px;height:24px;background:linear-gradient(to bottom,rgba(0,229,255,.5),transparent);animation:shPulse 2s ease-in-out infinite}
@keyframes shPulse{0%,100%{opacity:.4}50%{opacity:1}}

/* Neural BG */
#neural-display{
  position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);
  width:min(480px,90vw);height:min(480px,90vw);
  pointer-events:none;z-index:0;opacity:0;transition:opacity 1s .5s;
}
.sec-panel.vis #neural-display{opacity:.3}
#neural-display canvas{position:absolute;inset:0;width:100%!important;height:100%!important}

/* ═══════════════════════════════════════════════
   LOADING SCREEN
═══════════════════════════════════════════════ */
#loader{
  position:fixed;inset:0;z-index:9999;background:var(--dark);
  display:flex;flex-direction:column;align-items:center;justify-content:center;
  transition:opacity 1.2s,transform 1.2s;
}
#loader.out{opacity:0;transform:scale(1.06);pointer-events:none}
.ld-stage{position:absolute;inset:0;display:flex;flex-direction:column;align-items:center;justify-content:center;opacity:0;transition:opacity .5s}
.ld-stage.on{opacity:1}

/* 3D CSS Cube */
.ld-cube-wrap{position:relative;width:140px;height:140px;perspective:380px;margin-bottom:38px}
.ld-cube{width:100%;height:100%;position:relative;transform-style:preserve-3d;animation:ldSpin 3s linear infinite}
@keyframes ldSpin{to{transform:rotateX(360deg) rotateY(360deg)}}
.ld-face{position:absolute;width:140px;height:140px;border:1px solid rgba(0,229,255,.35);background:rgba(0,229,255,.04);display:flex;align-items:center;justify-content:center;font-family:var(--FM);font-size:.55rem;color:rgba(0,229,255,.55);letter-spacing:2px}
.ld-face::before{content:'';position:absolute;inset:5px;border:1px solid rgba(0,229,255,.12)}
.f-front{transform:translateZ(70px)}.f-back{transform:translateZ(-70px) rotateY(180deg)}
.f-left{transform:rotateY(-90deg) translateZ(70px)}.f-right{transform:rotateY(90deg) translateZ(70px)}
.f-top{transform:rotateX(90deg) translateZ(70px)}.f-bot{transform:rotateX(-90deg) translateZ(70px)}
.ld-text{font-family:var(--FH);font-size:clamp(1.4rem,5vw,3rem);font-weight:900;letter-spacing:6px;
  background:linear-gradient(90deg,var(--c1),var(--c2),var(--c3));
  -webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;
  background-size:200%;animation:gradShift 2s linear infinite;}
@keyframes gradShift{to{background-position:200% 0}}
.ld-sub{font-family:var(--FM);font-size:.65rem;color:rgba(0,229,255,.45);letter-spacing:4px;margin-top:10px;text-transform:uppercase}
#ld-neural{position:relative;width:300px;height:200px}
#ld-neural-canvas{position:absolute;inset:0}
.sys-lines{font-family:var(--FM);font-size:.7rem;color:var(--c1);text-align:left;width:360px;max-width:88vw}
.sys-line{opacity:0;padding:3px 0;animation:sysIn .3s ease forwards}
@keyframes sysIn{to{opacity:1}}
.sys-ok{color:var(--c4)}
.ld-progress{position:absolute;bottom:44px;left:50%;transform:translateX(-50%);width:240px;text-align:center}
.ld-bar-track{width:100%;height:1px;background:rgba(255,255,255,.06);position:relative;margin-bottom:8px}
.ld-bar-fill{height:100%;background:linear-gradient(90deg,var(--c1),var(--c2));width:0;transition:width 1.4s linear;position:relative}
.ld-bar-fill::after{content:'';position:absolute;right:-1px;top:-2px;width:4px;height:4px;border-radius:50%;background:var(--c1);box-shadow:0 0 7px var(--c1)}
.ld-pct{font-family:var(--FM);font-size:.6rem;color:rgba(255,255,255,.25);letter-spacing:3px}

/* ═══════════════════════════════════════════════
   RESPONSIVE SCROLL ARROWS (mobile) — small, semi-transparent
═══════════════════════════════════════════════ */
#mobile-arrows{
  position:fixed;bottom:12px;right:12px;
  display:none;flex-direction:column;gap:6px;z-index:200;
}
@media(max-width:600px){#mobile-arrows{display:flex}}
.marrow{
  background:rgba(0,229,255,.08);border:1px solid rgba(0,229,255,.2);
  color:var(--c1);width:36px;height:36px;border-radius:3px;
  display:flex;align-items:center;justify-content:center;
  font-size:.85rem;cursor:pointer;transition:all .25s;
  touch-action:manipulation;-webkit-tap-highlight-color:transparent;
}
.marrow:active{background:rgba(0,229,255,.22);transform:scale(.9)}

/* ═══════════════════════════════════════════════
   SECTION DROPDOWNS
═══════════════════════════════════════════════ */
.sec-drops{margin-top:14px;display:flex;flex-direction:column;gap:6px}
.sec-drop{
  border:1px solid rgba(255,255,255,.07);border-radius:4px;
  background:rgba(4,8,24,.7);overflow:hidden;
}
.sec-drop:hover{border-color:rgba(var(--ac-rgb,0,229,255),.22)}
.drop-hd{
  display:flex;align-items:center;gap:10px;
  padding:9px 12px;cursor:pointer;
  font-family:var(--FM);font-size:.5rem;letter-spacing:1.5px;
  color:rgba(255,255,255,.55);text-transform:uppercase;
  user-select:none;-webkit-tap-highlight-color:transparent;
  transition:color .25s,background .25s;
}
.drop-hd:hover,.drop-hd:active{color:#fff;background:rgba(255,255,255,.03)}
.drop-hd.open{color:var(--ac,var(--c1))}
.drop-icon{font-size:.8rem;opacity:.6;flex-shrink:0}
.drop-title{flex:1}
.drop-chevron{
  width:16px;height:16px;flex-shrink:0;
  border-right:1.5px solid currentColor;border-bottom:1.5px solid currentColor;
  transform:rotate(45deg);transition:transform .3s var(--ez);
  margin-top:-3px;opacity:.5;
}
.drop-hd.open .drop-chevron{transform:rotate(-135deg);margin-top:3px;opacity:1}
.drop-bd{
  max-height:0;overflow:hidden;
  transition:max-height .45s var(--ez),padding .3s;
  padding:0 12px;
}
.drop-bd.open{max-height:1200px;padding:0 12px 12px}
.drop-inner{border-top:1px solid rgba(255,255,255,.06);padding-top:10px}

/* Drop list */
.dlist{display:flex;flex-direction:column;gap:5px}
.dlist-item{
  display:flex;align-items:flex-start;gap:8px;
  font-size:.7rem;font-weight:300;color:rgba(200,215,235,.65);line-height:1.5;
}
.dlist-item::before{
  content:attr(data-n);flex-shrink:0;width:16px;height:16px;
  border:1px solid rgba(var(--ac-rgb,0,229,255),.3);border-radius:2px;
  font-family:var(--FM);font-size:.42rem;color:var(--ac,var(--c1));
  display:flex;align-items:center;justify-content:center;margin-top:2px;
}
.dlist-item strong{color:var(--ac,var(--c1))}

/* Drop sub-grid (2 col mini cards) */
.d-subgrid{display:grid;grid-template-columns:repeat(2,1fr);gap:6px}
@media(min-width:500px){.d-subgrid{grid-template-columns:repeat(3,1fr)}}
.d-subcard{
  border:1px solid rgba(255,255,255,.06);border-radius:3px;
  padding:8px;background:rgba(4,8,24,.6);
  font-family:var(--FM);
}
.d-subcard-title{font-size:.46rem;color:var(--ac,var(--c1));letter-spacing:1px;margin-bottom:3px;text-transform:uppercase}
.d-subcard-val{font-size:.62rem;color:rgba(200,215,235,.55);line-height:1.4}

/* Drop comparison table */
.d-table{width:100%;border-collapse:collapse}
.d-table th,.d-table td{
  padding:5px 8px;font-family:var(--FM);font-size:.46rem;
  border-bottom:1px solid rgba(255,255,255,.05);text-align:left;
}
.d-table th{color:var(--ac,var(--c1));letter-spacing:1px}
.d-table td{color:rgba(200,215,235,.55)}
.d-table tr:last-child td{border-bottom:none}
.d-table td.good{color:var(--c4)}
.d-table td.ok{color:var(--c5)}
.d-table td.bad{color:rgba(255,100,100,.7)}

/* Drop code block */
.d-code{
  background:rgba(2,5,15,.9);border:1px solid rgba(0,229,255,.1);
  border-radius:3px;padding:8px 10px;
  font-family:var(--FM);font-size:.48rem;
  color:rgba(0,229,255,.65);line-height:1.7;overflow-x:auto;
  white-space:pre;
}
.d-code .k{color:#b400ff}.d-code .s{color:#ff2d9b}
.d-code .c{color:rgba(255,255,255,.25)}

/* Drop checklist */
.d-check{display:flex;flex-direction:column;gap:4px}
.d-check-item{
  display:flex;align-items:center;gap:8px;
  font-family:var(--FM);font-size:.48rem;color:rgba(200,215,235,.55);
}
.d-check-item::before{
  content:'✓';flex-shrink:0;width:14px;height:14px;
  background:rgba(0,255,157,.1);border:1px solid rgba(0,255,157,.3);
  border-radius:2px;color:#00ff9d;font-size:.4rem;
  display:flex;align-items:center;justify-content:center;
}
.d-check-item.warn::before{content:'⚠';background:rgba(255,123,0,.1);border-color:rgba(255,123,0,.3);color:#ff7b00}

/* Drop badge row */
.d-badges{display:flex;flex-wrap:wrap;gap:5px}
.d-badge{
  font-family:var(--FM);font-size:.44rem;letter-spacing:.8px;
  padding:3px 8px;border-radius:2px;
  border:1px solid rgba(var(--ac-rgb,0,229,255),.2);
  color:rgba(var(--ac-rgb,0,229,255),1);
  background:rgba(var(--ac-rgb,0,229,255),.06);
}
/* colors for badge variants */
.d-badge.green{--ac-rgb:0,255,157;border-color:rgba(0,255,157,.2);color:rgba(0,255,157,.8);background:rgba(0,255,157,.05)}
.d-badge.pink{--ac-rgb:255,45,155;border-color:rgba(255,45,155,.2);color:rgba(255,45,155,.8);background:rgba(255,45,155,.05)}
.d-badge.purple{--ac-rgb:180,0,255;border-color:rgba(180,0,255,.2);color:rgba(180,0,255,.8);background:rgba(180,0,255,.05)}
.d-badge.orange{--ac-rgb:255,123,0;border-color:rgba(255,123,0,.2);color:rgba(255,123,0,.8);background:rgba(255,123,0,.05)}
.d-badge.indigo{--ac-rgb:79,70,255;border-color:rgba(79,70,255,.2);color:rgba(79,70,255,.8);background:rgba(79,70,255,.05)}

/* Drop metric row */
.d-metrics{display:grid;grid-template-columns:repeat(3,1fr);gap:6px}
.d-metric{text-align:center;padding:7px 4px;border:1px solid rgba(255,255,255,.06);border-radius:3px}
.d-metric-val{font-family:var(--FH);font-size:clamp(.7rem,3vw,1rem);color:var(--ac,var(--c1));line-height:1}
.d-metric-lbl{font-family:var(--FM);font-size:.38rem;color:rgba(255,255,255,.28);letter-spacing:1px;margin-top:2px}

/* Drop phase timeline */
.d-phases{display:flex;flex-direction:column;gap:6px}
.d-phase{
  display:grid;grid-template-columns:auto 1fr;gap:0 10px;
  align-items:start;
}
.d-phase-num{
  width:20px;height:20px;border-radius:50%;
  border:1px solid var(--ac,var(--c1));
  font-family:var(--FH);font-size:.44rem;color:var(--ac,var(--c1));
  display:flex;align-items:center;justify-content:center;
  flex-shrink:0;margin-top:1px;
}
.d-phase-content{}
.d-phase-name{font-family:var(--FM);font-size:.48rem;color:rgba(255,255,255,.7);letter-spacing:1px}
.d-phase-desc{font-size:.66rem;color:rgba(180,200,225,.45);line-height:1.4;margin-top:2px}

/* ═══════════════════════════════════════════════
   INDEX TABLE OVERLAY
═══════════════════════════════════════════════ */
#idx-btn{
  position:fixed;bottom:14px;left:14px;z-index:500;
  font-family:var(--FM);font-size:.48rem;letter-spacing:2px;
  background:rgba(0,229,255,.07);border:1px solid rgba(0,229,255,.22);
  color:rgba(0,229,255,.7);padding:6px 12px;border-radius:3px;
  cursor:pointer;transition:all .25s;
  display:flex;align-items:center;gap:6px;
  -webkit-tap-highlight-color:transparent;
}
#idx-btn:hover,#idx-btn:active{background:rgba(0,229,255,.14);color:#fff;border-color:rgba(0,229,255,.5)}
#idx-btn svg{width:12px;height:12px;flex-shrink:0}

#idx-overlay{
  position:fixed;inset:0;z-index:2000;
  background:rgba(2,4,15,.92);backdrop-filter:blur(24px);
  display:flex;align-items:center;justify-content:center;
  opacity:0;pointer-events:none;
  transition:opacity .35s var(--ez);
}
#idx-overlay.open{opacity:1;pointer-events:all}

#idx-panel{
  width:min(680px,96vw);max-height:88vh;
  background:rgba(6,11,32,.95);
  border:1px solid rgba(0,229,255,.15);border-radius:8px;
  overflow:hidden;display:flex;flex-direction:column;
  transform:translateY(32px) scale(.97);
  transition:transform .35s var(--ez);
  box-shadow:0 0 80px rgba(0,229,255,.06);
}
#idx-overlay.open #idx-panel{transform:none}

#idx-header{
  padding:16px 20px 12px;border-bottom:1px solid rgba(255,255,255,.06);
  display:flex;align-items:center;justify-content:space-between;flex-shrink:0;
}
#idx-title{
  font-family:var(--FH);font-size:clamp(.7rem,3vw,1rem);
  color:var(--c1);letter-spacing:3px;display:flex;align-items:center;gap:10px;
}
#idx-title span{font-family:var(--FM);font-size:.48rem;color:rgba(255,255,255,.25);letter-spacing:2px}
#idx-close{
  background:none;border:1px solid rgba(255,255,255,.1);
  color:rgba(255,255,255,.4);width:28px;height:28px;border-radius:3px;
  cursor:pointer;font-size:.8rem;transition:all .25s;
  display:flex;align-items:center;justify-content:center;
}
#idx-close:hover{border-color:var(--c3);color:var(--c3)}

#idx-search{
  padding:10px 20px;border-bottom:1px solid rgba(255,255,255,.05);flex-shrink:0;
}
#idx-search-input{
  width:100%;background:rgba(0,229,255,.04);
  border:1px solid rgba(0,229,255,.12);border-radius:3px;
  padding:7px 12px;
  font-family:var(--FM);font-size:.52rem;color:rgba(255,255,255,.7);
  letter-spacing:1px;outline:none;transition:border-color .25s;
}
#idx-search-input:focus{border-color:rgba(0,229,255,.4)}
#idx-search-input::placeholder{color:rgba(255,255,255,.2)}

#idx-body{overflow-y:auto;flex:1;padding:8px 12px 12px;scrollbar-width:thin;scrollbar-color:rgba(0,229,255,.2) transparent}
#idx-body::-webkit-scrollbar{width:3px}
#idx-body::-webkit-scrollbar-thumb{background:rgba(0,229,255,.2);border-radius:2px}

.idx-row{
  display:grid;grid-template-columns:40px 12px 1fr auto;
  align-items:center;gap:10px;
  padding:9px 10px;border-radius:4px;cursor:pointer;
  border:1px solid transparent;
  transition:background .2s,border-color .2s;
  margin-bottom:3px;
}
.idx-row:hover,.idx-row:active{
  background:rgba(0,229,255,.05);border-color:rgba(0,229,255,.12);
}
.idx-row.active-sec{background:rgba(0,229,255,.08);border-color:rgba(0,229,255,.25)}
.idx-num{
  font-family:var(--FH);font-size:.55rem;color:rgba(255,255,255,.2);
  letter-spacing:1px;text-align:right;
}
.idx-dot{width:8px;height:8px;border-radius:50%;flex-shrink:0}
.idx-info{}
.idx-name{font-family:var(--FM);font-size:.52rem;color:rgba(255,255,255,.75);letter-spacing:1.5px;text-transform:uppercase}
.idx-desc{font-size:.62rem;color:rgba(180,200,225,.38);line-height:1.4;margin-top:1px}
.idx-arr{font-family:var(--FM);font-size:.55rem;color:rgba(0,229,255,.3);transition:color .2s}
.idx-row:hover .idx-arr,.idx-row:active .idx-arr{color:var(--c1)}
.idx-row.hidden{display:none}

#idx-footer{
  padding:10px 20px;border-top:1px solid rgba(255,255,255,.05);
  font-family:var(--FM);font-size:.44rem;color:rgba(255,255,255,.18);
  letter-spacing:1.5px;flex-shrink:0;display:flex;justify-content:space-between;
}


/* ═══════════════════════════════════════════════
   V7 REACTOR WORLD — PROBE + STABILITY + DEVMODE
═══════════════════════════════════════════════ */

/* Probe element */
#drn-probe {
  position: fixed;
  width: 22px; height: 22px;
  pointer-events: none;
  z-index: 600;
  transform: translate(-50%, -50%);
  will-change: transform;
}
#drn-probe .probe-core {
  position: absolute; inset: 0;
  border: 1.5px solid var(--probe-color, #00e5ff);
  border-radius: 50%;
  box-shadow: 0 0 8px var(--probe-color, #00e5ff),
              inset 0 0 6px rgba(0,229,255,.15);
  transition: border-color .4s, box-shadow .4s;
}
#drn-probe .probe-inner {
  position: absolute;
  width: 6px; height: 6px;
  border-radius: 50%;
  background: var(--probe-color, #00e5ff);
  top: 50%; left: 50%;
  transform: translate(-50%, -50%);
  box-shadow: 0 0 6px var(--probe-color, #00e5ff);
  transition: background .4s, box-shadow .4s;
}
#drn-probe .probe-ring {
  position: absolute;
  inset: -6px;
  border: 1px solid transparent;
  border-radius: 50%;
  border-top-color: var(--probe-color, #00e5ff);
  border-right-color: var(--probe-color, #00e5ff);
  opacity: .35;
  animation: probeRingSpin 2s linear infinite;
}
@keyframes probeRingSpin { to { transform: rotate(360deg); } }
#drn-probe.scanning .probe-ring { animation-duration: .4s; opacity: .8; }
#drn-probe.docking .probe-core { border-radius: 3px; }
#drn-probe.pulse .probe-core { animation: probePulse .4s ease-out; }
@keyframes probePulse {
  0% { transform: scale(1); }
  50% { transform: scale(2.2); opacity: .5; }
  100% { transform: scale(1); opacity: 1; }
}
/* Probe trail canvas sits just below probe */
#probe-canvas {
  position: fixed; inset: 0;
  pointer-events: none;
  z-index: 599;
  opacity: .6;
}

/* Stability meter */
#hud-stability {
  font-family: var(--FM);
  font-size: .42rem;
  letter-spacing: 1.5px;
  color: rgba(0,229,255,.35);
  margin-top: 4px;
  transition: color .6s;
  opacity: 0;
  animation: stabilityIn 1s ease 3s forwards;
}
@keyframes stabilityIn { to { opacity: 1; } }
#hud-stability .stab-val {
  color: var(--c4);
  font-family: var(--FH);
  font-size: .52rem;
}

/* Developer mode overlay */
#devmode-overlay {
  position: fixed; inset: 0;
  z-index: 9000;
  background: rgba(2,4,15,.94);
  backdrop-filter: blur(16px);
  font-family: var(--FM);
  display: flex; flex-direction: column;
  align-items: flex-start; justify-content: flex-start;
  padding: 40px;
  opacity: 0; pointer-events: none;
  transition: opacity .3s;
}
#devmode-overlay.open { opacity: 1; pointer-events: all; }
#devmode-overlay h1 {
  font-family: var(--FH);
  font-size: clamp(.8rem,3vw,1.2rem);
  color: var(--c4);
  letter-spacing: 4px;
  margin-bottom: 20px;
}
#devmode-overlay .dev-row {
  font-size: .55rem;
  color: rgba(0,229,255,.55);
  letter-spacing: 2px;
  padding: 4px 0;
  border-bottom: 1px solid rgba(0,229,255,.06);
  width: min(400px,80vw);
}
#devmode-overlay .dev-row span {
  color: #fff;
  font-family: var(--FH);
  font-size: .6rem;
}
#devmode-overlay .dev-close {
  margin-top: 24px;
  font-size: .48rem;
  color: rgba(255,255,255,.2);
  letter-spacing: 2px;
}

/* Data fragment hidden in sections */
.data-frag {
  position: absolute;
  width: 10px; height: 10px;
  border: 1px solid rgba(0,255,157,.4);
  border-radius: 2px;
  opacity: 0;
  cursor: pointer;
  z-index: 50;
  transition: opacity .5s, transform .3s;
  pointer-events: all;
}
.data-frag::after {
  content: '◈';
  position: absolute;
  top: -2px; left: -1px;
  font-size: 10px;
  color: rgba(0,255,157,.5);
}
.sec-panel.vis .data-frag { opacity: 1; }
.data-frag.collected { opacity: 0 !important; pointer-events: none; }
/* Fragment counter */
#hud-frags {
  font-family: var(--FM);
  font-size: .42rem;
  letter-spacing: 1.5px;
  color: rgba(0,255,157,.3);
  margin-top: 2px;
  min-height: 12px;
}
#hud-frags .frag-count { color: var(--c4); }

/* Signature section classes */
.sec-panel.blueprint-mode .sec-bg-grid {
  opacity: 1 !important;
  background-image:
    linear-gradient(rgba(0,229,255,.08) 1px, transparent 1px),
    linear-gradient(90deg, rgba(0,229,255,.08) 1px, transparent 1px);
  background-size: 40px 40px;
}
/* FAQ diagnostic pulse */
.faq-item.on .faq-a {
  animation: diagReveal .3s ease-out;
}
@keyframes diagReveal {
  0% { opacity: 0; transform: translateY(-4px); }
  100% { opacity: 1; transform: none; }
}
/* Contact docking clock glow */
.docking-active #live-clock {
  color: var(--c4);
  text-shadow: 0 0 12px var(--c4);
  transition: color .5s, text-shadow .5s;
}
/* Card tilt container — enable perspective */
.glass {
  transform-style: preserve-3d;
}
.sec-inner {
  perspective: 1200px;
}
.sec-label   { transform: translateZ(8px);  }
.sec-title   { transform: translateZ(16px); }
.stats       { transform: translateZ(24px); }
.sec-desc    { transform: translateZ(8px);  }
.corner      { transform: translateZ(40px); }



/* CSS FX */
#facility-overlay{position:fixed;inset:0;z-index:1200;display:grid;place-items:center;background:radial-gradient(circle at 50% 40%,rgba(0,18,34,.45),rgba(2,5,14,.95));transition:opacity .6s var(--ez),visibility .6s;}
#facility-overlay.hidden{opacity:0;visibility:hidden;pointer-events:none}
.facility-shell{width:min(560px,92vw);border:1px solid rgba(var(--room-rgb),.3);background:rgba(3,9,26,.82);padding:20px;border-radius:8px;backdrop-filter:blur(16px)}
.facility-log{font-family:var(--FM);font-size:.62rem;letter-spacing:1.2px;color:rgba(185,220,240,.68);line-height:1.8;min-height:92px}
.facility-log strong{color:var(--c1)}
#facility-enter{margin-top:10px;padding:10px 18px;font-family:var(--FH);letter-spacing:2px;background:rgba(0,229,255,.1);color:var(--c1);border:1px solid rgba(0,229,255,.4);border-radius:4px;cursor:pointer}
#facility-enter[disabled]{opacity:.45;cursor:not-allowed}
body.state-calibrating #nav,body.state-calibrating #idx-btn{pointer-events:none;opacity:.3}

#room-fx{position:fixed;inset:0;z-index:35;pointer-events:none;mix-blend-mode:screen}
#room-fx::before,#room-fx::after{content:'';position:absolute;inset:0;opacity:.45;transition:opacity .5s,transform .8s;background:radial-gradient(circle at 50% 50%,rgba(var(--room-rgb),.18),transparent 68%)}
body.motif-blueprint #room-fx::after{background-image:linear-gradient(rgba(var(--room-rgb),.08) 1px,transparent 1px),linear-gradient(90deg,rgba(var(--room-rgb),.08) 1px,transparent 1px);background-size:42px 42px;animation:gridDrift 12s linear infinite}
body.motif-prism #room-fx::after{background:conic-gradient(from 140deg,transparent 0 25%,rgba(var(--room-rgb),.18) 35%,transparent 50% 75%,rgba(var(--room-rgb),.14) 84%,transparent)}
body.motif-orbital #room-fx::after{background:radial-gradient(circle,transparent 28%,rgba(var(--room-rgb),.16) 30% 31%,transparent 33% 45%,rgba(var(--room-rgb),.12) 46% 47%,transparent 49%)}
body.motif-scan #room-fx::after{background:linear-gradient(180deg,transparent 5%,rgba(var(--room-rgb),.17) 50%,transparent 95%);animation:roomScan 3.2s ease-in-out infinite}
@keyframes roomScan{0%,100%{transform:translateY(-14%)}50%{transform:translateY(14%)}}

#travel-gate{position:fixed;left:50%;top:50%;width:min(52vw,420px);height:min(62vh,520px);transform:translate(-50%,-50%) scale(.76);border:2px solid rgba(var(--room-rgb),.55);z-index:560;opacity:0;pointer-events:none;box-shadow:0 0 40px rgba(var(--room-rgb),.32),inset 0 0 22px rgba(var(--room-rgb),.24);mix-blend-mode:screen}
#travel-gate.on{animation:gatePass .72s var(--ez)}
@keyframes gatePass{0%{opacity:0;transform:translate(-50%,-50%) scale(.72)}22%{opacity:.95}100%{opacity:0;transform:translate(-50%,-50%) scale(1.28)}}
body.state-entering #travel-gate{opacity:1;animation:gatePass .85s var(--ez)}

.home-hub{position:relative;margin-top:22px;height:220px;border:1px solid rgba(0,229,255,.2);border-radius:8px;background:radial-gradient(circle at 50% 50%,rgba(0,229,255,.1),rgba(5,12,30,.6) 60%)}
.hub-core{position:absolute;left:50%;top:50%;width:90px;height:90px;transform:translate(-50%,-50%);border-radius:50%;border:1px solid rgba(0,229,255,.55);display:grid;place-items:center;font-family:var(--FH);font-size:.52rem;letter-spacing:1.5px;box-shadow:0 0 24px rgba(0,229,255,.35);animation:coreBreath 2.8s ease-in-out infinite}
@keyframes coreBreath{0%,100%{transform:translate(-50%,-50%) scale(1)}50%{transform:translate(-50%,-50%) scale(1.06)}}
.hub-node{position:absolute;min-width:82px;padding:8px 10px;border:1px solid rgba(255,255,255,.24);background:rgba(3,10,28,.76);font-family:var(--FM);font-size:.5rem;letter-spacing:1px;text-transform:uppercase;border-radius:999px;color:#d7f5ff;cursor:pointer;transform:translate(-50%,-50%);transition:transform .3s,border-color .3s,box-shadow .3s}
.hub-node:hover,.hub-node:focus-visible{transform:translate(-50%,-50%) scale(1.07);border-color:var(--room-tint);box-shadow:0 0 18px rgba(var(--room-rgb),.35)}
.hub-node[data-shape="diamond"]{border-radius:2px}
.hub-node[data-shape="hex"]{clip-path:polygon(18% 0,82% 0,100% 50%,82% 100%,18% 100%,0 50%)}

.glass{box-shadow:inset 0 1px 0 rgba(255,255,255,.08),inset -1px -1px 0 rgba(0,0,0,.35),0 22px 36px rgba(0,0,0,.25)}
.glass::selection{background:rgba(var(--room-rgb),.25)}
.glass .depth-layer{position:absolute;inset:8px;border:1px solid rgba(255,255,255,.04);pointer-events:none}
.glass .depth-layer.l2{inset:16px;opacity:.55}
.glass .depth-layer.l3{inset:24px;opacity:.35}

#hud-extra{font-size:.42rem;letter-spacing:1.3px;color:rgba(225,240,255,.5);margin-top:4px}
#hud-extra span{color:var(--c1)}

#env-pulse{position:fixed;inset:0;z-index:520;pointer-events:none;overflow:hidden}
.env-ripple{position:absolute;width:18px;height:18px;border-radius:50%;border:1px solid rgba(var(--room-rgb),.6);transform:translate(-50%,-50%) scale(0.2);animation:envPulse .8s ease-out forwards}
@keyframes envPulse{to{opacity:0;transform:translate(-50%,-50%) scale(12)}}

body.sig-vertical #stage{transition:filter .4s;filter:drop-shadow(0 0 20px rgba(0,229,255,.08))}
body.sig-horizontal #stage{transform-origin:50% 50%}
body.sig-incline #stage-clip{filter:saturate(1.08)}
body.state-entering #stage{animation:portalPush .85s var(--ez)}
@keyframes portalPush{0%{transform:translateZ(0)}40%{transform:translateZ(42px)}100%{transform:translateZ(0)}}

@media (prefers-reduced-motion: reduce){
  .hub-core,#travel-gate.on,#room-fx::after,.env-ripple{animation:none!important}
  body{--snap-dur:300ms}
}

</style>
</head>
<body class="state-calibrating">

<div id="facility-overlay" aria-live="polite">
  <div class="facility-shell">
    <div class="facility-log" id="facility-log">Calibrating DRN Systems…</div>
    <button id="facility-enter" disabled>ENTER FACILITY</button>
  </div>
</div>
<div id="room-fx"></div>
<div id="travel-gate" aria-hidden="true"></div>
<div id="env-pulse" aria-hidden="true"></div>


<!-- ░░ DRN PROBE ░░ -->
<canvas id="probe-canvas"></canvas>
<div id="drn-probe">
  <div class="probe-ring"></div>
  <div class="probe-core"></div>
  <div class="probe-inner"></div>
</div>

<!-- ░░ DEV MODE OVERLAY ░░ -->
<div id="devmode-overlay">
  <h1>◈ DEVELOPER MODE</h1>
  <div class="dev-row">FPS <span id="dev-fps">--</span></div>
  <div class="dev-row">SECTION <span id="dev-sec">HOME</span></div>
  <div class="dev-row">TRANSITION TYPE <span id="dev-trans">VERTICAL</span></div>
  <div class="dev-row">PARTICLES <span id="dev-particles">--</span></div>
  <div class="dev-row">PROBE MODE <span id="dev-probe">idle</span></div>
  <div class="dev-row">STABILITY <span id="dev-stab">100%</span></div>
  <div class="dev-row">FRAGMENTS <span id="dev-frags">0/14</span></div>
  <div class="dev-close">HOLD HUD TO TOGGLE · ESC TO CLOSE</div>
</div>

<!-- ░░ THREE.JS BG ░░ -->
<canvas id="bg-canvas"></canvas>

<!-- ░░ FX LAYERS ░░ -->
<canvas id="fx-canvas"></canvas>
<div id="scanlines"></div>
<div id="bloom"></div>
<div id="transition-label"></div>

<!-- ░░ HUD ░░ -->
<div id="hud">
  <div id="hud-index">01</div>
  <div id="hud-section">HOME</div>
  <div id="hud-bar"></div>
  <div id="hud-stability">STABILITY <span class="stab-val" id="stab-val">100%</span></div>
  <div id="hud-frags">◈ <span class="frag-count" id="frag-count">0</span>/14 FRAGMENTS</div>
  <div id="hud-extra">MODE <span id="hud-mode">CALIBRATING</span> · VECTOR <span id="hud-vector">VERTICAL</span> · DEPTH <span id="hud-depth">0.0</span></div>
</div>
<div id="scroll-prog"></div>
<div id="mode-pill">▼ VERTICAL</div>

<!-- ░░ NAV DOTS ░░ -->
<div id="nav" role="navigation" aria-label="Section navigation"></div>

<!-- ░░ MOBILE ARROWS ░░ -->
<div id="mobile-arrows">
  <button class="marrow" id="ma-up" aria-label="Previous">↑</button>
  <button class="marrow" id="ma-dn" aria-label="Next">↓</button>
</div>


<!-- ░░ INDEX TABLE OVERLAY ░░ -->
<button id="idx-btn" onclick="toggleIdx()" aria-label="Site index">
  <svg viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="1.5">
    <line x1="2" y1="4" x2="14" y2="4"/><line x1="2" y1="8" x2="14" y2="8"/><line x1="2" y1="12" x2="10" y2="12"/>
  </svg>
  INDEX
</button>

<div id="idx-overlay" onclick="handleIdxOverlayClick(event)">
  <div id="idx-panel">
    <div id="idx-header">
      <div id="idx-title">
        DRN.TODAY
        <span>SITE INDEX · 14 SECTIONS</span>
      </div>
      <button id="idx-close" onclick="closeIdx()" aria-label="Close index">✕</button>
    </div>
    <div id="idx-search">
      <input id="idx-search-input" type="text" placeholder="Search sections..." oninput="filterIdx(this.value)" autocomplete="off" spellcheck="false"/>
    </div>
    <div id="idx-body">
      <div class="idx-row" data-goto="0" onclick="idxGoto(0)">
        <div class="idx-num">01</div><div class="idx-dot" style="background:#00e5ff;box-shadow:0 0 6px #00e5ff55"></div>
        <div class="idx-info"><div class="idx-name">Home</div><div class="idx-desc">Introduction · portfolio overview · quick navigation</div></div>
        <div class="idx-arr">→</div>
      </div>
      <div class="idx-row" data-goto="1" onclick="idxGoto(1)">
        <div class="idx-num">02</div><div class="idx-dot" style="background:#00e5ff;box-shadow:0 0 6px #00e5ff55"></div>
        <div class="idx-info"><div class="idx-name">Identity</div><div class="idx-desc">Who I am · competencies · education · timeline · skills</div></div>
        <div class="idx-arr">→</div>
      </div>
      <div class="idx-row" data-goto="2" onclick="idxGoto(2)">
        <div class="idx-num">03</div><div class="idx-dot" style="background:#b400ff;box-shadow:0 0 6px #b400ff55"></div>
        <div class="idx-info"><div class="idx-name">DRN System</div><div class="idx-desc">Delivery · Research · Network framework · methodology</div></div>
        <div class="idx-arr">→</div>
      </div>
      <div class="idx-row" data-goto="3" onclick="idxGoto(3)">
        <div class="idx-num">04</div><div class="idx-dot" style="background:#00ff9d;box-shadow:0 0 6px #00ff9d55"></div>
        <div class="idx-info"><div class="idx-name">Agentic AI</div><div class="idx-desc">Multi-agent systems · LangChain · CrewAI · case studies</div></div>
        <div class="idx-arr">→</div>
      </div>
      <div class="idx-row" data-goto="4" onclick="idxGoto(4)">
        <div class="idx-num">05</div><div class="idx-dot" style="background:#ff7b00;box-shadow:0 0 6px #ff7b0055"></div>
        <div class="idx-info"><div class="idx-name">Workflows</div><div class="idx-desc">n8n · Make · Zapier · automation templates · ROI data</div></div>
        <div class="idx-arr">→</div>
      </div>
      <div class="idx-row" data-goto="5" onclick="idxGoto(5)">
        <div class="idx-num">06</div><div class="idx-dot" style="background:#ff2d9b;box-shadow:0 0 6px #ff2d9b55"></div>
        <div class="idx-info"><div class="idx-name">RAG Systems</div><div class="idx-desc">Retrieval-augmented generation · vector DBs · enterprise search</div></div>
        <div class="idx-arr">→</div>
      </div>
      <div class="idx-row" data-goto="6" onclick="idxGoto(6)">
        <div class="idx-num">07</div><div class="idx-dot" style="background:#00ff9d;box-shadow:0 0 6px #00ff9d55"></div>
        <div class="idx-info"><div class="idx-name">AI Automation</div><div class="idx-desc">OpenAI · Claude · Gemini · document processing · analytics</div></div>
        <div class="idx-arr">→</div>
      </div>
      <div class="idx-row" data-goto="7" onclick="idxGoto(7)">
        <div class="idx-num">08</div><div class="idx-dot" style="background:#4f46ff;box-shadow:0 0 6px #4f46ff55"></div>
        <div class="idx-info"><div class="idx-name">Full-Stack Web</div><div class="idx-desc">React · Next.js · Node.js · Python · cloud native · performance</div></div>
        <div class="idx-arr">→</div>
      </div>
      <div class="idx-row" data-goto="8" onclick="idxGoto(8)">
        <div class="idx-num">09</div><div class="idx-dot" style="background:#00e5ff;box-shadow:0 0 6px #00e5ff55"></div>
        <div class="idx-info"><div class="idx-name">Mobile Apps</div><div class="idx-desc">iOS · Android · React Native · Flutter · store submission</div></div>
        <div class="idx-arr">→</div>
      </div>
      <div class="idx-row" data-goto="9" onclick="idxGoto(9)">
        <div class="idx-num">10</div><div class="idx-dot" style="background:#00ff9d;box-shadow:0 0 6px #00ff9d55"></div>
        <div class="idx-info"><div class="idx-name">Backend & APIs</div><div class="idx-desc">Microservices · databases · devops · security checklist</div></div>
        <div class="idx-arr">→</div>
      </div>
      <div class="idx-row" data-goto="10" onclick="idxGoto(10)">
        <div class="idx-num">11</div><div class="idx-dot" style="background:#ff7b00;box-shadow:0 0 6px #ff7b0055"></div>
        <div class="idx-info"><div class="idx-name">Architecture</div><div class="idx-desc">System design · security framework · observability stack</div></div>
        <div class="idx-arr">→</div>
      </div>
      <div class="idx-row" data-goto="11" onclick="idxGoto(11)">
        <div class="idx-num">12</div><div class="idx-dot" style="background:#ff2d9b;box-shadow:0 0 6px #ff2d9b55"></div>
        <div class="idx-info"><div class="idx-name">Packages</div><div class="idx-desc">Starter · Professional · Enterprise · add-ons · timelines</div></div>
        <div class="idx-arr">→</div>
      </div>
      <div class="idx-row" data-goto="12" onclick="idxGoto(12)">
        <div class="idx-num">13</div><div class="idx-dot" style="background:#00e5ff;box-shadow:0 0 6px #00e5ff55"></div>
        <div class="idx-info"><div class="idx-name">FAQ</div><div class="idx-desc">Process · pricing · timeline · tech · NDA · communication</div></div>
        <div class="idx-arr">→</div>
      </div>
      <div class="idx-row" data-goto="13" onclick="idxGoto(13)">
        <div class="idx-num">14</div><div class="idx-dot" style="background:#00ff9d;box-shadow:0 0 6px #00ff9d55"></div>
        <div class="idx-info"><div class="idx-name">Contact</div><div class="idx-desc">WhatsApp · phone · email · socials · project brief · hours</div></div>
        <div class="idx-arr">→</div>
      </div>
    </div>
    <div id="idx-footer">
      <span>PRESS <strong style="color:rgba(0,229,255,.5)">I</strong> TO TOGGLE · <strong style="color:rgba(0,229,255,.5)">ESC</strong> TO CLOSE</span>
      <span>DRN.TODAY · SOMNATH KURMI</span>
    </div>
  </div>
</div>

<!-- ░░ LOADING ░░ -->
<div id="loader">
  <div class="ld-stage" id="ld1">
    <div class="ld-cube-wrap">
      <div class="ld-cube">
        <div class="ld-face f-front">DRN</div>
        <div class="ld-face f-back">DRN</div>
        <div class="ld-face f-left">AI</div>
        <div class="ld-face f-right">AI</div>
        <div class="ld-face f-top">SYS</div>
        <div class="ld-face f-bot">SYS</div>
      </div>
    </div>
    <div class="ld-sub">Initializing holographic matrix...</div>
  </div>
  <div class="ld-stage" id="ld2">
    <div id="ld-neural"><canvas id="ld-neural-canvas" width="300" height="200"></canvas></div>
    <div class="ld-sub" style="margin-top:14px">Building neural pathways...</div>
  </div>
  <div class="ld-stage" id="ld3">
    <div class="ld-text">DRN.TODAY</div>
    <div class="ld-sub" style="margin-top:12px">SOMNATH KURMI · AI SYSTEMS ARCHITECT</div>
  </div>
  <div class="ld-stage" id="ld4">
    <div class="sys-lines">
      <div class="sys-line" style="animation-delay:.0s">&gt; Loading AI modules......................<span class="sys-ok"> ✓</span></div>
      <div class="sys-line" style="animation-delay:.3s">&gt; Initializing 3D scroll engine............<span class="sys-ok"> ✓</span></div>
      <div class="sys-line" style="animation-delay:.6s">&gt; Calibrating transition axes..............<span class="sys-ok"> ✓</span></div>
      <div class="sys-line sys-ok" style="animation-delay:.9s">&gt; V·H·I transition matrix ready ✓</div>
    </div>
  </div>
  <div class="ld-stage" id="ld5">
    <div class="ld-text" style="font-size:clamp(.8rem,2.5vw,1.4rem);letter-spacing:12px">ENTERING DRN ECOSYSTEM</div>
  </div>
  <div class="ld-progress">
    <div class="ld-bar-track"><div class="ld-bar-fill" id="ld-bar"></div></div>
    <div class="ld-pct" id="ld-pct">0%</div>
  </div>
</div>

<!-- ░░░░░░ 3D STAGE ░░░░░░ -->
<div id="stage-clip">
  <div id="stage">

    <!-- ████ HERO ████ -->
    <div class="sec-panel" id="hero" data-sec="HOME" data-num="01" data-color="#00e5ff">
      <div class="sec-bg">
        <div class="sec-bg-grid"></div>
        <div class="orb" style="width:500px;height:500px;background:radial-gradient(circle,rgba(0,229,255,.08),transparent 70%);top:10%;left:15%;animation-duration:9s"></div>
        <div class="orb" style="width:350px;height:350px;background:radial-gradient(circle,rgba(180,0,255,.06),transparent 70%);bottom:15%;right:15%;animation-duration:11s;animation-delay:2s"></div>
      </div>
      <div style="display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:100vh;padding:60px 16px 80px;width:100%;">
      <div class="hero-inner">
        <div class="hero-eyebrow">Portfolio 2025</div>
        <div class="avail-badge"><span class="avail-dot"></span>Available for new projects</div>
        <div class="hero-name"><span class="glitch-wrap" data-text="DRN.TODAY">DRN<span style="opacity:.35">.</span>TODAY</span></div>
        <div class="hero-name-sub">Somnath Kurmi</div>
        <div class="typewriter" id="hero-type"></div>
        <nav class="hero-btns">
          <button class="hbtn" data-goto="1">Identity</button>
          <button class="hbtn" data-goto="2">DRN</button>
          <button class="hbtn" data-goto="3">Agentic</button>
          <button class="hbtn" data-goto="5">RAG</button>
          <button class="hbtn" data-goto="7">Stack</button>
          <button class="hbtn" data-goto="11">Packages</button>
          <button class="hbtn" data-goto="13" style="grid-column:2/3">Contact</button>
        </nav>
        <!-- HTML HUB -->
        <div class="home-hub" aria-label="Home hub navigation">
          <div class="hub-core">REACTOR</div>
          <button class="hub-node" data-target="1" data-signature="VERTICAL" data-shape="diamond" style="left:24%;top:24%">Identity</button>
          <button class="hub-node" data-target="3" data-signature="INCLINE" data-shape="hex" style="left:76%;top:24%">Agentic AI</button>
          <button class="hub-node" data-target="4" data-signature="HORIZONTAL" data-shape="pill" style="left:14%;top:56%">Workflows</button>
          <button class="hub-node" data-target="5" data-signature="INCLINE" data-shape="hex" style="left:86%;top:56%">RAG Systems</button>
          <button class="hub-node" data-target="10" data-signature="VERTICAL" data-shape="diamond" style="left:30%;top:84%">Architecture</button>
          <button class="hub-node" data-target="12" data-signature="HORIZONTAL" data-shape="pill" style="left:50%;top:14%">FAQ</button>
          <button class="hub-node" data-target="13" data-signature="INCLINE" data-shape="pill" style="left:70%;top:84%">Contact</button>
        </div>
      </div>
      <div class="scroll-hint">
        <span class="sh-text">Scroll to Enter</span>
        <div class="sh-line"></div>
      </div>
      </div>
    </div>

    <!-- ████ IDENTITY ████ -->
    <div class="sec-panel" id="sec-identity" data-sec="IDENTITY" data-num="02" data-color="#00e5ff" style="--ac:#00e5ff">
      <div class="data-frag" data-frag="01" style="top:15%;right:8%" title="Data Fragment 01"></div>
      <div class="sec-bg">
        <div class="sec-bg-grid"></div>
        <div class="orb" style="width:600px;height:600px;background:radial-gradient(circle,rgba(0,229,255,.05),transparent 70%);top:50%;left:50%;transform:translate(-50%,-50%)"></div>
        <div id="neural-display"><canvas id="neural-bg-canvas"></canvas></div>
      </div>
      <div class="ghost-head">IDENTITY</div>
      <div class="sec-inner">
        <div class="glass">
          <div class="corner c-tl"></div><div class="corner c-tr"></div><div class="corner c-bl"></div><div class="corner c-br"></div>
          <div class="sec-label">Neural Profile</div>
          <div class="sec-title">Who I Am</div>
          <div class="sec-rule"></div>
          <div class="sec-desc"><strong style="color:#00e5ff">Somnath Kurmi</strong> — Founder of <strong style="color:#00ff9d">DRN.TODAY</strong><br>I architect intelligent systems at the intersection of AI and real-world impact. Deep expertise in agentic AI, RAG, full-stack, and automation — transforming complex challenges into elegant, scalable solutions.</div>
          <div class="stats">
            <div class="stat-box"><div class="stat-n" data-target="50" data-suffix="+">50+</div><div class="stat-l">Projects</div></div>
            <div class="stat-box"><div class="stat-n" data-target="8" data-suffix="+">8+</div><div class="stat-l">Years Exp</div></div>
            <div class="stat-box"><div class="stat-n" data-target="100" data-suffix="%">100%</div><div class="stat-l">Satisfaction</div></div>
          </div>
          <div class="timeline">
            <div class="tl-item"><div class="tl-dot"></div><div class="tl-year">2016</div><div class="tl-event">Web Dev roots</div></div>
            <div class="tl-item"><div class="tl-dot"></div><div class="tl-year">2018</div><div class="tl-event">Full-Stack pro</div></div>
            <div class="tl-item"><div class="tl-dot"></div><div class="tl-year">2020</div><div class="tl-event">Mobile & APIs</div></div>
            <div class="tl-item"><div class="tl-dot"></div><div class="tl-year">2022</div><div class="tl-event">AI / ML deep dive</div></div>
            <div class="tl-item"><div class="tl-dot"></div><div class="tl-year">2024</div><div class="tl-event">Agentic systems</div></div>
            <div class="tl-item"><div class="tl-dot active"></div><div class="tl-year">Now</div><div class="tl-event">DRN.TODAY</div></div>
          </div>
          <div class="cube-grid">
            <div class="cube-card"><svg class="cc-icon" viewBox="0 0 100 100" style="color:#00e5ff"><path d="M50 20C35 20 20 32 20 48C20 58 26 66 35 70L35 80L65 80L65 70C74 66 80 58 80 48C80 32 65 20 50 20Z" fill="none" stroke="currentColor" stroke-width="2"/></svg><div class="cc-title">AI Specialist</div><div class="cc-desc">LLMs, agentic systems, RAG at the bleeding edge.</div><div class="cc-result">Building <strong>AGI-adjacent</strong> pipelines for real-world impact</div></div>
            <div class="cube-card"><svg class="cc-icon" viewBox="0 0 100 100" style="color:#00e5ff"><polygon points="50,15 85,33 50,51 15,33" fill="none" stroke="currentColor" stroke-width="2"/><polyline points="15,48 50,66 85,48" fill="none" stroke="currentColor" stroke-width="2"/><polyline points="15,63 50,81 85,63" fill="none" stroke="currentColor" stroke-width="2"/></svg><div class="cc-title">Full-Stack</div><div class="cc-desc">React, Node.js, Python — complete end-to-end.</div><div class="cc-result">From idea to <strong>production</strong> in weeks, not months</div></div>
            <div class="cube-card"><svg class="cc-icon" viewBox="0 0 100 100" style="color:#00e5ff"><circle cx="50" cy="50" r="18" fill="none" stroke="currentColor" stroke-width="2"/><path d="M50 10L54 22L62 14L62 28L74 24L68 36L82 38L72 46L82 54L68 56L74 68L62 64L62 78L54 70L50 82L46 70L38 78L38 64L26 68L32 56L18 54L28 46L18 38L32 36L26 24L38 28L38 14L46 22Z" fill="none" stroke="currentColor" stroke-width="1.5"/></svg><div class="cc-title">Automation</div><div class="cc-desc">Intelligent workflows that permanently replace manual processes.</div><div class="cc-result">Average <strong>80% time savings</strong> per deployment</div></div>
          </div>
<div class="sec-drops">
        <div class="sec-drop">
          <div class="drop-hd" onclick="toggleDrop(this)">
            <span class="drop-icon">🧠</span>
            <span class="drop-title">Core Competencies</span>
            <span class="drop-chevron"></span>
          </div>
          <div class="drop-bd">
            <div class="drop-inner"><div class="d-subgrid">
              <div class="d-subcard"><div class="d-subcard-title">Agentic AI</div><div class="d-subcard-val">LangChain · CrewAI · AutoGen · Pydantic AI</div></div>
              <div class="d-subcard"><div class="d-subcard-title">RAG & Search</div><div class="d-subcard-val">Pinecone · Weaviate · LlamaIndex · Chroma</div></div>
              <div class="d-subcard"><div class="d-subcard-title">Frontend</div><div class="d-subcard-val">React · Next.js · TypeScript · Tailwind</div></div>
              <div class="d-subcard"><div class="d-subcard-title">Backend</div><div class="d-subcard-val">Node.js · Python · FastAPI · GraphQL</div></div>
              <div class="d-subcard"><div class="d-subcard-title">Mobile</div><div class="d-subcard-val">React Native · Flutter · Swift · Kotlin</div></div>
              <div class="d-subcard"><div class="d-subcard-title">Infra & DevOps</div><div class="d-subcard-val">Docker · Kubernetes · AWS · Terraform</div></div>
            </div></div>
          </div>
        </div>
        <div class="sec-drop">
          <div class="drop-hd" onclick="toggleDrop(this)">
            <span class="drop-icon">🎓</span>
            <span class="drop-title">Education & Certifications</span>
            <span class="drop-chevron"></span>
          </div>
          <div class="drop-bd">
            <div class="drop-inner"><div class="dlist">
              <div class="dlist-item" data-n="▸">B.Tech Computer Science — <strong>2016–2020</strong></div>
              <div class="dlist-item" data-n="▸">DeepLearning.AI — <strong>LLM Specialization</strong></div>
              <div class="dlist-item" data-n="▸">AWS Certified — <strong>Solutions Architect</strong></div>
              <div class="dlist-item" data-n="▸">Google Cloud — <strong>Professional ML Engineer</strong></div>
              <div class="dlist-item" data-n="▸">Fast.ai — <strong>Practical Deep Learning</strong></div>
              <div class="dlist-item" data-n="▸">Ongoing: <strong>AI Safety &amp; Alignment research</strong></div>
            </div></div>
          </div>
        </div>
        <div class="sec-drop">
          <div class="drop-hd" onclick="toggleDrop(this)">
            <span class="drop-icon">⚡</span>
            <span class="drop-title">Currently Building</span>
            <span class="drop-chevron"></span>
          </div>
          <div class="drop-bd">
            <div class="drop-inner"><div class="d-subgrid">
              <div class="d-subcard"><div class="d-subcard-title">Project Alpha</div><div class="d-subcard-val">Multi-tenant RAG platform for enterprise knowledge management</div></div>
              <div class="d-subcard"><div class="d-subcard-title">Project Beta</div><div class="d-subcard-val">Autonomous research agent with web search + synthesis capabilities</div></div>
              <div class="d-subcard"><div class="d-subcard-title">Open Source</div><div class="d-subcard-val">Contributing to LangChain ecosystem — prompt optimization toolkit</div></div>
            </div></div>
          </div>
        </div>
      </div>
          <div class="skill-tags">
            <div class="stag">LangChain</div><div class="stag">OpenAI</div><div class="stag">React</div>
            <div class="stag">Next.js</div><div class="stag">Python</div><div class="stag">Docker</div>
            <div class="stag">Pinecone</div><div class="stag">CrewAI</div><div class="stag">FastAPI</div>
            <div class="stag">PostgreSQL</div><div class="stag">Redis</div><div class="stag">Kubernetes</div>
          </div>
        </div>
      </div>
    </div>

    <!-- ████ DRN SYSTEM ████ -->
    <div class="sec-panel" data-sec="DRN SYSTEM" data-num="03" data-color="#b400ff" style="--ac:#b400ff">
      <div class="data-frag" data-frag="02" style="top:20%;right:5%" title="Data Fragment 02"></div>
      <div class="sec-bg"><div class="orb" style="width:550px;height:550px;background:radial-gradient(circle,rgba(180,0,255,.07),transparent 70%);top:30%;left:40%"></div></div>
      <div class="ghost-head">DRN</div>
      <div class="sec-inner">
        <div class="glass">
          <div class="corner c-tl" style="--ac:#b400ff"></div><div class="corner c-tr" style="--ac:#b400ff"></div><div class="corner c-bl" style="--ac:#b400ff"></div><div class="corner c-br" style="--ac:#b400ff"></div>
          <div class="sec-label">Framework</div>
          <div class="sec-title">The DRN System</div>
          <div class="sec-rule" style="background:linear-gradient(90deg,#b400ff,transparent)"></div>
          <div class="sec-desc">DRN represents a holistic approach through <strong style="color:#b400ff">three interconnected pillars</strong>, each amplifying the others to deliver exponential outcomes.</div>
          <div class="drn-formula"><span>D</span>elivery × <span>R</span>esearch × <span>N</span>etwork <em>= Exponential Value</em></div>
          <div class="cube-grid">
            <div class="cube-card"><svg class="cc-icon" viewBox="0 0 100 100" style="color:#b400ff"><polygon points="50,10 90,50 50,90 10,50" fill="none" stroke="currentColor" stroke-width="2"/></svg><div class="cc-title" style="color:#b400ff">DELIVERY</div><div class="cc-desc">Agile sprints, CI/CD pipelines, QA gates — always on time.</div><div class="cc-result">100% on-time delivery track record across <strong>50+ projects</strong></div></div>
            <div class="cube-card"><svg class="cc-icon" viewBox="0 0 100 100" style="color:#b400ff"><circle cx="50" cy="50" r="40" fill="none" stroke="currentColor" stroke-width="2"/><circle cx="50" cy="50" r="22" fill="none" stroke="currentColor" stroke-width="1.5"/><circle cx="50" cy="50" r="3" fill="currentColor"/></svg><div class="cc-title" style="color:#b400ff">RESEARCH</div><div class="cc-desc">LLM benchmarking, open-source contributions, edge techniques.</div><div class="cc-result">Continuously adopting <strong>state-of-the-art</strong> AI methods</div></div>
            <div class="cube-card"><svg class="cc-icon" viewBox="0 0 100 100" style="color:#b400ff"><circle cx="50" cy="15" r="6" fill="none" stroke="currentColor" stroke-width="2"/><circle cx="15" cy="55" r="6" fill="none" stroke="currentColor" stroke-width="2"/><circle cx="85" cy="55" r="6" fill="none" stroke="currentColor" stroke-width="2"/><line x1="50" y1="21" x2="15" y2="49" stroke="currentColor" stroke-width="1.5"/><line x1="50" y1="21" x2="85" y2="49" stroke="currentColor" stroke-width="1.5"/><line x1="21" y1="55" x2="79" y2="55" stroke="currentColor" stroke-width="1.5"/></svg><div class="cc-title" style="color:#b400ff">NETWORK</div><div class="cc-desc">Global clients, partnership ecosystem, referral network.</div><div class="cc-result">Serving clients across <strong>India, UAE, US & Europe</strong></div></div>
          </div>
<div class="sec-drops">
        <div class="sec-drop">
          <div class="drop-hd" onclick="toggleDrop(this)">
            <span class="drop-icon">🚀</span>
            <span class="drop-title">Delivery Process Deep-Dive</span>
            <span class="drop-chevron"></span>
          </div>
          <div class="drop-bd">
            <div class="drop-inner"><div class="d-phases">
              <div class="d-phase"><div class="d-phase-num">1</div><div class="d-phase-content"><div class="d-phase-name">DISCOVERY</div><div class="d-phase-desc">Requirements gathering, scope definition, technical feasibility — 2–3 days</div></div></div>
              <div class="d-phase"><div class="d-phase-num">2</div><div class="d-phase-content"><div class="d-phase-name">ARCHITECTURE</div><div class="d-phase-desc">System design, tech stack selection, data models, API contracts</div></div></div>
              <div class="d-phase"><div class="d-phase-num">3</div><div class="d-phase-content"><div class="d-phase-name">SPRINTS</div><div class="d-phase-desc">2-week agile sprints with daily async updates and weekly demo calls</div></div></div>
              <div class="d-phase"><div class="d-phase-num">4</div><div class="d-phase-content"><div class="d-phase-name">QA &amp; TESTING</div><div class="d-phase-desc">Unit, integration, E2E testing — 95%+ coverage target before release</div></div></div>
              <div class="d-phase"><div class="d-phase-num">5</div><div class="d-phase-content"><div class="d-phase-name">DEPLOYMENT</div><div class="d-phase-desc">CI/CD pipeline, zero-downtime rollout, monitoring setup</div></div></div>
              <div class="d-phase"><div class="d-phase-num">6</div><div class="d-phase-content"><div class="d-phase-name">HANDOVER &amp; SUPPORT</div><div class="d-phase-desc">Full documentation, code walkthrough, 1–6 month support window</div></div></div>
            </div></div>
          </div>
        </div>
        <div class="sec-drop">
          <div class="drop-hd" onclick="toggleDrop(this)">
            <span class="drop-icon">🔬</span>
            <span class="drop-title">Research Methodology</span>
            <span class="drop-chevron"></span>
          </div>
          <div class="drop-bd">
            <div class="drop-inner"><div class="dlist">
              <div class="dlist-item" data-n="1">Monitor <strong>arXiv, Hugging Face, GitHub</strong> daily for emerging techniques</div>
              <div class="dlist-item" data-n="2">Benchmark new models against <strong>project-specific eval datasets</strong> before adoption</div>
              <div class="dlist-item" data-n="3">Run <strong>proof-of-concept sprints</strong> to validate feasibility in 48–72 hours</div>
              <div class="dlist-item" data-n="4">Maintain a <strong>private research log</strong> of tested approaches, failures, and wins</div>
              <div class="dlist-item" data-n="5">Contribute findings back to <strong>open-source community</strong> where possible</div>
            </div></div>
          </div>
        </div>
        <div class="sec-drop">
          <div class="drop-hd" onclick="toggleDrop(this)">
            <span class="drop-icon">🌐</span>
            <span class="drop-title">Network & Collaboration Models</span>
            <span class="drop-chevron"></span>
          </div>
          <div class="drop-bd">
            <div class="drop-inner"><div class="d-subgrid">
              <div class="d-subcard"><div class="d-subcard-title">Solo Projects</div><div class="d-subcard-val">Full ownership from architecture to deployment</div></div>
              <div class="d-subcard"><div class="d-subcard-title">Team Extension</div><div class="d-subcard-val">Embedded into your existing engineering team</div></div>
              <div class="d-subcard"><div class="d-subcard-title">Tech Partner</div><div class="d-subcard-val">Long-term strategic technical partnership</div></div>
              <div class="d-subcard"><div class="d-subcard-title">Advisory</div><div class="d-subcard-val">Architecture review and AI strategy consulting</div></div>
            </div></div>
          </div>
        </div>
      </div>
          <div class="skill-tags">
            <div class="stag" style="border-color:rgba(180,0,255,.2);color:rgba(180,0,255,.7)">Agile</div>
            <div class="stag" style="border-color:rgba(180,0,255,.2);color:rgba(180,0,255,.7)">CI/CD</div>
            <div class="stag" style="border-color:rgba(180,0,255,.2);color:rgba(180,0,255,.7)">LLM Research</div>
            <div class="stag" style="border-color:rgba(180,0,255,.2);color:rgba(180,0,255,.7)">Open Source</div>
            <div class="stag" style="border-color:rgba(180,0,255,.2);color:rgba(180,0,255,.7)">Global Clients</div>
            <div class="stag" style="border-color:rgba(180,0,255,.2);color:rgba(180,0,255,.7)">Quality Gates</div>
          </div>
        </div>
      </div>
    </div>

    <!-- ████ AGENTIC AI ████ -->
    <div class="sec-panel" data-sec="AGENTIC AI" data-num="04" data-color="#00ff9d" style="--ac:#00ff9d">
      <div class="data-frag" data-frag="03" style="top:12%;right:6%" title="Data Fragment 03"></div>
      <div class="sec-bg"><div class="orb" style="width:700px;height:700px;background:radial-gradient(circle,rgba(0,255,157,.04),transparent 70%);top:50%;left:50%;transform:translate(-50%,-50%)"></div></div>
      <div class="ghost-head">AGENTIC</div>
      <div class="sec-inner">
        <div class="glass">
          <div class="corner c-tl" style="--ac:#00ff9d"></div><div class="corner c-tr" style="--ac:#00ff9d"></div><div class="corner c-bl" style="--ac:#00ff9d"></div><div class="corner c-br" style="--ac:#00ff9d"></div>
          <div class="sec-label">Autonomous Intelligence</div>
          <div class="sec-title">Agentic AI Systems</div>
          <div class="sec-rule" style="background:linear-gradient(90deg,#00ff9d,transparent)"></div>
          <div class="sec-desc">Building agents that <strong style="color:#00ff9d">reason, plan, and execute</strong> with minimal human intervention. <strong>LangChain, AutoGen, CrewAI, Pydantic AI</strong> — multi-agent orchestration for complex real-world tasks.</div>
          <div class="agent-loop">
            <div class="al-step" style="--d:.6s">Perceive</div><div class="al-arr" style="--d:.72s">→</div>
            <div class="al-step" style="--d:.84s">Plan</div><div class="al-arr" style="--d:.96s">→</div>
            <div class="al-step" style="--d:1.08s">Act</div><div class="al-arr" style="--d:1.2s">→</div>
            <div class="al-step" style="--d:1.32s">Observe</div><div class="al-arr" style="--d:1.44s">→</div>
            <div class="al-step" style="--d:1.56s">Refine ↩</div>
          </div>
          <div class="cube-grid">
            <div class="cube-card"><svg class="cc-icon" viewBox="0 0 100 100" style="color:#00ff9d"><circle cx="50" cy="15" r="6" fill="none" stroke="currentColor" stroke-width="2"/><circle cx="15" cy="55" r="6" fill="none" stroke="currentColor" stroke-width="2"/><circle cx="85" cy="55" r="6" fill="none" stroke="currentColor" stroke-width="2"/><circle cx="50" cy="85" r="6" fill="none" stroke="currentColor" stroke-width="2"/><line x1="50" y1="21" x2="15" y2="49" stroke="currentColor" stroke-width="1.5"/><line x1="50" y1="21" x2="85" y2="49" stroke="currentColor" stroke-width="1.5"/><line x1="15" y1="61" x2="50" y2="79" stroke="currentColor" stroke-width="1.5"/><line x1="85" y1="61" x2="50" y2="79" stroke="currentColor" stroke-width="1.5"/></svg><div class="cc-title" style="color:#00ff9d">Multi-Agent</div><div class="cc-desc">Specialized agents coordinating through shared context.</div><div class="cc-result">7-agent research pipeline — <strong>10× faster</strong> analysis</div></div>
            <div class="cube-card"><svg class="cc-icon" viewBox="0 0 100 100" style="color:#00ff9d"><path d="M72 15C60 15 50 25 52 37L20 68C16 72 16 78 20 82C24 86 30 86 34 82L66 50C78 52 88 42 88 30C88 22 84 16 78 14L68 24L60 24L60 16Z" fill="none" stroke="currentColor" stroke-width="2"/></svg><div class="cc-title" style="color:#00ff9d">Tool Integration</div><div class="cc-desc">Agents using APIs, databases, and services autonomously.</div><div class="cc-result">Connected <strong>40+ APIs</strong> for a live trading intelligence bot</div></div>
            <div class="cube-card"><svg class="cc-icon" viewBox="0 0 100 100" style="color:#00ff9d"><path d="M50 20C35 20 20 32 20 48C20 58 26 66 35 70L35 80L65 80L65 70C74 66 80 58 80 48C80 32 65 20 50 20Z" fill="none" stroke="currentColor" stroke-width="2"/></svg><div class="cc-title" style="color:#00ff9d">Memory & Context</div><div class="cc-desc">Long-term episodic & semantic memory for true awareness.</div><div class="cc-result">Enterprise support agent with <strong>persistent 90-day</strong> context</div></div>
            <div class="cube-card"><svg class="cc-icon" viewBox="0 0 100 100" style="color:#00ff9d"><circle cx="50" cy="50" r="35" fill="none" stroke="currentColor" stroke-width="2"/><circle cx="50" cy="50" r="20" fill="none" stroke="currentColor" stroke-width="1.5"/><circle cx="50" cy="50" r="5" fill="currentColor" opacity=".7"/></svg><div class="cc-title" style="color:#00ff9d">Goal-Oriented</div><div class="cc-desc">Objective decomposition with real-time self-correction loops.</div><div class="cc-result">Self-correcting code review agent — <strong>0 human escalations</strong></div></div>
          </div>
          <div class="sec-drops">
        <div class="sec-drop">
          <div class="drop-hd" onclick="toggleDrop(this)">
            <span class="drop-icon">⚙️</span>
            <span class="drop-title">Tech Stack Details</span>
            <span class="drop-chevron"></span>
          </div>
          <div class="drop-bd">
            <div class="drop-inner"><div class="d-subgrid">
              <div class="d-subcard"><div class="d-subcard-title">LangChain</div><div class="d-subcard-val">Chains, agents, tools, memory management &amp; retrieval</div></div>
              <div class="d-subcard"><div class="d-subcard-title">CrewAI</div><div class="d-subcard-val">Multi-agent role delegation with task queuing &amp; handoff</div></div>
              <div class="d-subcard"><div class="d-subcard-title">AutoGen</div><div class="d-subcard-val">Microsoft's conversational multi-agent framework</div></div>
              <div class="d-subcard"><div class="d-subcard-title">Pydantic AI</div><div class="d-subcard-val">Type-safe agent outputs with structured validation</div></div>
              <div class="d-subcard"><div class="d-subcard-title">LangGraph</div><div class="d-subcard-val">Stateful, cyclical agent graphs for complex workflows</div></div>
              <div class="d-subcard"><div class="d-subcard-title">OpenAI / Claude</div><div class="d-subcard-val">GPT-4o, o1-preview, Claude 3.5 — model selection per task</div></div>
            </div></div>
          </div>
        </div>
        <div class="sec-drop">
          <div class="drop-hd" onclick="toggleDrop(this)">
            <span class="drop-icon">📋</span>
            <span class="drop-title">Case Studies</span>
            <span class="drop-chevron"></span>
          </div>
          <div class="drop-bd">
            <div class="drop-inner"><div class="d-phases">
              <div class="d-phase"><div class="d-phase-num">A</div><div class="d-phase-content"><div class="d-phase-name">RESEARCH AUTOMATION PIPELINE</div><div class="d-phase-desc">7-agent system: scraper → summariser → fact-checker → synthesiser → formatter. Reduced analyst time from 8 hrs to 45 min per report.</div></div></div>
              <div class="d-phase"><div class="d-phase-num">B</div><div class="d-phase-content"><div class="d-phase-name">TRADING INTELLIGENCE BOT</div><div class="d-phase-desc">Connected 40+ financial APIs. Agent monitors signals, generates reports, flags anomalies. Runs 24/7 with human-in-loop for final trades.</div></div></div>
              <div class="d-phase"><div class="d-phase-num">C</div><div class="d-phase-content"><div class="d-phase-name">CODE REVIEW AGENT</div><div class="d-phase-desc">Self-correcting agent reviews PRs, suggests fixes, runs tests, re-reviews until passing. Zero human escalations in 3 months of production.</div></div></div>
            </div></div>
          </div>
        </div>
        <div class="sec-drop">
          <div class="drop-hd" onclick="toggleDrop(this)">
            <span class="drop-icon">🤔</span>
            <span class="drop-title">When to Choose Agentic AI</span>
            <span class="drop-chevron"></span>
          </div>
          <div class="drop-bd">
            <div class="drop-inner"><div class="d-check">
              <div class="d-check-item">Task requires <strong>multi-step reasoning</strong> with branching logic</div>
              <div class="d-check-item">Process needs to use <strong>external tools or APIs</strong> autonomously</div>
              <div class="d-check-item">Work benefits from <strong>specialization</strong> — different agents for different roles</div>
              <div class="d-check-item">Volume makes <strong>human oversight of each step</strong> impractical</div>
              <div class="d-check-item warn">Not ideal: Simple deterministic tasks (use standard automation)</div>
              <div class="d-check-item warn">Not ideal: Real-time &lt;100ms requirements (agents add latency)</div>
            </div></div>
          </div>
        </div>
      </div>
        </div>
      </div>
    </div>

    <!-- ████ WORKFLOWS ████ -->
    <div class="sec-panel" data-sec="WORKFLOWS" data-num="05" data-color="#ff7b00" style="--ac:#ff7b00">
      <div class="data-frag" data-frag="04" style="top:18%;right:7%" title="Data Fragment 04"></div>
      <div class="sec-bg"><div class="orb" style="width:500px;height:500px;background:radial-gradient(circle,rgba(255,123,0,.06),transparent 70%);top:30%;right:20%"></div></div>
      <div class="ghost-head">FLOW</div>
      <div class="sec-inner">
        <div class="glass">
          <div class="corner c-tl" style="--ac:#ff7b00"></div><div class="corner c-tr" style="--ac:#ff7b00"></div><div class="corner c-bl" style="--ac:#ff7b00"></div><div class="corner c-br" style="--ac:#ff7b00"></div>
          <div class="sec-label">Process Intelligence</div>
          <div class="sec-title">Agent Workflows</div>
          <div class="sec-rule" style="background:linear-gradient(90deg,#ff7b00,transparent)"></div>
          <div class="sec-desc">Sophisticated automation using <strong style="color:#ff7b00">n8n, Make, Zapier</strong> and custom Python pipelines. Average: <strong style="color:#ffaa00">80% time savings</strong>, <strong style="color:#ffaa00">95% error reduction</strong>.</div>
          <div class="flow-examples">
            <div class="flow-ex"><div class="fe-node">Email</div><div class="fe-arr">→</div><div class="fe-node">AI Classify</div><div class="fe-arr">→</div><div class="fe-node">CRM Update</div><div class="fe-arr">→</div><div class="fe-node">Slack</div><div class="fe-result">80% faster</div></div>
            <div class="flow-ex"><div class="fe-node">Lead Form</div><div class="fe-arr">→</div><div class="fe-node">AI Score</div><div class="fe-arr">→</div><div class="fe-node">Assign Rep</div><div class="fe-arr">→</div><div class="fe-node">Book Call</div><div class="fe-result">Zero-touch</div></div>
            <div class="flow-ex"><div class="fe-node">Invoice</div><div class="fe-arr">→</div><div class="fe-node">Extract</div><div class="fe-arr">→</div><div class="fe-node">Validate</div><div class="fe-arr">→</div><div class="fe-node">Pay</div><div class="fe-result">7 sec/invoice</div></div>
          </div>
          <div class="cube-grid">
            <div class="cube-card"><svg class="cc-icon" viewBox="0 0 100 100" style="color:#ff7b00"><circle cx="50" cy="50" r="18" fill="none" stroke="currentColor" stroke-width="2"/><path d="M50 10L54 22L62 14L62 28L74 24L68 36L82 38L72 46L82 54L68 56L74 68L62 64L62 78L54 70L50 82L46 70L38 78L38 64L26 68L32 56L18 54L28 46L18 38L32 36L26 24L38 28L38 14L46 22Z" fill="none" stroke="currentColor" stroke-width="1.5"/></svg><div class="cc-title" style="color:#ff7b00">Automation</div><div class="cc-desc">End-to-end workflow design with smart error handling.</div></div>
            <div class="cube-card"><svg class="cc-icon" viewBox="0 0 100 100" style="color:#ff7b00"><rect x="8" y="35" width="24" height="30" rx="3" fill="none" stroke="currentColor" stroke-width="2"/><rect x="38" y="15" width="24" height="30" rx="3" fill="none" stroke="currentColor" stroke-width="2"/><rect x="68" y="45" width="24" height="30" rx="3" fill="none" stroke="currentColor" stroke-width="2"/><line x1="32" y1="50" x2="38" y2="30" stroke="currentColor" stroke-width="1.5"/><line x1="62" y1="30" x2="68" y2="60" stroke="currentColor" stroke-width="1.5"/></svg><div class="cc-title" style="color:#ff7b00">Integration</div><div class="cc-desc">Seamlessly connect disparate tools into unified workflows.</div></div>
            <div class="cube-card"><svg class="cc-icon" viewBox="0 0 100 100" style="color:#ff7b00"><polyline points="60,5 35,50 55,50 40,95 75,42 52,42 60,5" fill="none" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/></svg><div class="cc-title" style="color:#ff7b00">Real-Time</div><div class="cc-desc">Event-driven automation responding instantly to triggers.</div></div>
            <div class="cube-card"><svg class="cc-icon" viewBox="0 0 100 100" style="color:#ff7b00"><rect x="15" y="20" width="70" height="15" rx="2" fill="none" stroke="currentColor" stroke-width="1.5"/><rect x="15" y="45" width="70" height="15" rx="2" fill="none" stroke="currentColor" stroke-width="1.5"/><rect x="15" y="70" width="70" height="15" rx="2" fill="none" stroke="currentColor" stroke-width="1.5"/></svg><div class="cc-title" style="color:#ff7b00">Pipelines</div><div class="cc-desc">Automated data collection, transformation at enterprise scale.</div></div>
          </div>
          <div class="sec-drops">
        <div class="sec-drop">
          <div class="drop-hd" onclick="toggleDrop(this)">
            <span class="drop-icon">🔌</span>
            <span class="drop-title">Platform Integrations</span>
            <span class="drop-chevron"></span>
          </div>
          <div class="drop-bd">
            <div class="drop-inner"><div class="d-table-wrap"><table class="d-table">
              <tr><th>Platform</th><th>Best For</th><th>Complexity</th></tr>
              <tr><td>n8n</td><td>Self-hosted, custom nodes</td><td class="good">Low–Med</td></tr>
              <tr><td>Make (Integromat)</td><td>Visual flows, 1000+ apps</td><td class="good">Low</td></tr>
              <tr><td>Zapier</td><td>Rapid prototyping, no-code</td><td class="good">Low</td></tr>
              <tr><td>Apache Airflow</td><td>Data pipelines, scheduling</td><td class="ok">High</td></tr>
              <tr><td>Custom Python</td><td>Complex logic, full control</td><td class="ok">High</td></tr>
              <tr><td>Temporal.io</td><td>Durable workflows, retries</td><td class="ok">Med–High</td></tr>
            </table></div></div>
          </div>
        </div>
        <div class="sec-drop">
          <div class="drop-hd" onclick="toggleDrop(this)">
            <span class="drop-icon">📄</span>
            <span class="drop-title">Workflow Templates</span>
            <span class="drop-chevron"></span>
          </div>
          <div class="drop-bd">
            <div class="drop-inner"><div class="dlist">
              <div class="dlist-item" data-n="1"><strong>Lead Capture → Qualify → CRM → Calendar:</strong> Form submission triggers AI scoring, auto-assigns rep, books discovery call</div>
              <div class="dlist-item" data-n="2"><strong>Invoice Processing:</strong> Email attachment → OCR → validation → ERP entry → payment → confirmation</div>
              <div class="dlist-item" data-n="3"><strong>Social Monitoring:</strong> Brand mentions → sentiment → escalate negatives → draft response → queue</div>
              <div class="dlist-item" data-n="4"><strong>Onboarding Automation:</strong> New user → provision accounts → send sequences → track milestones → alert CS</div>
              <div class="dlist-item" data-n="5"><strong>Report Generation:</strong> Nightly cron → pull data → AI summarise → format PDF → distribute to stakeholders</div>
            </div></div>
          </div>
        </div>
        <div class="sec-drop">
          <div class="drop-hd" onclick="toggleDrop(this)">
            <span class="drop-icon">💰</span>
            <span class="drop-title">ROI Snapshot</span>
            <span class="drop-chevron"></span>
          </div>
          <div class="drop-bd">
            <div class="drop-inner"><div class="d-metrics">
              <div class="d-metric"><div class="d-metric-val">80%</div><div class="d-metric-lbl">Time saved avg</div></div>
              <div class="d-metric"><div class="d-metric-val">95%</div><div class="d-metric-lbl">Error reduction</div></div>
              <div class="d-metric"><div class="d-metric-val">3×</div><div class="d-metric-lbl">Avg ROI year 1</div></div>
            </div>
            <div class="dlist" style="margin-top:8px">
              <div class="dlist-item" data-n="▸">Manual invoice team (5 ppl) → 1 automated pipeline → <strong>saves £180K/yr</strong></div>
              <div class="dlist-item" data-n="▸">Lead response time: 4 hrs → 90 seconds → <strong>conversion up 34%</strong></div>
              <div class="dlist-item" data-n="▸">Report generation: 3 hrs manual → <strong>6 min automated</strong>, daily</div>
            </div></div>
          </div>
        </div>
      </div>
        </div>
      </div>
    </div>

    <!-- ████ RAG ████ -->
    <div class="sec-panel" data-sec="RAG SYSTEMS" data-num="06" data-color="#ff2d9b" style="--ac:#ff2d9b">
      <div class="data-frag" data-frag="05" style="top:14%;right:5%" title="Data Fragment 05"></div>
      <div class="sec-bg"><div class="orb" style="width:600px;height:600px;background:radial-gradient(circle,rgba(255,45,155,.06),transparent 70%);top:50%;left:50%;transform:translate(-50%,-50%)"></div></div>
      <div class="ghost-head">RAG</div>
      <div class="sec-inner">
        <div class="glass">
          <div class="corner c-tl" style="--ac:#ff2d9b"></div><div class="corner c-tr" style="--ac:#ff2d9b"></div><div class="corner c-bl" style="--ac:#ff2d9b"></div><div class="corner c-br" style="--ac:#ff2d9b"></div>
          <div class="sec-label">Knowledge Intelligence</div>
          <div class="sec-title">RAG Systems</div>
          <div class="sec-rule" style="background:linear-gradient(90deg,#ff2d9b,transparent)"></div>
          <div class="sec-desc">Retrieval-Augmented Generation making your data <strong style="color:#ff2d9b">intelligent and queryable</strong>. <strong>Pinecone, Weaviate, LlamaIndex, LangChain</strong> — enterprise semantic search and knowledge bases.</div>
          <div class="rag-pipe">
            <div class="rp-step" style="--d:.6s">Raw Data</div><div class="rp-arr" style="--d:.68s">→</div>
            <div class="rp-step" style="--d:.76s">Chunk</div><div class="rp-arr" style="--d:.84s">→</div>
            <div class="rp-step" style="--d:.92s">Embed</div><div class="rp-arr" style="--d:1s">→</div>
            <div class="rp-step" style="--d:1.08s">Vector Store</div><div class="rp-arr" style="--d:1.16s">→</div>
            <div class="rp-step" style="--d:1.24s">Query</div><div class="rp-arr" style="--d:1.32s">→</div>
            <div class="rp-step" style="--d:1.4s">Retrieve</div><div class="rp-arr" style="--d:1.48s">→</div>
            <div class="rp-step" style="--d:1.56s">Generate ✓</div>
          </div>
          <div class="cube-grid">
            <div class="cube-card"><svg class="cc-icon" viewBox="0 0 100 100" style="color:#ff2d9b"><ellipse cx="50" cy="25" rx="30" ry="12" fill="none" stroke="currentColor" stroke-width="2"/><line x1="20" y1="25" x2="20" y2="75" stroke="currentColor" stroke-width="2"/><line x1="80" y1="25" x2="80" y2="75" stroke="currentColor" stroke-width="2"/><ellipse cx="50" cy="75" rx="30" ry="12" fill="none" stroke="currentColor" stroke-width="2"/><ellipse cx="50" cy="50" rx="30" ry="12" fill="none" stroke="currentColor" stroke-width="1" stroke-dasharray="4,3"/></svg><div class="cc-title" style="color:#ff2d9b">Enterprise Search</div><div class="cc-desc">Semantic search across all your documents instantly.</div><div class="cc-result">250K-doc corpus searchable in <strong>&lt;100ms</strong></div></div>
            <div class="cube-card"><svg class="cc-icon" viewBox="0 0 100 100" style="color:#ff2d9b"><path d="M20 30L20 70L60 70L75 55L75 30Z" fill="none" stroke="currentColor" stroke-width="2"/><circle cx="75" cy="75" r="12" fill="none" stroke="currentColor" stroke-width="2"/></svg><div class="cc-title" style="color:#ff2d9b">Smart Chatbots</div><div class="cc-desc">Context-aware AI trained on your specific knowledge base.</div><div class="cc-result">500+ support queries/day — <strong>98.7% accuracy</strong></div></div>
            <div class="cube-card"><svg class="cc-icon" viewBox="0 0 100 100" style="color:#ff2d9b"><circle cx="45" cy="45" r="28" fill="none" stroke="currentColor" stroke-width="2"/><line x1="65" y1="65" x2="85" y2="85" stroke="currentColor" stroke-width="2.5" stroke-linecap="round"/></svg><div class="cc-title" style="color:#ff2d9b">Document Q&amp;A</div><div class="cc-desc">Natural language queries with source citations.</div><div class="cc-result">Legal contract analysis in <strong>seconds not hours</strong></div></div>
            <div class="cube-card"><svg class="cc-icon" viewBox="0 0 100 100" style="color:#ff2d9b"><circle cx="30" cy="30" r="8" fill="none" stroke="currentColor" stroke-width="2"/><circle cx="70" cy="30" r="8" fill="none" stroke="currentColor" stroke-width="2"/><circle cx="30" cy="70" r="8" fill="none" stroke="currentColor" stroke-width="2"/><circle cx="70" cy="70" r="8" fill="none" stroke="currentColor" stroke-width="2"/><circle cx="50" cy="50" r="8" fill="none" stroke="currentColor" stroke-width="2"/></svg><div class="cc-title" style="color:#ff2d9b">Knowledge Graphs</div><div class="cc-desc">Entity extraction and relationship mapping for deep context.</div><div class="cc-result">Competitor intelligence graph for <strong>Fortune 500</strong> client</div></div>
          </div>
          <div class="sec-drops">
        <div class="sec-drop">
          <div class="drop-hd" onclick="toggleDrop(this)">
            <span class="drop-icon">🗄️</span>
            <span class="drop-title">Vector DB Comparison</span>
            <span class="drop-chevron"></span>
          </div>
          <div class="drop-bd">
            <div class="drop-inner"><table class="d-table">
              <tr><th>Database</th><th>Best For</th><th>Scaling</th><th>Cost</th></tr>
              <tr><td>Pinecone</td><td>Managed cloud, fast setup</td><td class="good">Excellent</td><td class="ok">$$</td></tr>
              <tr><td>Weaviate</td><td>Multi-modal, GraphQL API</td><td class="good">Excellent</td><td class="good">$</td></tr>
              <tr><td>Chroma</td><td>Local dev, prototyping</td><td class="ok">Good</td><td class="good">Free</td></tr>
              <tr><td>Qdrant</td><td>High performance, self-host</td><td class="good">Excellent</td><td class="good">$</td></tr>
              <tr><td>pgvector</td><td>Existing Postgres stack</td><td class="ok">Good</td><td class="good">Free</td></tr>
            </table></div>
          </div>
        </div>
        <div class="sec-drop">
          <div class="drop-hd" onclick="toggleDrop(this)">
            <span class="drop-icon">✂️</span>
            <span class="drop-title">Chunking Strategies</span>
            <span class="drop-chevron"></span>
          </div>
          <div class="drop-bd">
            <div class="drop-inner"><div class="dlist">
              <div class="dlist-item" data-n="1"><strong>Fixed-size:</strong> Split every N tokens. Fast, simple. Risk: breaks context mid-sentence. Best for uniform data.</div>
              <div class="dlist-item" data-n="2"><strong>Semantic:</strong> Split on meaning boundaries (paragraphs, headings). Better retrieval. Slightly slower.</div>
              <div class="dlist-item" data-n="3"><strong>Hierarchical:</strong> Parent + child chunks. Retrieve small for precision, expand to parent for context.</div>
              <div class="dlist-item" data-n="4"><strong>Sliding window:</strong> Overlapping chunks ensure cross-boundary context isn't lost. Good for legal/medical.</div>
              <div class="dlist-item" data-n="5"><strong>Proposition-based:</strong> Extract atomic facts. Highest precision, highest cost. Best for Q&amp;A over dense docs.</div>
            </div></div>
          </div>
        </div>
        <div class="sec-drop">
          <div class="drop-hd" onclick="toggleDrop(this)">
            <span class="drop-icon">🏢</span>
            <span class="drop-title">Enterprise RAG Architecture</span>
            <span class="drop-chevron"></span>
          </div>
          <div class="drop-bd">
            <div class="drop-inner"><div class="d-phases">
              <div class="d-phase"><div class="d-phase-num">1</div><div class="d-phase-content"><div class="d-phase-name">INGESTION PIPELINE</div><div class="d-phase-desc">Document parsers (PDF, DOCX, HTML) → chunking → embedding → vector store with metadata tagging</div></div></div>
              <div class="d-phase"><div class="d-phase-num">2</div><div class="d-phase-content"><div class="d-phase-name">MULTI-TENANT ISOLATION</div><div class="d-phase-desc">Namespace-per-tenant in vector DB, RBAC on retrieval, audit logging per query</div></div></div>
              <div class="d-phase"><div class="d-phase-num">3</div><div class="d-phase-content"><div class="d-phase-name">HYBRID SEARCH</div><div class="d-phase-desc">BM25 keyword + dense vector retrieval, re-ranked by cross-encoder for best precision</div></div></div>
              <div class="d-phase"><div class="d-phase-num">4</div><div class="d-phase-content"><div class="d-phase-name">GUARDRAILS</div><div class="d-phase-desc">Hallucination detection, source citation enforcement, PII redaction, response filtering</div></div></div>
            </div></div>
          </div>
        </div>
      </div>
        </div>
      </div>
    </div>

    <!-- ████ AI AUTOMATION ████ -->
    <div class="sec-panel" data-sec="AI AUTOMATION" data-num="07" data-color="#00ff9d" style="--ac:#00ff9d">
      <div class="data-frag" data-frag="06" style="top:16%;right:8%" title="Data Fragment 06"></div>
      <div class="sec-bg"><div class="orb" style="width:650px;height:650px;background:radial-gradient(circle,rgba(0,255,157,.04),transparent 70%);top:20%;right:10%"></div></div>
      <div class="ghost-head">AUTO</div>
      <div class="sec-inner">
        <div class="glass">
          <div class="corner c-tl" style="--ac:#00ff9d"></div><div class="corner c-tr" style="--ac:#00ff9d"></div><div class="corner c-bl" style="--ac:#00ff9d"></div><div class="corner c-br" style="--ac:#00ff9d"></div>
          <div class="sec-label">Process Intelligence</div>
          <div class="sec-title">AI Automation</div>
          <div class="sec-rule" style="background:linear-gradient(90deg,#00ff9d,transparent)"></div>
          <div class="sec-desc">End-to-end AI automation with <strong style="color:#00ff9d">OpenAI, Claude, Gemini, HuggingFace</strong>. Transform repetitive tasks into intelligent, self-improving systems working 24/7.</div>
          <div class="kpi-row">
            <div class="kpi"><div class="kpi-val" data-target="12000" data-suffix="h+">12,000h+</div><div class="kpi-label">Saved/year</div></div>
            <div class="kpi"><div class="kpi-val">99.2%</div><div class="kpi-label">Accuracy</div></div>
            <div class="kpi"><div class="kpi-val">$340K</div><div class="kpi-label">Cost saved</div></div>
          </div>
          <div class="ba-chip"><span class="ba-before">⏱ 3 hrs manual entry</span><span class="ba-arr">→</span><span class="ba-after">⚡ 7 sec with AI</span></div>
          <div class="cube-grid">
            <div class="cube-card"><svg class="cc-icon" viewBox="0 0 100 100" style="color:#00ff9d"><path d="M25 12L65 12L75 22L75 88L25 88Z" fill="none" stroke="currentColor" stroke-width="2"/><line x1="35" y1="38" x2="65" y2="38" stroke="currentColor" stroke-width="1.5"/><line x1="35" y1="50" x2="65" y2="50" stroke="currentColor" stroke-width="1.5"/><line x1="35" y1="62" x2="55" y2="62" stroke="currentColor" stroke-width="1.5"/></svg><div class="cc-title" style="color:#00ff9d">Document Processing</div><div class="cc-desc">Intelligent extraction, classification, and routing.</div><div class="cc-result">OCR + AI validation — <strong>zero manual touch</strong></div></div>
            <div class="cube-card"><svg class="cc-icon" viewBox="0 0 100 100" style="color:#00ff9d"><path d="M30 25C30 25 20 35 20 50C20 65 28 75 38 78L38 88L62 88L62 78C72 75 80 65 80 50C80 35 70 25 70 25L50 15Z" fill="none" stroke="currentColor" stroke-width="2"/></svg><div class="cc-title" style="color:#00ff9d">Customer Support</div><div class="cc-desc">AI helpdesks with smart routing and automated response.</div><div class="cc-result">Deflection rate <strong>73%</strong>, CSAT up 40%</div></div>
            <div class="cube-card"><svg class="cc-icon" viewBox="0 0 100 100" style="color:#00ff9d"><polyline points="10,80 30,60 50,65 70,35 90,20" fill="none" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/><line x1="10" y1="90" x2="90" y2="90" stroke="currentColor" stroke-width="1.5"/></svg><div class="cc-title" style="color:#00ff9d">Predictive Analytics</div><div class="cc-desc">Data-driven forecasting and anomaly detection.</div><div class="cc-result">Anomaly caught <strong>6 hrs early</strong>, saved $80K outage</div></div>
            <div class="cube-card"><svg class="cc-icon" viewBox="0 0 100 100" style="color:#00ff9d"><rect x="15" y="30" width="70" height="50" rx="4" fill="none" stroke="currentColor" stroke-width="2"/><line x1="15" y1="42" x2="85" y2="42" stroke="currentColor" stroke-width="1.5"/></svg><div class="cc-title" style="color:#00ff9d">Comm. Automation</div><div class="cc-desc">Smart email, scheduling, and follow-up 24/7.</div><div class="cc-result">300+ personalized emails/day — <strong>fully hands-free</strong></div></div>
          </div>
          <div class="sec-drops">
        <div class="sec-drop">
          <div class="drop-hd" onclick="toggleDrop(this)">
            <span class="drop-icon">🤖</span>
            <span class="drop-title">API Integrations</span>
            <span class="drop-chevron"></span>
          </div>
          <div class="drop-bd">
            <div class="drop-inner"><div class="d-subgrid">
              <div class="d-subcard"><div class="d-subcard-title">OpenAI</div><div class="d-subcard-val">GPT-4o, o1-preview, Whisper, DALL-E 3, function calling</div></div>
              <div class="d-subcard"><div class="d-subcard-title">Anthropic</div><div class="d-subcard-val">Claude 3.5 Sonnet/Haiku — long context, reasoning, tool use</div></div>
              <div class="d-subcard"><div class="d-subcard-title">Google</div><div class="d-subcard-val">Gemini Pro/Flash, Vertex AI, Document AI, Vision API</div></div>
              <div class="d-subcard"><div class="d-subcard-title">HuggingFace</div><div class="d-subcard-val">Open-source models, inference endpoints, fine-tuning</div></div>
              <div class="d-subcard"><div class="d-subcard-title">Azure AI</div><div class="d-subcard-val">Form Recognizer, Speech, Cognitive Search — enterprise-grade</div></div>
              <div class="d-subcard"><div class="d-subcard-title">Together.ai</div><div class="d-subcard-val">Cost-optimized open model inference for high-volume tasks</div></div>
            </div></div>
          </div>
        </div>
        <div class="sec-drop">
          <div class="drop-hd" onclick="toggleDrop(this)">
            <span class="drop-icon">📐</span>
            <span class="drop-title">Automation Patterns</span>
            <span class="drop-chevron"></span>
          </div>
          <div class="drop-bd">
            <div class="drop-inner"><div class="dlist">
              <div class="dlist-item" data-n="1"><strong>Extract-Transform-Load (ETL):</strong> Ingest raw data → AI normalize → validate → push to warehouse. Nightly or real-time.</div>
              <div class="dlist-item" data-n="2"><strong>Classify &amp; Route:</strong> Inbound (emails, tickets, forms) → LLM classify → auto-route to correct queue/person.</div>
              <div class="dlist-item" data-n="3"><strong>Generate &amp; Review:</strong> AI drafts (emails, reports, summaries) → human approves → auto-send. Human stays in loop.</div>
              <div class="dlist-item" data-n="4"><strong>Monitor &amp; Alert:</strong> Stream data → anomaly detection model → threshold breach → alert + auto-remediation.</div>
              <div class="dlist-item" data-n="5"><strong>Enrich &amp; Sync:</strong> CRM records → AI enrich (LinkedIn, news) → clean → sync back. Keep data fresh automatically.</div>
            </div></div>
          </div>
        </div>
        <div class="sec-drop">
          <div class="drop-hd" onclick="toggleDrop(this)">
            <span class="drop-icon">🔒</span>
            <span class="drop-title">Compliance & Data Safety</span>
            <span class="drop-chevron"></span>
          </div>
          <div class="drop-bd">
            <div class="drop-inner"><div class="d-check">
              <div class="d-check-item">Data minimisation — only send what the model <strong>needs</strong> to process</div>
              <div class="d-check-item">PII detection and <strong>redaction</strong> before LLM calls via regex + NER models</div>
              <div class="d-check-item"><strong>Audit logging</strong> of all AI calls with inputs, outputs, timestamps</div>
              <div class="d-check-item">API keys in <strong>secrets manager</strong> (AWS Secrets Manager / HashiCorp Vault)</div>
              <div class="d-check-item">Rate limiting and <strong>cost caps</strong> to prevent runaway spend</div>
              <div class="d-check-item warn">GDPR: data processed under legitimate interest or consent — document both</div>
              <div class="d-check-item warn">No training on client data unless explicitly consented and contracted</div>
            </div></div>
          </div>
        </div>
      </div>
        </div>
      </div>
    </div>

    <!-- ████ FULL-STACK ████ -->
    <div class="sec-panel" data-sec="FULL-STACK" data-num="08" data-color="#4f46ff" style="--ac:#4f46ff">
      <div class="data-frag" data-frag="07" style="top:11%;right:6%" title="Data Fragment 07"></div>
      <div class="sec-bg"><div class="orb" style="width:580px;height:580px;background:radial-gradient(circle,rgba(79,70,255,.08),transparent 70%);bottom:20%;left:20%"></div></div>
      <div class="ghost-head">STACK</div>
      <div class="sec-inner">
        <div class="glass">
          <div class="corner c-tl" style="--ac:#4f46ff"></div><div class="corner c-tr" style="--ac:#4f46ff"></div><div class="corner c-bl" style="--ac:#4f46ff"></div><div class="corner c-br" style="--ac:#4f46ff"></div>
          <div class="sec-label">End-to-End</div>
          <div class="sec-title">Full-Stack Web</div>
          <div class="sec-rule" style="background:linear-gradient(90deg,#4f46ff,transparent)"></div>
          <div class="sec-desc">Complete web solutions from UI to infrastructure. <strong style="color:#4f46ff">React, Next.js, Node.js, Python</strong> — built for speed, scale, and stunning experiences.</div>
          <div class="perf-chip">
            <div class="pc" style="--d:.7s;border-color:rgba(79,70,255,.2);color:rgba(79,70,255,.8)">Lighthouse 98/100</div>
            <div class="pc" style="--d:.82s;border-color:rgba(79,70,255,.2);color:rgba(79,70,255,.8)">&lt;1.8s FCP</div>
            <div class="pc" style="--d:.94s;border-color:rgba(79,70,255,.2);color:rgba(79,70,255,.8)">99.9% Uptime</div>
            <div class="pc" style="--d:1.06s;border-color:rgba(79,70,255,.2);color:rgba(79,70,255,.8)">TypeScript-first</div>
          </div>
          <div class="cube-grid">
            <div class="cube-card"><svg class="cc-icon" viewBox="0 0 100 100" style="color:#4f46ff"><circle cx="50" cy="50" r="20" fill="none" stroke="currentColor" stroke-width="2"/><path d="M50 30C60 30 70 39 70 50" stroke="currentColor" stroke-width="2" fill="none"/><line x1="20" y1="50" x2="80" y2="50" stroke="currentColor" stroke-width="1" stroke-dasharray="3,3"/></svg><div class="cc-title" style="color:#4f46ff">React & Next.js</div><div class="cc-desc">High-performance SPAs, SSR/SSG, PWAs with great Web Vitals.</div><div class="cc-result">E-commerce platform serving <strong>2M+ monthly</strong> users</div></div>
            <div class="cube-card"><svg class="cc-icon" viewBox="0 0 100 100" style="color:#4f46ff"><polygon points="50,10 80,30 80,70 50,90 20,70 20,30" fill="none" stroke="currentColor" stroke-width="2"/><text x="50" y="58" text-anchor="middle" font-size="18" fill="currentColor" font-family="monospace">JS</text></svg><div class="cc-title" style="color:#4f46ff">Backend Power</div><div class="cc-desc">Node.js, Python, REST and GraphQL APIs with robust auth.</div><div class="cc-result">300+ endpoints, OpenAPI documented, <strong>sub-50ms</strong> p99</div></div>
            <div class="cube-card"><svg class="cc-icon" viewBox="0 0 100 100" style="color:#4f46ff"><path d="M78 62C87 62 92 54 88 46C85 40 78 38 72 41C70 32 62 26 52 26C40 26 30 35 30 46C24 47 18 53 20 60C22 67 29 70 36 68" fill="none" stroke="currentColor" stroke-width="2"/><polyline points="50,55 50,82" stroke="currentColor" stroke-width="2"/><polyline points="38,70 50,82 62,70" fill="none" stroke="currentColor" stroke-width="2"/></svg><div class="cc-title" style="color:#4f46ff">Cloud Native</div><div class="cc-desc">AWS, Azure, GCP with auto-scaling and CI/CD pipelines.</div><div class="cc-result">Multi-region deployment — <strong>zero-downtime</strong> releases</div></div>
            <div class="cube-card"><svg class="cc-icon" viewBox="0 0 100 100" style="color:#4f46ff"><ellipse cx="50" cy="25" rx="30" ry="10" fill="none" stroke="currentColor" stroke-width="2"/><line x1="20" y1="25" x2="20" y2="75" stroke="currentColor" stroke-width="2"/><line x1="80" y1="25" x2="80" y2="75" stroke="currentColor" stroke-width="2"/><ellipse cx="50" cy="75" rx="30" ry="10" fill="none" stroke="currentColor" stroke-width="2"/></svg><div class="cc-title" style="color:#4f46ff">Data Architecture</div><div class="cc-desc">PostgreSQL, MongoDB, Redis — optimized for scale.</div><div class="cc-result">85% query speedup via <strong>strategic indexing</strong></div></div>
          </div>
          <div class="prof-bars">
            <div class="prof-item"><div class="prof-label"><span class="prof-name">React/Next.js</span><span class="prof-pct">95%</span></div><div class="prof-track"><div class="prof-fill" style="--w:95%"></div></div></div>
            <div class="prof-item"><div class="prof-label"><span class="prof-name">Python / FastAPI</span><span class="prof-pct">90%</span></div><div class="prof-track"><div class="prof-fill" style="--w:90%"></div></div></div>
            <div class="prof-item"><div class="prof-label"><span class="prof-name">Node.js</span><span class="prof-pct">88%</span></div><div class="prof-track"><div class="prof-fill" style="--w:88%"></div></div></div>
            <div class="prof-item"><div class="prof-label"><span class="prof-name">Cloud (AWS/GCP)</span><span class="prof-pct">82%</span></div><div class="prof-track"><div class="prof-fill" style="--w:82%"></div></div></div>
          </div>
          <div class="sec-drops">
        <div class="sec-drop">
          <div class="drop-hd" onclick="toggleDrop(this)">
            <span class="drop-icon">🏗️</span>
            <span class="drop-title">Tech Stack Deep-Dive</span>
            <span class="drop-chevron"></span>
          </div>
          <div class="drop-bd">
            <div class="drop-inner"><div class="d-subgrid">
              <div class="d-subcard"><div class="d-subcard-title">Frontend</div><div class="d-subcard-val">React 18 · Next.js 14 · TypeScript · Tailwind CSS · Framer Motion</div></div>
              <div class="d-subcard"><div class="d-subcard-title">State Mgmt</div><div class="d-subcard-val">Zustand · React Query · Redux Toolkit (when needed)</div></div>
              <div class="d-subcard"><div class="d-subcard-title">API Layer</div><div class="d-subcard-val">REST · GraphQL (Apollo) · tRPC for full-stack type safety</div></div>
              <div class="d-subcard"><div class="d-subcard-title">Backend</div><div class="d-subcard-val">Node.js · Python FastAPI · Express · NestJS for enterprise</div></div>
              <div class="d-subcard"><div class="d-subcard-title">Auth</div><div class="d-subcard-val">NextAuth · Auth0 · Clerk · Custom JWT + refresh tokens</div></div>
              <div class="d-subcard"><div class="d-subcard-title">Testing</div><div class="d-subcard-val">Vitest · Playwright · Jest · Testing Library — 95%+ coverage</div></div>
            </div></div>
          </div>
        </div>
        <div class="sec-drop">
          <div class="drop-hd" onclick="toggleDrop(this)">
            <span class="drop-icon">⚡</span>
            <span class="drop-title">Performance Optimization</span>
            <span class="drop-chevron"></span>
          </div>
          <div class="drop-bd">
            <div class="drop-inner"><div class="dlist">
              <div class="dlist-item" data-n="1"><strong>Core Web Vitals:</strong> LCP &lt;2.5s via SSG/ISR, CLS 0 via skeleton screens, FID &lt;100ms</div>
              <div class="dlist-item" data-n="2"><strong>Image optimization:</strong> Next.js Image, WebP/AVIF conversion, lazy loading, CDN delivery</div>
              <div class="dlist-item" data-n="3"><strong>Code splitting:</strong> Dynamic imports, tree shaking, bundle analysis with Webpack Bundle Analyzer</div>
              <div class="dlist-item" data-n="4"><strong>Caching strategy:</strong> CDN (Cloudflare), Redis for sessions, SWR/React Query for client state</div>
              <div class="dlist-item" data-n="5"><strong>Database:</strong> Query optimization, connection pooling (PgBouncer), read replicas, indexes</div>
            </div></div>
          </div>
        </div>
        <div class="sec-drop">
          <div class="drop-hd" onclick="toggleDrop(this)">
            <span class="drop-icon">📅</span>
            <span class="drop-title">Project Lifecycle</span>
            <span class="drop-chevron"></span>
          </div>
          <div class="drop-bd">
            <div class="drop-inner"><div class="d-phases">
              <div class="d-phase"><div class="d-phase-num">1</div><div class="d-phase-content"><div class="d-phase-name">BRIEF → SPEC</div><div class="d-phase-desc">Convert your requirements into a detailed technical specification with wireframes</div></div></div>
              <div class="d-phase"><div class="d-phase-num">2</div><div class="d-phase-content"><div class="d-phase-name">PROTOTYPE</div><div class="d-phase-desc">Clickable prototype or technical proof-of-concept within first sprint</div></div></div>
              <div class="d-phase"><div class="d-phase-num">3</div><div class="d-phase-content"><div class="d-phase-name">BUILD PHASE</div><div class="d-phase-desc">Iterative 2-week sprints, daily updates, weekly demos — no black boxes</div></div></div>
              <div class="d-phase"><div class="d-phase-num">4</div><div class="d-phase-content"><div class="d-phase-name">UAT &amp; LAUNCH</div><div class="d-phase-desc">User acceptance testing, staged rollout, monitoring setup, go-live</div></div></div>
              <div class="d-phase"><div class="d-phase-num">5</div><div class="d-phase-content"><div class="d-phase-name">POST-LAUNCH</div><div class="d-phase-desc">Performance monitoring, bug fixes, feature iterations, scale-up support</div></div></div>
            </div></div>
          </div>
        </div>
      </div>
        </div>
      </div>
    </div>

    <!-- ████ MOBILE ████ -->
    <div class="sec-panel" data-sec="MOBILE APPS" data-num="09" data-color="#00e5ff" style="--ac:#00e5ff">
      <div class="data-frag" data-frag="08" style="top:17%;right:7%" title="Data Fragment 08"></div>
      <div class="sec-bg"><div class="orb" style="width:480px;height:480px;background:radial-gradient(circle,rgba(0,229,255,.06),transparent 70%);top:30%;right:25%"></div></div>
      <div class="ghost-head">MOBILE</div>
      <div class="sec-inner">
        <div class="glass">
          <div class="corner c-tl"></div><div class="corner c-tr"></div><div class="corner c-bl"></div><div class="corner c-br"></div>
          <div class="sec-label">Cross-Platform</div>
          <div class="sec-title">Mobile Apps</div>
          <div class="sec-rule"></div>
          <div class="sec-desc">Native iOS & Android plus <strong style="color:#00e5ff">React Native and Flutter</strong>. App Store and Play Store ready with offline capabilities, push notifications, and polished UX.</div>
          <div class="stats">
            <div class="stat-box"><div class="stat-n" data-target="12" data-suffix="+">12+</div><div class="stat-l">Apps Published</div></div>
            <div class="stat-box"><div class="stat-n">4.8★</div><div class="stat-l">Avg Rating</div></div>
            <div class="stat-box"><div class="stat-n">100K+</div><div class="stat-l">Downloads</div></div>
          </div>
          <div class="cube-grid">
            <div class="cube-card"><svg class="cc-icon" viewBox="0 0 100 100" style="color:#00e5ff"><rect x="28" y="8" width="44" height="84" rx="6" fill="none" stroke="currentColor" stroke-width="2"/><circle cx="50" cy="84" r="4" fill="none" stroke="currentColor" stroke-width="1.5"/><line x1="42" y1="18" x2="58" y2="18" stroke="currentColor" stroke-width="1.5"/></svg><div class="cc-title">Native Dev</div><div class="cc-desc">Swift for iOS, Kotlin for Android — full platform optimization.</div><div class="cc-result">Fintech app with Face ID, biometrics — <strong>4.9★</strong></div></div>
            <div class="cube-card"><svg class="cc-icon" viewBox="0 0 100 100" style="color:#00e5ff"><rect x="12" y="15" width="30" height="55" rx="5" fill="none" stroke="currentColor" stroke-width="1.5"/><rect x="58" y="15" width="30" height="55" rx="5" fill="none" stroke="currentColor" stroke-width="1.5"/><line x1="42" y1="42" x2="58" y2="42" stroke="currentColor" stroke-width="1.5"/></svg><div class="cc-title">Cross-Platform</div><div class="cc-desc">React Native and Flutter — write once, deploy everywhere.</div><div class="cc-result">40% faster dev vs native — <strong>same performance</strong></div></div>
            <div class="cube-card"><svg class="cc-icon" viewBox="0 0 100 100" style="color:#00e5ff"><path d="M20 80C30 60 45 40 50 20C55 40 70 60 80 80" fill="none" stroke="currentColor" stroke-width="2"/><circle cx="50" cy="20" r="5" fill="currentColor"/></svg><div class="cc-title">UI/UX Design</div><div class="cc-desc">Intuitive interfaces and smooth animations users love.</div><div class="cc-result">Redesign cut drop-off rate <strong>60%</strong></div></div>
            <div class="cube-card"><svg class="cc-icon" viewBox="0 0 100 100" style="color:#00e5ff"><path d="M50 10L60 35L80 30L65 48L72 70L50 58L28 70L35 48L20 30L40 35Z" fill="none" stroke="currentColor" stroke-width="2"/></svg><div class="cc-title">Store Ready</div><div class="cc-desc">Optimized for App Store and Play Store submission.</div><div class="cc-result"><strong>Zero-rejection</strong> submission record</div></div>
          </div>
          <div class="sec-drops">
        <div class="sec-drop">
          <div class="drop-hd" onclick="toggleDrop(this)">
            <span class="drop-icon">📱</span>
            <span class="drop-title">Platform Capabilities</span>
            <span class="drop-chevron"></span>
          </div>
          <div class="drop-bd">
            <div class="drop-inner"><table class="d-table">
              <tr><th>Feature</th><th>iOS Native</th><th>Android Native</th><th>React Native</th><th>Flutter</th></tr>
              <tr><td>Performance</td><td class="good">Best</td><td class="good">Best</td><td class="ok">Very Good</td><td class="ok">Very Good</td></tr>
              <tr><td>Dev Speed</td><td class="bad">Slower</td><td class="bad">Slower</td><td class="good">Fast</td><td class="good">Fast</td></tr>
              <tr><td>Code Reuse</td><td class="bad">0%</td><td class="bad">0%</td><td class="good">~85%</td><td class="good">~95%</td></tr>
              <tr><td>UI Customisation</td><td class="good">Full</td><td class="good">Full</td><td class="ok">Good</td><td class="good">Full</td></tr>
            </table></div>
          </div>
        </div>
        <div class="sec-drop">
          <div class="drop-hd" onclick="toggleDrop(this)">
            <span class="drop-icon">🏛️</span>
            <span class="drop-title">App Architecture Patterns</span>
            <span class="drop-chevron"></span>
          </div>
          <div class="drop-bd">
            <div class="drop-inner"><div class="d-subgrid">
              <div class="d-subcard"><div class="d-subcard-title">MVVM</div><div class="d-subcard-val">Model-View-ViewModel. Standard for React Native &amp; SwiftUI. Clean separation, testable.</div></div>
              <div class="d-subcard"><div class="d-subcard-title">Clean Architecture</div><div class="d-subcard-val">Use cases, repositories, entities. Framework-independent core. Enterprise grade.</div></div>
              <div class="d-subcard"><div class="d-subcard-title">BLoC (Flutter)</div><div class="d-subcard-val">Business Logic Components via streams. Predictable state, great for complex apps.</div></div>
              <div class="d-subcard"><div class="d-subcard-title">Redux / Zustand</div><div class="d-subcard-val">Global state for React Native. Redux for large teams, Zustand for simplicity.</div></div>
            </div></div>
          </div>
        </div>
        <div class="sec-drop">
          <div class="drop-hd" onclick="toggleDrop(this)">
            <span class="drop-icon">🏪</span>
            <span class="drop-title">Store Submission & ASO</span>
            <span class="drop-chevron"></span>
          </div>
          <div class="drop-bd">
            <div class="drop-inner"><div class="d-check">
              <div class="d-check-item">App Store guidelines review before first build — <strong>prevent 90% of rejections</strong></div>
              <div class="d-check-item">Screenshots and preview video for <strong>all required device sizes</strong></div>
              <div class="d-check-item">Keyword research for App Store and Play Store <strong>discoverability</strong></div>
              <div class="d-check-item">Privacy manifest and data usage declarations — <strong>mandatory since iOS 17</strong></div>
              <div class="d-check-item">TestFlight / Internal Testing track — <strong>beta testing before public release</strong></div>
              <div class="d-check-item warn">Phased rollout (1% → 10% → 100%) recommended for major updates</div>
            </div></div>
          </div>
        </div>
      </div>
        </div>
      </div>
    </div>

    <!-- ████ BACKEND ████ -->
    <div class="sec-panel" data-sec="BACKEND" data-num="10" data-color="#00ff9d" style="--ac:#00ff9d">
      <div class="data-frag" data-frag="09" style="top:13%;right:5%" title="Data Fragment 09"></div>
      <div class="sec-bg"><div class="orb" style="width:580px;height:580px;background:radial-gradient(circle,rgba(0,255,157,.05),transparent 70%);bottom:20%;right:10%"></div></div>
      <div class="ghost-head">BACKEND</div>
      <div class="sec-inner">
        <div class="glass">
          <div class="corner c-tl" style="--ac:#00ff9d"></div><div class="corner c-tr" style="--ac:#00ff9d"></div><div class="corner c-bl" style="--ac:#00ff9d"></div><div class="corner c-br" style="--ac:#00ff9d"></div>
          <div class="sec-label">Infrastructure</div>
          <div class="sec-title">Backend & APIs</div>
          <div class="sec-rule" style="background:linear-gradient(90deg,#00ff9d,transparent)"></div>
          <div class="sec-desc">Scalable, secure backends. <strong style="color:#00ff9d">REST, GraphQL, WebSocket</strong> — microservices architecture built for millions of requests.</div>
          <div class="arch-diagram">Client → CDN → Load Balancer → [Auth · Gateway] → Microservices → [PostgreSQL · Redis · MongoDB]</div>
          <div class="kpi-row" style="--ac:#00ff9d">
            <div class="kpi" style="border-color:rgba(0,255,157,.1)"><div class="kpi-val" style="color:#00ff9d">&lt;50ms</div><div class="kpi-label">p99 Latency</div></div>
            <div class="kpi" style="border-color:rgba(0,255,157,.1)"><div class="kpi-val" style="color:#00ff9d">10K+</div><div class="kpi-label">RPS handled</div></div>
            <div class="kpi" style="border-color:rgba(0,255,157,.1)"><div class="kpi-val" style="color:#00ff9d">99.99%</div><div class="kpi-label">Uptime SLA</div></div>
          </div>
          <div class="cube-grid">
            <div class="cube-card"><svg class="cc-icon" viewBox="0 0 100 100" style="color:#00ff9d"><rect x="8" y="35" width="28" height="30" rx="4" fill="none" stroke="currentColor" stroke-width="2"/><rect x="64" y="35" width="28" height="30" rx="4" fill="none" stroke="currentColor" stroke-width="2"/><line x1="36" y1="50" x2="64" y2="50" stroke="currentColor" stroke-width="2"/><polyline points="54,44 64,50 54,56" fill="none" stroke="currentColor" stroke-width="1.5"/></svg><div class="cc-title" style="color:#00ff9d">API Development</div><div class="cc-desc">REST, GraphQL, WebSocket with comprehensive documentation.</div><div class="cc-result">300+ endpoints, OpenAPI spec, <strong>auto-generated SDKs</strong></div></div>
            <div class="cube-card"><svg class="cc-icon" viewBox="0 0 100 100" style="color:#00ff9d"><rect x="8" y="8" width="25" height="25" rx="3" fill="none" stroke="currentColor" stroke-width="1.5"/><rect x="38" y="38" width="25" height="25" rx="3" fill="none" stroke="currentColor" stroke-width="2"/><rect x="68" y="68" width="25" height="25" rx="3" fill="none" stroke="currentColor" stroke-width="1.5"/></svg><div class="cc-title" style="color:#00ff9d">Microservices</div><div class="cc-desc">Distributed systems, service mesh, event-driven architecture.</div><div class="cc-result">12-service fintech system — <strong>zero single point of failure</strong></div></div>
            <div class="cube-card"><svg class="cc-icon" viewBox="0 0 100 100" style="color:#00ff9d"><ellipse cx="50" cy="25" rx="30" ry="12" fill="none" stroke="currentColor" stroke-width="2"/><line x1="20" y1="25" x2="20" y2="75" stroke="currentColor" stroke-width="2"/><line x1="80" y1="25" x2="80" y2="75" stroke="currentColor" stroke-width="2"/><ellipse cx="50" cy="75" rx="30" ry="12" fill="none" stroke="currentColor" stroke-width="2"/></svg><div class="cc-title" style="color:#00ff9d">Databases</div><div class="cc-desc">PostgreSQL, MongoDB, Redis, Elasticsearch — optimized data layer.</div><div class="cc-result">Query optimization — <strong>85% load reduction</strong></div></div>
            <div class="cube-card"><svg class="cc-icon" viewBox="0 0 100 100" style="color:#00ff9d"><rect x="20" y="30" width="60" height="45" rx="4" fill="none" stroke="currentColor" stroke-width="2"/><rect x="20" y="30" width="60" height="12" fill="currentColor" opacity=".15"/><circle cx="30" cy="36" r="3" fill="currentColor"/></svg><div class="cc-title" style="color:#00ff9d">DevOps</div><div class="cc-desc">Docker, Kubernetes, Terraform, CI/CD automation.</div><div class="cc-result">Rolling updates — <strong>zero-downtime deployments</strong></div></div>
          </div>
          <div class="sec-drops">
        <div class="sec-drop">
          <div class="drop-hd" onclick="toggleDrop(this)">
            <span class="drop-icon">📐</span>
            <span class="drop-title">API Design Standards</span>
            <span class="drop-chevron"></span>
          </div>
          <div class="drop-bd">
            <div class="drop-inner"><div class="dlist">
              <div class="dlist-item" data-n="1"><strong>RESTful conventions:</strong> Nouns not verbs, plural resources, proper HTTP status codes (200/201/204/400/401/404/422/500)</div>
              <div class="dlist-item" data-n="2"><strong>Versioning:</strong> URL versioning (/v1/, /v2/) for breaking changes, header versioning for minor</div>
              <div class="dlist-item" data-n="3"><strong>OpenAPI 3.1:</strong> Auto-generate SDKs, Swagger UI, Postman collections from spec</div>
              <div class="dlist-item" data-n="4"><strong>Pagination:</strong> Cursor-based for large datasets, offset for small. Always include total count.</div>
              <div class="dlist-item" data-n="5"><strong>Rate limiting:</strong> Token bucket per API key, sliding window per IP — return 429 with Retry-After header</div>
            </div></div>
          </div>
        </div>
        <div class="sec-drop">
          <div class="drop-hd" onclick="toggleDrop(this)">
            <span class="drop-icon">🗃️</span>
            <span class="drop-title">Database Selection Guide</span>
            <span class="drop-chevron"></span>
          </div>
          <div class="drop-bd">
            <div class="drop-inner"><table class="d-table">
              <tr><th>Use Case</th><th>Best Choice</th><th>Why</th></tr>
              <tr><td>Relational data, ACID</td><td class="good">PostgreSQL</td><td>JSONB, extensions, reliability</td></tr>
              <tr><td>Flexible schema, docs</td><td class="good">MongoDB</td><td>Fast iteration, horizontal scale</td></tr>
              <tr><td>Cache / sessions</td><td class="good">Redis</td><td>Sub-ms latency, pub/sub, TTL</td></tr>
              <tr><td>Full-text search</td><td class="ok">Elasticsearch</td><td>Relevance ranking, aggregations</td></tr>
              <tr><td>Time-series / analytics</td><td class="ok">ClickHouse</td><td>Columnar, real-time OLAP</td></tr>
              <tr><td>Graph relationships</td><td class="ok">Neo4j</td><td>Cypher queries, relationship traversal</td></tr>
            </table></div>
          </div>
        </div>
        <div class="sec-drop">
          <div class="drop-hd" onclick="toggleDrop(this)">
            <span class="drop-icon">🛡️</span>
            <span class="drop-title">Security Checklist</span>
            <span class="drop-chevron"></span>
          </div>
          <div class="drop-bd">
            <div class="drop-inner"><div class="d-check">
              <div class="d-check-item">Input validation on <strong>every endpoint</strong> — Zod/Pydantic schema validation</div>
              <div class="d-check-item">SQL injection prevention — <strong>parameterised queries only</strong>, never string interpolation</div>
              <div class="d-check-item">JWT expiry &amp; refresh rotation — <strong>15min access, 7d refresh</strong>, revocation list</div>
              <div class="d-check-item">HTTPS enforced, HSTS headers, <strong>CORS locked to known origins</strong></div>
              <div class="d-check-item">Secrets in environment variables — <strong>never in code or logs</strong></div>
              <div class="d-check-item">Dependency scanning — <strong>Snyk / Dependabot</strong> on every PR</div>
              <div class="d-check-item warn">All endpoints auth-protected by default — whitelist public routes, don't blacklist private</div>
            </div></div>
          </div>
        </div>
      </div>
        </div>
      </div>
    </div>

    <!-- ████ ARCHITECTURE ████ -->
    <div class="sec-panel" data-sec="ARCHITECTURE" data-num="11" data-color="#ff7b00" style="--ac:#ff7b00">
      <div class="data-frag" data-frag="10" style="top:19%;right:8%" title="Data Fragment 10"></div>
      <div class="sec-bg"><div class="orb" style="width:500px;height:500px;background:radial-gradient(circle,rgba(255,123,0,.06),transparent 70%);top:30%;left:30%"></div></div>
      <div class="ghost-head">ARCH</div>
      <div class="sec-inner">
        <div class="glass">
          <div class="corner c-tl" style="--ac:#ff7b00"></div><div class="corner c-tr" style="--ac:#ff7b00"></div><div class="corner c-bl" style="--ac:#ff7b00"></div><div class="corner c-br" style="--ac:#ff7b00"></div>
          <div class="sec-label">Systems Design</div>
          <div class="sec-title">Architecture · Security · Observability</div>
          <div class="sec-rule" style="background:linear-gradient(90deg,#ff7b00,transparent)"></div>
          <div class="sec-desc">Systems resilient today and <strong style="color:#ff7b00">future-proof tomorrow</strong>. Architecture hardening, security-first design, full observability. Re-architected monolith to microservices — <strong style="color:#ff7b00">cut infra cost 60%</strong>.</div>
          <div class="kpi-row" style="--ac:#ff7b00">
            <div class="kpi" style="border-color:rgba(255,123,0,.1)"><div class="kpi-val" style="color:#ff7b00">&lt;5min</div><div class="kpi-label">MTTR</div></div>
            <div class="kpi" style="border-color:rgba(255,123,0,.1)"><div class="kpi-val" style="color:#ff7b00">&lt;2%</div><div class="kpi-label">Alert Noise</div></div>
            <div class="kpi" style="border-color:rgba(255,123,0,.1)"><div class="kpi-val" style="color:#ff7b00">99.99%</div><div class="kpi-label">SLA Target</div></div>
          </div>
          <div class="cube-grid">
            <div class="cube-card"><svg class="cc-icon" viewBox="0 0 100 100" style="color:#ff7b00"><rect x="10" y="10" width="24" height="24" fill="none" stroke="currentColor" stroke-width="1.5"/><rect x="66" y="10" width="24" height="24" fill="none" stroke="currentColor" stroke-width="1.5"/><rect x="38" y="38" width="24" height="24" fill="none" stroke="currentColor" stroke-width="2"/><rect x="10" y="66" width="24" height="24" fill="none" stroke="currentColor" stroke-width="1.5"/><rect x="66" y="66" width="24" height="24" fill="none" stroke="currentColor" stroke-width="1.5"/></svg><div class="cc-title" style="color:#ff7b00">Architecture</div><div class="cc-desc">Scalable design: monolith → microservices → serverless.</div><div class="cc-result">Saved client <strong>$200K/yr</strong> in infra by right-sizing</div></div>
            <div class="cube-card"><svg class="cc-icon" viewBox="0 0 100 100" style="color:#ff7b00"><path d="M50 10L82 24L82 52C82 68 67 82 50 88C33 82 18 68 18 52L18 24Z" fill="none" stroke="currentColor" stroke-width="2"/><polyline points="34,50 45,61 66,40" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round"/></svg><div class="cc-title" style="color:#ff7b00">Security</div><div class="cc-desc">Zero-trust, JWT/OAuth2, rate limiting, OWASP Top 10.</div><div class="cc-result">Passed security audit with <strong>0 critical findings</strong></div></div>
            <div class="cube-card"><svg class="cc-icon" viewBox="0 0 100 100" style="color:#ff7b00"><path d="M10 50C25 30 40 20 50 20C60 20 75 30 90 50C75 70 60 80 50 80C40 80 25 70 10 50Z" fill="none" stroke="currentColor" stroke-width="2"/><circle cx="50" cy="50" r="14" fill="none" stroke="currentColor" stroke-width="2"/></svg><div class="cc-title" style="color:#ff7b00">Observability</div><div class="cc-desc">Grafana, Prometheus, OpenTelemetry — full-stack tracing.</div><div class="cc-result">Caught 6-hr early warning, <strong>prevented $80K outage</strong></div></div>
            <div class="cube-card"><svg class="cc-icon" viewBox="0 0 100 100" style="color:#ff7b00"><circle cx="50" cy="40" r="20" fill="none" stroke="currentColor" stroke-width="2"/><line x1="50" y1="60" x2="50" y2="78" stroke="currentColor" stroke-width="2"/><line x1="35" y1="78" x2="65" y2="78" stroke="currentColor" stroke-width="2"/></svg><div class="cc-title" style="color:#ff7b00">AI Evaluation</div><div class="cc-desc">LLM benchmarking, evals, hallucination detection at scale.</div><div class="cc-result">Custom eval harness — <strong>40% hallucination reduction</strong></div></div>
          </div>
          <div class="sec-drops">
        <div class="sec-drop">
          <div class="drop-hd" onclick="toggleDrop(this)">
            <span class="drop-icon">📊</span>
            <span class="drop-title">System Design Patterns</span>
            <span class="drop-chevron"></span>
          </div>
          <div class="drop-bd">
            <div class="drop-inner"><div class="d-subgrid">
              <div class="d-subcard"><div class="d-subcard-title">Microservices</div><div class="d-subcard-val">Independent deploy, team autonomy, per-service scaling. Use when: 10+ devs, multiple domains.</div></div>
              <div class="d-subcard"><div class="d-subcard-title">Event-Driven</div><div class="d-subcard-val">Kafka / RabbitMQ. Decoupled services, async processing, replay capability, audit trail.</div></div>
              <div class="d-subcard"><div class="d-subcard-title">CQRS + Event Sourcing</div><div class="d-subcard-val">Separate read/write models. Full audit history. Complex but powerful for financial systems.</div></div>
              <div class="d-subcard"><div class="d-subcard-title">Serverless</div><div class="d-subcard-val">AWS Lambda / Vercel Edge. Zero infra management, pay-per-call. Best for spiky, async workloads.</div></div>
              <div class="d-subcard"><div class="d-subcard-title">Hexagonal / Clean</div><div class="d-subcard-val">Domain-driven, ports &amp; adapters. Framework-independent core. Easy to test and migrate.</div></div>
              <div class="d-subcard"><div class="d-subcard-title">Modular Monolith</div><div class="d-subcard-val">Best of both worlds: single deploy, modular codebase. Start here, extract to micro later.</div></div>
            </div></div>
          </div>
        </div>
        <div class="sec-drop">
          <div class="drop-hd" onclick="toggleDrop(this)">
            <span class="drop-icon">🔐</span>
            <span class="drop-title">Security Framework</span>
            <span class="drop-chevron"></span>
          </div>
          <div class="drop-bd">
            <div class="drop-inner"><div class="d-phases">
              <div class="d-phase"><div class="d-phase-num">1</div><div class="d-phase-content"><div class="d-phase-name">ZERO-TRUST NETWORK</div><div class="d-phase-desc">Never trust, always verify. mTLS between services. Network policies in Kubernetes.</div></div></div>
              <div class="d-phase"><div class="d-phase-num">2</div><div class="d-phase-content"><div class="d-phase-name">IDENTITY &amp; ACCESS</div><div class="d-phase-desc">RBAC + ABAC hybrid. Least-privilege by default. PAM for elevated access.</div></div></div>
              <div class="d-phase"><div class="d-phase-num">3</div><div class="d-phase-content"><div class="d-phase-name">ENCRYPTION</div><div class="d-phase-desc">TLS 1.3 in transit, AES-256 at rest, KMS for key management.</div></div></div>
              <div class="d-phase"><div class="d-phase-num">4</div><div class="d-phase-content"><div class="d-phase-name">VULNERABILITY MGMT</div><div class="d-phase-desc">SAST/DAST in CI, OWASP ZAP scans, quarterly pen testing.</div></div></div>
            </div></div>
          </div>
        </div>
        <div class="sec-drop">
          <div class="drop-hd" onclick="toggleDrop(this)">
            <span class="drop-icon">📡</span>
            <span class="drop-title">Observability Stack</span>
            <span class="drop-chevron"></span>
          </div>
          <div class="drop-bd">
            <div class="drop-inner"><div class="d-subgrid">
              <div class="d-subcard"><div class="d-subcard-title">Prometheus</div><div class="d-subcard-val">Metrics collection, PromQL queries, alerting rules — the foundation</div></div>
              <div class="d-subcard"><div class="d-subcard-title">Grafana</div><div class="d-subcard-val">Dashboards, on-call alerts, incident management, annotations</div></div>
              <div class="d-subcard"><div class="d-subcard-title">OpenTelemetry</div><div class="d-subcard-val">Distributed tracing across microservices — find bottlenecks instantly</div></div>
              <div class="d-subcard"><div class="d-subcard-title">Loki / ELK</div><div class="d-subcard-val">Structured log aggregation, search, correlation with traces</div></div>
              <div class="d-subcard"><div class="d-subcard-title">Uptime Robot</div><div class="d-subcard-val">External synthetic monitoring, SLA reporting, public status pages</div></div>
              <div class="d-subcard"><div class="d-subcard-title">PagerDuty</div><div class="d-subcard-val">On-call rotation, alert routing, runbook automation</div></div>
            </div></div>
          </div>
        </div>
      </div>
        </div>
      </div>
    </div>

    <!-- ████ PACKAGES ████ -->
    <div class="sec-panel" data-sec="PACKAGES" data-num="12" data-color="#ff2d9b" style="--ac:#ff2d9b">
      <div class="data-frag" data-frag="11" style="top:15%;right:6%" title="Data Fragment 11"></div>
      <div class="sec-bg"><div class="orb" style="width:700px;height:700px;background:radial-gradient(circle,rgba(255,45,155,.05),transparent 70%);top:50%;left:50%;transform:translate(-50%,-50%)"></div></div>
      <div class="ghost-head">ENGAGE</div>
      <div class="sec-inner">
        <div class="glass">
          <div class="corner c-tl" style="--ac:#ff2d9b"></div><div class="corner c-tr" style="--ac:#ff2d9b"></div><div class="corner c-bl" style="--ac:#ff2d9b"></div><div class="corner c-br" style="--ac:#ff2d9b"></div>
          <div class="sec-label">Engagement Models</div>
          <div class="sec-title">Packages</div>
          <div class="sec-rule" style="background:linear-gradient(90deg,#ff2d9b,transparent)"></div>
          <div class="sec-desc">Choose the engagement model that fits your vision. Every package includes transparent communication and <strong style="color:#ff2d9b">relentless commitment to excellence</strong>.</div>
          <div class="trust-row">
            <div class="trust-item">✓ Free discovery call</div>
            <div class="trust-item">✓ NDA on request</div>
            <div class="trust-item">✓ Git access always</div>
            <div class="trust-item">✓ No lock-in contracts</div>
          </div>
          <div class="pkg-grid">
            <div class="pkg"><div class="pkg-tier">Entry</div><div class="pkg-name">STARTER</div><div class="pkg-sub">MVPs & small projects</div><ul class="pkg-list"><li>Basic website or app</li><li>Core features</li><li>2–4 weeks delivery</li><li>1 month support</li><li>Responsive design</li></ul><a href="https://wa.me/919996641866?text=Interested%20in%20Starter%20package" target="_blank" class="pkg-btn">GET STARTED</a></div>
            <div class="pkg feat"><div class="pkg-tier">Most Popular</div><div class="pkg-name">PROFESSIONAL</div><div class="pkg-sub">AI-powered solutions</div><ul class="pkg-list"><li>Full custom application</li><li>AI / ML integration</li><li>1–3 months delivery</li><li>3 months support</li><li>Advanced automation</li><li>Analytics dashboard</li></ul><a href="https://wa.me/919996641866?text=Interested%20in%20Professional%20package" target="_blank" class="pkg-btn">GO PROFESSIONAL</a></div>
            <div class="pkg"><div class="pkg-tier">Premium</div><div class="pkg-name">ENTERPRISE</div><div class="pkg-sub">Complete custom solution</div><ul class="pkg-list"><li>Fully custom architecture</li><li>Scalable infrastructure</li><li>Flexible timeline</li><li>Ongoing maintenance</li><li>Team training</li><li>SLA guarantees</li></ul><a href="https://wa.me/919996641866?text=Interested%20in%20Enterprise%20package" target="_blank" class="pkg-btn">CONTACT US</a></div>
          </div>
        <div class="sec-drops">
        <div class="sec-drop">
          <div class="drop-hd" onclick="toggleDrop(this)">
            <span class="drop-icon">📋</span>
            <span class="drop-title">What's Included in Every Package</span>
            <span class="drop-chevron"></span>
          </div>
          <div class="drop-bd">
            <div class="drop-inner"><div class="d-check">
              <div class="d-check-item"><strong>NDA signing</strong> before any project discussion</div>
              <div class="d-check-item"><strong>Git repository</strong> access — your code, always</div>
              <div class="d-check-item"><strong>Daily async updates</strong> via WhatsApp or Slack</div>
              <div class="d-check-item"><strong>Full documentation</strong> — code, APIs, deployment guides</div>
              <div class="d-check-item"><strong>Postman collection</strong> + OpenAPI spec for all APIs</div>
              <div class="d-check-item"><strong>Staging environment</strong> before production deploy</div>
              <div class="d-check-item warn">No lock-in — you own everything and can take it anywhere</div>
            </div></div>
          </div>
        </div>
        <div class="sec-drop">
          <div class="drop-hd" onclick="toggleDrop(this)">
            <span class="drop-icon">📅</span>
            <span class="drop-title">Engagement Timelines</span>
            <span class="drop-chevron"></span>
          </div>
          <div class="drop-bd">
            <div class="drop-inner"><table class="d-table">
              <tr><th>Phase</th><th>Starter</th><th>Professional</th><th>Enterprise</th></tr>
              <tr><td>Discovery</td><td>1 day</td><td class="ok">2–3 days</td><td class="ok">1 week</td></tr>
              <tr><td>Architecture</td><td>—</td><td class="ok">2–3 days</td><td class="ok">1–2 weeks</td></tr>
              <tr><td>Build sprints</td><td>1–3</td><td class="ok">4–10</td><td class="ok">Ongoing</td></tr>
              <tr><td>QA &amp; UAT</td><td>3 days</td><td class="ok">1 week</td><td class="ok">2 weeks</td></tr>
              <tr><td>Support post-launch</td><td class="ok">1 month</td><td class="good">3 months</td><td class="good">Ongoing SLA</td></tr>
            </table></div>
          </div>
        </div>
        <div class="sec-drop">
          <div class="drop-hd" onclick="toggleDrop(this)">
            <span class="drop-icon">➕</span>
            <span class="drop-title">Add-On Services</span>
            <span class="drop-chevron"></span>
          </div>
          <div class="drop-bd">
            <div class="drop-inner"><div class="d-subgrid">
              <div class="d-subcard"><div class="d-subcard-title">AI Strategy</div><div class="d-subcard-val">Half-day workshop to map AI opportunities in your business</div></div>
              <div class="d-subcard"><div class="d-subcard-title">Code Audit</div><div class="d-subcard-val">Security, performance, and architecture review of existing codebase</div></div>
              <div class="d-subcard"><div class="d-subcard-title">Team Training</div><div class="d-subcard-val">1–3 day workshops: AI tools, React, system design for your engineers</div></div>
              <div class="d-subcard"><div class="d-subcard-title">Retainer</div><div class="d-subcard-val">Monthly hours for ongoing feature dev, bug fixes, and consulting</div></div>
              <div class="d-subcard"><div class="d-subcard-title">Infra Setup</div><div class="d-subcard-val">Cloud migration, Kubernetes setup, CI/CD pipeline from scratch</div></div>
              <div class="d-subcard"><div class="d-subcard-title">Emergency Fix</div><div class="d-subcard-val">Priority 48-hr debugging for production incidents</div></div>
            </div></div>
          </div>
        </div>
      </div>
        </div>
      </div>
    </div>

    <!-- ████ FAQ ████ -->
    <div class="sec-panel" data-sec="FAQ" data-num="13" data-color="#00e5ff" style="--ac:#00e5ff">
      <div class="data-frag" data-frag="12" style="top:12%;right:7%" title="Data Fragment 12"></div>
      <div class="sec-bg"><div class="sec-bg-grid"></div></div>
      <div class="ghost-head">FAQ</div>
      <div class="sec-inner">
        <div class="glass">
          <div class="corner c-tl"></div><div class="corner c-tr"></div><div class="corner c-bl"></div><div class="corner c-br"></div>
          <div class="sec-label">Common Questions</div>
          <div class="sec-title">Frequently Asked</div>
          <div class="sec-rule"></div>
          <div class="faq-list">
            <div class="faq-item"><div class="faq-q">What's your development process? <span class="faq-tag">🤝 Process</span><svg class="fq-arr" viewBox="0 0 16 16"><polyline points="3,5 8,11 13,5" fill="none" stroke="currentColor" stroke-width="2"/></svg></div><div class="faq-a">Agile methodology: Discovery → Design → Development → Testing → Deployment → Support. Regular check-ins and iterative delivery.</div></div>
            <div class="faq-item"><div class="faq-q">How long do projects take? <span class="faq-tag">⏱ Timeline</span><svg class="fq-arr" viewBox="0 0 16 16"><polyline points="3,5 8,11 13,5" fill="none" stroke="currentColor" stroke-width="2"/></svg></div><div class="faq-a">Simple MVPs: 2–4 weeks. Full AI applications: 1–3 months. Enterprise solutions: 3–6+ months. Detailed timelines during scoping.</div></div>
            <div class="faq-item"><div class="faq-q">What technologies do you use? <span class="faq-tag">💻 Technical</span><svg class="fq-arr" viewBox="0 0 16 16"><polyline points="3,5 8,11 13,5" fill="none" stroke="currentColor" stroke-width="2"/></svg></div><div class="faq-a">React, Next.js, Node.js, Python, React Native, Flutter, OpenAI, Claude, LangChain, Pinecone, AWS, Azure, GCP, PostgreSQL, MongoDB, Docker, Kubernetes.</div></div>
            <div class="faq-item"><div class="faq-q">How does pricing work? <span class="faq-tag">💰 Pricing</span><svg class="fq-arr" viewBox="0 0 16 16"><polyline points="3,5 8,11 13,5" fill="none" stroke="currentColor" stroke-width="2"/></svg></div><div class="faq-a">Fixed-price for defined scopes, hourly for ongoing work. Free consultation to discuss needs and get an accurate estimate before commitment.</div></div>
            <div class="faq-item"><div class="faq-q">Do you sign NDAs? <span class="faq-tag">🤝 Process</span><svg class="fq-arr" viewBox="0 0 16 16"><polyline points="3,5 8,11 13,5" fill="none" stroke="currentColor" stroke-width="2"/></svg></div><div class="faq-a">Absolutely. I respect confidentiality and will sign NDAs before discussing any project details. Your intellectual property is completely secure.</div></div>
            <div class="faq-item"><div class="faq-q">Can I see previous work? <span class="faq-tag">💼 Portfolio</span><svg class="fq-arr" viewBox="0 0 16 16"><polyline points="3,5 8,11 13,5" fill="none" stroke="currentColor" stroke-width="2"/></svg></div><div class="faq-a">Yes — GitHub (drntoday), and detailed case studies are shared during discovery. I can walk you through architecture, decisions, and results of past projects on a call.</div></div>
            <div class="faq-item"><div class="faq-q">Do you work with non-technical founders? <span class="faq-tag">🚀 Startup</span><svg class="fq-arr" viewBox="0 0 16 16"><polyline points="3,5 8,11 13,5" fill="none" stroke="currentColor" stroke-width="2"/></svg></div><div class="faq-a">Absolutely — it's one of my favorite collaborations. I translate vision into execution, handle all technical decisions, and keep communication clear and jargon-free throughout.</div></div>
            <div class="faq-item"><div class="faq-q">What's your communication style? <span class="faq-tag">🤝 Process</span><svg class="fq-arr" viewBox="0 0 16 16"><polyline points="3,5 8,11 13,5" fill="none" stroke="currentColor" stroke-width="2"/></svg></div><div class="faq-a">Daily async updates via WhatsApp or Slack, weekly video calls for demos and planning. You always know exactly where your project stands — no black boxes.</div></div>
          </div>
          <div class="faq-cta">Still have questions? <a href="https://wa.me/919996641866?text=Hi%2C%20I%20have%20a%20question" target="_blank">Message on WhatsApp →</a></div>
        </div>
      </div>
    </div>

    <!-- ████ CONTACT ████ -->
    <div class="sec-panel" data-sec="CONTACT" data-num="14" data-color="#00ff9d" style="--ac:#00ff9d">
      <div class="data-frag" data-frag="13" style="top:16%;right:5%" title="Data Fragment 13"></div>
      <div class="sec-bg"><div class="orb" style="width:750px;height:750px;background:radial-gradient(circle,rgba(0,255,157,.05),transparent 70%);top:50%;left:50%;transform:translate(-50%,-50%)"></div></div>
      <div class="ghost-head">CONNECT</div>
      <div class="sec-inner">
        <div class="glass">
          <div class="corner c-tl" style="--ac:#00ff9d"></div><div class="corner c-tr" style="--ac:#00ff9d"></div><div class="corner c-bl" style="--ac:#00ff9d"></div><div class="corner c-br" style="--ac:#00ff9d"></div>
          <div class="sec-label">Let's Build Together</div>
          <div class="sec-title">Get in Touch</div>
          <div class="sec-rule" style="background:linear-gradient(90deg,#00ff9d,transparent)"></div>
          <div class="contact-status">
            <span class="cs-dot"></span><span class="cs-text">Available for new projects</span>
            <span class="cs-sep">·</span><span class="cs-tz">IST GMT+5:30 &nbsp;</span><span id="live-clock">--:--:--</span>
          </div>
          <div class="sec-desc">Ready to transform your ideas into reality? Avg response: <strong style="color:#00ff9d">⚡ 2 hours</strong>. Based in Jaipur, India — serving clients globally.</div>
          <div class="next-steps">
            <div class="ns-step"><div class="ns-num">1</div><div><span class="ns-label">You reach out</span> <span class="ns-sub">— WhatsApp, email, or LinkedIn</span></div></div>
            <div class="ns-step"><div class="ns-num">2</div><div><span class="ns-label">Free 30-min discovery call</span> <span class="ns-sub">— clarify scope &amp; vision</span></div></div>
            <div class="ns-step"><div class="ns-num">3</div><div><span class="ns-label">We build together</span> <span class="ns-sub">— transparent, iterative, on time</span></div></div>
          </div>
          <div class="contact-cards">
            <a class="ccard" href="https://wa.me/919996641866" target="_blank"><svg class="ccard-icon" viewBox="0 0 100 100" style="color:#00ff9d"><circle cx="50" cy="50" r="38" fill="none" stroke="currentColor" stroke-width="2"/><path d="M30 70L35 55C28 44 32 30 44 24C56 18 70 24 74 37C78 50 70 62 57 65C52 66 47 65 43 63Z" fill="none" stroke="currentColor" stroke-width="2"/></svg><div class="ccard-label">WhatsApp</div><div class="ccard-val">+91 9996641866</div></a>
            <a class="ccard" href="tel:+919117219521"><svg class="ccard-icon" viewBox="0 0 100 100" style="color:#00ff9d"><path d="M25 15L40 15L48 35L38 44C42 52 50 60 60 65L70 56L90 62L90 77C90 83 85 87 80 85C45 75 22 48 15 20C13 15 18 10 25 15Z" fill="none" stroke="currentColor" stroke-width="2"/></svg><div class="ccard-label">Phone</div><div class="ccard-val">+91 9117219521</div></a>
            <div class="ccard"><svg class="ccard-icon" viewBox="0 0 100 100" style="color:#00ff9d"><rect x="10" y="25" width="80" height="55" rx="4" fill="none" stroke="currentColor" stroke-width="2"/><polyline points="10,25 50,55 90,25" fill="none" stroke="currentColor" stroke-width="1.5"/></svg><div class="ccard-label">Email</div><div class="ccard-val"><a href="mailto:drn.today@outlook.com">drn.today@outlook.com</a><a href="mailto:contact@drn.today">contact@drn.today</a></div></div>
          </div>
          <div class="socials">
            <a class="slink" href="https://x.com/drn_today" target="_blank"><svg class="ssvg" viewBox="0 0 100 100" style="color:#00ff9d"><line x1="18" y1="15" x2="82" y2="85" stroke="currentColor" stroke-width="2.5" stroke-linecap="round"/><line x1="82" y1="15" x2="18" y2="85" stroke="currentColor" stroke-width="2.5" stroke-linecap="round"/></svg></a>
            <a class="slink" href="https://www.instagram.com/drn_today" target="_blank"><svg class="ssvg" viewBox="0 0 100 100" style="color:#00ff9d"><rect x="15" y="15" width="70" height="70" rx="20" fill="none" stroke="currentColor" stroke-width="2.5"/><circle cx="50" cy="50" r="18" fill="none" stroke="currentColor" stroke-width="2.5"/><circle cx="72" cy="28" r="4" fill="currentColor"/></svg></a>
            <a class="slink" href="https://www.facebook.com/share/18CZaqRPAi/" target="_blank"><svg class="ssvg" viewBox="0 0 100 100" style="color:#00ff9d"><path d="M55 90L55 55L67 55L69 43L55 43L55 35C55 31 56 29 62 29L69 29L69 18C68 18 64 17 59 17C47 17 40 24 40 37L40 43L30 43L30 55L40 55L40 90Z" fill="none" stroke="currentColor" stroke-width="2.5"/></svg></a>
            <a class="slink" href="https://github.com/drntoday" target="_blank"><svg class="ssvg" viewBox="0 0 100 100" style="color:#00ff9d"><path d="M50 10C28 10 10 28 10 50C10 68 22 83 38 88C40 88.5 40 87 40 86L40 79C29 81 27 74 27 74C25 69 22 68 22 68C18 65 22 65 22 65C26 65 28 69 28 69C32 76 39 74 40 72C40 70 42 68 42 68C34 66 25 63 25 49C25 44 27 40 30 37C29 35 27 30 30 24C34 23 40 28 40 28C44 27 47 26 50 26C53 26 56 27 60 28C60 28 66 23 70 24C73 30 71 35 70 37C73 40 75 44 75 49C75 63 66 66 58 68C59 69 60 72 60 76L60 86C60 87 60 88.5 62 88C78 83 90 68 90 50C90 28 72 10 50 10Z" fill="currentColor" opacity=".7"/></svg></a>
          </div>
          <div class="sec-drops">
        <div class="sec-drop">
          <div class="drop-hd" onclick="toggleDrop(this)">
            <span class="drop-icon">📝</span>
            <span class="drop-title">Project Brief Checklist</span>
            <span class="drop-chevron"></span>
          </div>
          <div class="drop-bd">
            <div class="drop-inner"><div class="d-check">
              <div class="d-check-item"><strong>What problem</strong> are you solving? (1–2 sentences)</div>
              <div class="d-check-item"><strong>Who is the target user?</strong> (persona or description)</div>
              <div class="d-check-item"><strong>Key features</strong> for v1 (keep it focused — 3–5 max)</div>
              <div class="d-check-item"><strong>Budget range</strong> (rough is fine — helps scope correctly)</div>
              <div class="d-check-item"><strong>Timeline or deadline</strong> (hard vs preferred)</div>
              <div class="d-check-item"><strong>Tech preferences</strong> or constraints (existing stack?)</div>
              <div class="d-check-item warn">Don't worry if you don't have all of this — that's what the discovery call is for</div>
            </div></div>
          </div>
        </div>
        <div class="sec-drop">
          <div class="drop-hd" onclick="toggleDrop(this)">
            <span class="drop-icon">🕐</span>
            <span class="drop-title">Availability & Working Hours</span>
            <span class="drop-chevron"></span>
          </div>
          <div class="drop-bd">
            <div class="drop-inner"><div class="d-subgrid">
              <div class="d-subcard"><div class="d-subcard-title">Timezone</div><div class="d-subcard-val">IST (GMT+5:30) · Based in Jaipur, India</div></div>
              <div class="d-subcard"><div class="d-subcard-title">Working Hours</div><div class="d-subcard-val">Mon–Sat · 9:00 AM – 8:00 PM IST</div></div>
              <div class="d-subcard"><div class="d-subcard-title">Response Time</div><div class="d-subcard-val">WhatsApp: ~2 hrs · Email: same day · LinkedIn: 24 hrs</div></div>
              <div class="d-subcard"><div class="d-subcard-title">Discovery Calls</div><div class="d-subcard-val">Free 30-min · Google Meet or Zoom · book via WhatsApp</div></div>
              <div class="d-subcard"><div class="d-subcard-title">Overlap Zones</div><div class="d-subcard-val">UK: 3.5hr overlap · UAE: 1.5hr · Singapore: 2.5hr · US EST: evening IST</div></div>
              <div class="d-subcard"><div class="d-subcard-title">Async-Friendly</div><div class="d-subcard-val">All clients get daily written updates — no timezone barriers</div></div>
            </div></div>
          </div>
        </div>
      </div>
          <div style="text-align:center"><a href="https://www.linkedin.com/in/somnath-kurmi-027128385" target="_blank" class="li-btn"><svg width="16" height="16" viewBox="0 0 100 100" style="color:#4f46ff"><rect x="12" y="12" width="76" height="76" rx="8" fill="none" stroke="currentColor" stroke-width="2"/><rect x="22" y="42" width="12" height="36" fill="currentColor" opacity=".8"/><circle cx="28" cy="32" r="7" fill="currentColor" opacity=".8"/><path d="M42 42L42 78L54 78L54 58C54 52 58 48 63 50C68 52 68 56 68 60L68 78L80 78L80 58C80 46 74 40 64 40C58 40 54 43 54 43L54 42Z" fill="currentColor" opacity=".8"/></svg>Connect on LinkedIn</a></div>
        </div>
      </div>
    </div>

  </div><!-- /#stage -->
</div><!-- /#stage-clip -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
<script>
/* JS STATE */
(function(){
  const states = { CALIBRATING:'CALIBRATING', READY:'READY', ENTERING:'ENTERING', LIVE:'LIVE' };
  const roomProfiles = [
    {tint:'#00e5ff',motif:'blueprint',motion:'scan'},
    {tint:'#00e5ff',motif:'prism',motion:'pulse'},
    {tint:'#b400ff',motif:'prism',motion:'assemble'},
    {tint:'#00ff9d',motif:'orbital',motion:'orbit'},
    {tint:'#ff7b00',motif:'scan',motion:'scan'},
    {tint:'#ff2d9b',motif:'orbital',motion:'orbit'},
    {tint:'#00ff9d',motif:'blueprint',motion:'assemble'},
    {tint:'#4f46ff',motif:'prism',motion:'pulse'},
    {tint:'#00e5ff',motif:'scan',motion:'scan'},
    {tint:'#00ff9d',motif:'blueprint',motion:'assemble'},
    {tint:'#ff7b00',motif:'blueprint',motion:'scan'},
    {tint:'#ff2d9b',motif:'prism',motion:'pulse'},
    {tint:'#00e5ff',motif:'orbital',motion:'orbit'},
    {tint:'#00ff9d',motif:'scan',motion:'scan'}
  ];
  const sigMap = {1:'VERTICAL',3:'INCLINE',4:'HORIZONTAL',5:'INCLINE',10:'VERTICAL',12:'HORIZONTAL',13:'INCLINE'};
  const log = document.getElementById('facility-log');
  const enterBtn = document.getElementById('facility-enter');
  const overlay = document.getElementById('facility-overlay');
  const hudMode = document.getElementById('hud-mode');
  const hudVector = document.getElementById('hud-vector');
  const hudDepth = document.getElementById('hud-depth');
  const gate = document.getElementById('travel-gate');
  const envPulse = document.getElementById('env-pulse');
  const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
  let state = states.CALIBRATING;
  let depth = 0;
  let moving = false;
  let wheelLock = false;
  let touchStart = null;
  let perfTier = 2;

  function setMode(m){ state = m; document.body.dataset.mode = m; hudMode && (hudMode.textContent = m); document.body.classList.remove('state-calibrating','state-ready','state-entering','state-live'); document.body.classList.add('state-'+m.toLowerCase()); }
  function setRoom(idx){
    const p = roomProfiles[idx] || roomProfiles[0];
    const rgb = p.tint.match(/[\da-f]{2}/gi).map(h=>parseInt(h,16)).join(',');
    document.documentElement.style.setProperty('--room-tint', p.tint);
    document.documentElement.style.setProperty('--room-rgb', rgb);
    document.body.classList.remove('motif-blueprint','motif-prism','motif-orbital','motif-scan');
    document.body.classList.add('motif-'+p.motif);
  }
  function updateDepth(z){ depth += z; hudDepth && (hudDepth.textContent = depth.toFixed(1)); document.documentElement.style.setProperty('--depth-z', depth.toFixed(1)); }

  function buildCalibration(){
    const panels = [...document.querySelectorAll('.sec-panel')];
    window.sectionRegistry = panels.map((p,i)=>({idx:i,name:p.dataset.sec,color:p.dataset.color,rect:p.getBoundingClientRect()}));
    window.sectionRegistry.forEach(item=>{ item.rect = document.querySelectorAll('.sec-panel')[item.idx].getBoundingClientRect(); });
  }

  function perfDetect(){
    const cores = navigator.hardwareConcurrency || 4;
    if (cores <= 4 || window.innerWidth < 600) perfTier = 0;
    else if (cores <= 8) perfTier = 1;
    document.body.dataset.perf = String(perfTier);
    document.documentElement.style.setProperty('--particle-density', perfTier === 0 ? '.6' : perfTier === 1 ? '.8' : '1');
  }

  function runCalibration(){
    setMode(states.CALIBRATING);
    perfDetect();
    log.innerHTML = '<strong>Calibrating DRN Systems…</strong><br>Mapping room lattice and anchoring navigation nodes…';
    buildCalibration();
    setTimeout(()=>{ log.innerHTML = '<strong>Stabilizing Reactor…</strong><br>Converging ambient particles into facility grid…'; document.body.classList.add('lattice-on'); }, 620);
    setTimeout(()=>{ setMode(states.READY); enterBtn.disabled = false; log.innerHTML = '<strong>Calibration complete.</strong><br>Press ENTER to cross the threshold.'; }, 1700);
  }

  /* JS TRAVEL */
  window.travelToSection = function(targetIndex, signature='VERTICAL', force=false){
    if((state !== states.LIVE && !force) || moving) return;
    if(typeof targetIndex !== 'number') targetIndex = parseInt(targetIndex,10) || 0;
    const idx = Math.max(0, Math.min(document.querySelectorAll('.sec-panel').length - 1, targetIndex));
    const sig = (signature || sigMap[idx] || ['VERTICAL','HORIZONTAL','INCLINE'][idx%3]).toUpperCase();
    moving = true;
    hudVector && (hudVector.textContent = sig);
    document.body.classList.remove('sig-vertical','sig-horizontal','sig-incline');
    document.body.classList.add('sig-'+(sig==='INCLINE'?'incline':sig.toLowerCase()));
    const tint = (window.sectionRegistry?.[idx]?.color) || '#00e5ff';
    const rgb = tint.match(/[\da-f]{2}/gi).map(h=>parseInt(h,16)).join(',');
    document.documentElement.style.setProperty('--room-rgb', rgb);
    if(gate){ gate.classList.remove('on'); void gate.offsetWidth; gate.classList.add('on'); }
    if(!prefersReduced) updateDepth(sig==='VERTICAL'?0.8:sig==='HORIZONTAL'?0.6:1.1);
    if(window._navigateTo) window._navigateTo(idx);
    setRoom(idx);
    setTimeout(()=>moving=false, prefersReduced?320:980);
  }

  // capture original goto API used by overlay/buttons
  function applyApiOverrides(){
    window.gotoSection = function(n){ window.travelToSection(n, sigMap[n] || ['VERTICAL','HORIZONTAL','INCLINE'][n%3]); };
    window.idxGoto = function(n){ if(window.closeIdx) window.closeIdx(); setTimeout(()=>window.travelToSection(n, sigMap[n] || ['VERTICAL','HORIZONTAL','INCLINE'][n%3]), 220); };
  }
  applyApiOverrides();
  setTimeout(applyApiOverrides, 0);
  window.addEventListener('load', applyApiOverrides);

  function nextIdx(delta){ const cur = window.getCurrentSection ? window.getCurrentSection() : (window.curSec||0); return Math.max(0, Math.min(document.querySelectorAll('.sec-panel').length-1, cur + delta)); }

  // block legacy navigation while calibrating and route to travel API when live
  window.addEventListener('wheel', (e)=>{
    if(state !== states.LIVE){ e.preventDefault(); e.stopImmediatePropagation(); return; }
    e.preventDefault(); e.stopImmediatePropagation();
    if(wheelLock) return; wheelLock = true;
    const idx = nextIdx(e.deltaY>0?1:-1);
    window.travelToSection(idx, ['VERTICAL','HORIZONTAL','INCLINE'][idx%3]);
    setTimeout(()=>wheelLock=false,780);
  }, {passive:false, capture:true});

  document.addEventListener('keydown', (e)=>{
    if(state !== states.LIVE && !['Enter','Escape'].includes(e.key)){ if(['ArrowDown','ArrowUp','PageDown','PageUp',' '].includes(e.key)){ e.preventDefault(); e.stopImmediatePropagation(); } return; }
    if(['ArrowDown','PageDown',' '].includes(e.key)){ e.preventDefault(); e.stopImmediatePropagation(); const idx=nextIdx(1); window.travelToSection(idx,['VERTICAL','HORIZONTAL','INCLINE'][idx%3]); }
    if(['ArrowUp','PageUp'].includes(e.key)){ e.preventDefault(); e.stopImmediatePropagation(); const idx=nextIdx(-1); window.travelToSection(idx,['VERTICAL','HORIZONTAL','INCLINE'][idx%3]); }
  }, true);

  window.addEventListener('touchstart',e=>{touchStart=e.changedTouches[0];},{passive:true,capture:true});
  window.addEventListener('touchend',e=>{
    if(state !== states.LIVE){ e.stopImmediatePropagation(); return; }
    if(!touchStart) return;
    const t=e.changedTouches[0], dx=touchStart.clientX-t.clientX, dy=touchStart.clientY-t.clientY;
    if(Math.max(Math.abs(dx),Math.abs(dy))<40) return;
    e.stopImmediatePropagation();
    const idx = nextIdx((dy>0||dx>0)?1:-1);
    window.travelToSection(idx,['VERTICAL','HORIZONTAL','INCLINE'][idx%3]);
  },{passive:true,capture:true});

  document.querySelectorAll('.hbtn, .hub-node').forEach(el=>{
    el.addEventListener('click',ev=>{
      if(state !== states.LIVE){ ev.preventDefault(); ev.stopImmediatePropagation(); return; }
      const t = parseInt(el.dataset.target || el.dataset.goto || '0',10);
      const sig = el.dataset.signature || sigMap[t] || ['VERTICAL','HORIZONTAL','INCLINE'][t%3];
      ev.preventDefault(); ev.stopImmediatePropagation();
      window.travelToSection(t,sig);
    }, true);
  });

  const enter = ()=>{
    if(state !== states.READY) return;
    setMode(states.ENTERING);
    hudVector && (hudVector.textContent = 'INBOUND');
    if(gate){ gate.classList.add('on'); }
    setTimeout(()=>{ setMode(states.LIVE); overlay.classList.add('hidden'); window.travelToSection(0,'VERTICAL',true); }, 820);
  };
  enterBtn?.addEventListener('click', enter);
  enterBtn?.addEventListener('keydown',e=>{ if(e.key==='Enter'||e.key===' '){ e.preventDefault(); enter(); }});

  // micro feedback + probe magnetization helper
  document.addEventListener('pointerover',e=>{ if(e.target.closest('button,a,.hub-node,.ndot,.idx-row,.drop-hd')) document.getElementById('drn-probe')?.classList.add('docking'); });
  document.addEventListener('pointerout',e=>{ if(e.target.closest('button,a,.hub-node,.ndot,.idx-row,.drop-hd')) document.getElementById('drn-probe')?.classList.remove('docking'); });
  document.addEventListener('pointerdown',e=>{
    const r = document.createElement('span'); r.className='env-ripple'; r.style.left=e.clientX+'px'; r.style.top=e.clientY+'px'; envPulse?.appendChild(r); setTimeout(()=>r.remove(),850);
  });

  // add physical layers to all glass panels
  document.querySelectorAll('.glass').forEach(g=>{ if(g.querySelector('.depth-layer')) return; ['l1','l2','l3'].forEach(c=>{ const d=document.createElement('div'); d.className='depth-layer '+c; g.appendChild(d); }); });

  /* JS HUD + room sync */
  document.addEventListener('sectionchange',e=>{
    const idx = e.detail || 0;
    setRoom(idx);
    const sv = document.getElementById('stab-val');
    if(sv) sv.textContent = `${Math.max(84,98-Math.floor(depth*2))}%`;
  });

  /* JS PERF */
  if(prefersReduced){ document.body.classList.add('reduced-motion'); }
  let f=0, last=performance.now();
  requestAnimationFrame(function fpsLoop(now){ f++; if(now-last>1000){ if(f<36) document.body.dataset.perf='0'; f=0; last=now; } requestAnimationFrame(fpsLoop); });

  runCalibration();
})();

</script>
<script>
/* ═══════════════════════════════════════════════════════════════════
   DRN.TODAY V3 — 3D ROTATING TRANSITION ENGINE
   
   TRANSITION CYCLE: VERTICAL → HORIZONTAL → INCLINED (repeat)
   
   Each transition uses a different 3D axis + camera movement:
   - VERTICAL:    Sections slide up/down  + camera tilts on X axis
   - HORIZONTAL:  Sections slide left/right + camera tilts on Y axis
   - INCLINED:    Sections slide diagonally + camera rolls on Z axis
   
   Architecture:
   - All 14 sections are positioned at their final XYZ location in 3D space
   - Camera stays fixed, we move the STAGE (world transform)
   - Each section type has pre-computed offset vectors
   - GSAP-like smooth lerp animation runs on rAF
═══════════════════════════════════════════════════════════════════ */

/* ── SECTION COLOR MAP ── */
const SEC_COLORS = {
  'HOME':         '#00e5ff','IDENTITY':     '#00e5ff',
  'DRN SYSTEM':   '#b400ff','AGENTIC AI':   '#00ff9d',
  'WORKFLOWS':    '#ff7b00','RAG SYSTEMS':  '#ff2d9b',
  'AI AUTOMATION':'#00ff9d','FULL-STACK':   '#4f46ff',
  'MOBILE APPS':  '#00e5ff','BACKEND':      '#00ff9d',
  'ARCHITECTURE': '#ff7b00','PACKAGES':     '#ff2d9b',
  'FAQ':          '#00e5ff','CONTACT':      '#00ff9d',
};

/* ── TRANSITION TYPES (cycle pattern) ── */
// Transition TO section i uses type: types[(i) % 3]
// 0 = VERTICAL, 1 = HORIZONTAL, 2 = INCLINED
const TRANS_TYPES = ['VERTICAL','HORIZONTAL','INCLINED'];
const TRANS_ICONS = ['▼','◀','◢'];
const TRANS_LABELS = ['▼ VERTICAL','◀ HORIZONTAL','◢ INCLINED'];

/* ════════════════════════════════════════════════════
   3D SCROLL ENGINE
════════════════════════════════════════════════════ */
(function(){
  'use strict';

  const W = () => window.innerWidth;
  const H = () => window.innerHeight;
  const mob = innerWidth < 768;

  /* ── State ── */
  let curIdx = 0;
  window.curSec = 0;
  window.gotoSection = function(n){ goTo(n); };
  let isAnimating = false;
  let panels = [];
  let navDots = [];

  /* ── Stage DOM ── */
  const stage = document.getElementById('stage');
  const stageClip = document.getElementById('stage-clip');

  /* ── Collect panels ── */
  panels = Array.from(document.querySelectorAll('.sec-panel'));

  /* ── Camera state (for stage transform) ── */
  // We treat "stage" as if camera moves around it
  // Actually: we move all panels, and add 3D perspective tilt to the clip
  const cam = {
    tx:0,ty:0,tz:0,        // current translation
    ttx:0,tty:0,ttz:0,     // target translation
    rx:0,ry:0,rz:0,        // current rotation (of clip perspective)
    trx:0,try:0,trz:0,     // target rotation
    ease:.075
  };

  /* ── Position each panel in its "resting" location ── */
  // Each section sits at a unique 3D offset from center
  // We compute these positions based on transition type that BRINGS us to that section
  // When navigating to a section, we translate the stage so that section is at (0,0,0)
  
  function getPanelOffset(idx){
    // The transition type determines how panel idx is offset from panel (idx-1)
    // type 0 (VERTICAL): offset by (0, H, 0) — below
    // type 1 (HORIZONTAL): offset by (W, 0, 0) — right
    // type 2 (INCLINED): offset by (W*0.7, H*0.7, 0) — diagonal
    let x = 0, y = 0, z = 0;
    for(let i = 1; i <= idx; i++){
      const t = (i) % 3;
      if(t === 0){ y += H(); }               // VERTICAL: stack downward
      else if(t === 1){ x += W(); }          // HORIZONTAL: stack rightward
      else { x += W() * 0.72; y += H() * 0.72; } // INCLINED: diagonal
    }
    return {x, y, z};
  }

  /* ── Apply panel positions ── */
  function layoutPanels(){
    panels.forEach((p, i) => {
      const off = getPanelOffset(i);
      p.style.left = off.x + 'px';
      p.style.top = off.y + 'px';
      p.style.width = W() + 'px';
      p.style.height = H() + 'px';
    });
  }

  layoutPanels();
  window.addEventListener('resize', () => {
    layoutPanels();
    // Immediately jump to current panel without animation
    const off = getPanelOffset(curIdx);
    cam.tx = cam.ttx = -off.x;
    cam.ty = cam.tty = -off.y;
    cam.tz = cam.ttz = 0;
    cam.rx = cam.trx = 0;
    cam.ry = cam.try = 0;
    cam.rz = cam.trz = 0;
    applyStageTransform(true);
  });

  /* ── Camera tilt per transition type ── */
  function getTransTilt(transType, dir){
    const d = dir > 0 ? 1 : -1;
    // Reduce tilt on mobile to prevent content flying off screen
    const factor = mob ? 0.35 : 1;
    if(transType === 0) return {rx: d * 7 * factor,  ry: 0,               rz: 0};
    if(transType === 1) return {rx: 0,               ry: d * -7 * factor, rz: 0};
    return                     {rx: d * 4 * factor,  ry: d * -4 * factor, rz: d * 2.5 * factor};
  }

  /* ── Apply stage transform ── */
  function applyStageTransform(instant){
    // Stage moves opposite to camera
    stage.style.transition = instant ? 'none' : '';
    stage.style.transform = `translate3d(${cam.tx}px,${cam.ty}px,${cam.tz}px)`;
    // Clip perspective tilt
    stageClip.style.transform = `perspective(1400px) rotateX(${cam.rx}deg) rotateY(${cam.ry}deg) rotateZ(${cam.rz}deg)`;
  }

  /* ── Lerp ── */
  function lerp(a,b,t){ return a+(b-a)*t; }

  /* ── RAF loop ── */
  let rafId;
  function tick(){
    cam.tx = lerp(cam.tx, cam.ttx, cam.ease);
    cam.ty = lerp(cam.ty, cam.tty, cam.ease);
    cam.tz = lerp(cam.tz, cam.ttz, cam.ease);
    cam.rx = lerp(cam.rx, cam.trx, cam.ease * 0.8);
    cam.ry = lerp(cam.ry, cam.try, cam.ease * 0.8);
    cam.rz = lerp(cam.rz, cam.trz, cam.ease * 0.8);
    applyStageTransform(false);
    rafId = requestAnimationFrame(tick);
  }
  tick();

  /* ── Navigate to section ── */
  const ANIM_DUR = mob ? 650 : 900; // faster on mobile
  const VIS_DELAY_RATIO = mob ? 0.15 : 0.45; // show content much earlier

  function navigateTo(toIdx, skipFX){
    if(toIdx < 0 || toIdx >= panels.length) return;
    if(isAnimating && !skipFX) return;
    if(toIdx === curIdx && !skipFX) return;

    isAnimating = true;
    const fromIdx = curIdx;
    const dir = toIdx > fromIdx ? 1 : -1;
    
    // Which transition type brings us TO toIdx
    const tType = toIdx % 3;
    const tilt = getTransTilt(tType, dir);
    const label = TRANS_LABELS[tType];
    const color = SEC_COLORS[panels[toIdx].dataset.sec] || '#00e5ff';

    // Phase 1: Apply tilt (camera lean into direction)
    cam.trx = tilt.rx;
    cam.try = tilt.ry;
    cam.trz = tilt.rz;
    cam.ease = mob ? 0.08 : 0.065;

    // FX
    if(!skipFX){
      updateTransitionLabel(label);
      window.fireFX && window.fireFX(color, tType);
      window.fireScan && window.fireScan();
      window.fireBloom && window.fireBloom(color);
    }

    // Remove vis from old panel
    panels[fromIdx].classList.remove('vis');

    curIdx = toIdx;
    window.curSec = toIdx;
    document.dispatchEvent(new CustomEvent('sectionchange',{detail:toIdx}));

    // Phase 2 (very early): move stage to new panel
    setTimeout(() => {
      const off = getPanelOffset(toIdx);
      cam.ttx = -off.x;
      cam.tty = -off.y;
      cam.ttz = 0;
      cam.ease = mob ? 0.07 : 0.055;
    }, 60);

    // Phase 3: Return tilt to zero
    setTimeout(() => {
      cam.trx = 0;
      cam.try = 0;
      cam.trz = 0;
      cam.ease = mob ? 0.085 : 0.07;
    }, ANIM_DUR * 0.4);

    // Phase 4: Mark panel visible early so content fades in during transition
    setTimeout(() => {
      panels[toIdx].classList.add('vis');
      updateHUD(toIdx);
      updateNav(toIdx);
    }, ANIM_DUR * VIS_DELAY_RATIO);

    // Phase 5: Release lock
    setTimeout(() => {
      isAnimating = false;
      cam.ease = 0.075;
    }, ANIM_DUR + 80);
  }

  /* ── Transition label flash ── */
  let labelTimer;
  function updateTransitionLabel(text){
    const el = document.getElementById('transition-label');
    if(!el) return;
    el.textContent = text;
    el.classList.add('on');
    clearTimeout(labelTimer);
    labelTimer = setTimeout(() => el.classList.remove('on'), 1200);
  }

  /* ── HUD update ── */
  function updateHUD(idx){
    const p = panels[idx];
    const col = SEC_COLORS[p.dataset.sec] || '#00e5ff';
    const tType = idx % 3;

    const hi = document.getElementById('hud-index');
    const hs = document.getElementById('hud-section');
    const hb = document.getElementById('hud-bar');
    const mp = document.getElementById('mode-pill');
    const sp = document.getElementById('scroll-prog');

    if(hi){ hi.textContent = p.dataset.num || String(idx+1).padStart(2,'0'); hi.style.color = col; }
    if(hs){ hs.textContent = p.dataset.sec || 'HOME'; hs.style.color = col; }
    if(hb){ hb.style.background = col; hb.classList.add('grow'); }
    if(mp){
      mp.textContent = TRANS_LABELS[tType];
      mp.style.color = col;
      mp.style.borderColor = col + '40';
      mp.style.background = col + '10';
    }
    if(sp) sp.style.width = (idx / Math.max(1, panels.length-1) * 100) + '%';

    // Fire bloom color
    window.fireBloom && window.fireBloom(col);
  }

  /* ── Nav dots update ── */
  function updateNav(idx){
    navDots.forEach((d,i) => d.classList.toggle('act', i === idx));
  }

  /* ── Build nav dots ── */
  const navEl = document.getElementById('nav');
  panels.forEach((p, i) => {
    const d = document.createElement('button');
    d.className = 'ndot';
    d.setAttribute('data-lbl', p.dataset.sec || 'HOME');
    d.addEventListener('click', () => navigateTo(i));
    navEl.appendChild(d);
    navDots.push(d);
  });

  /* ── Hero buttons ── */
  document.querySelectorAll('[data-goto]').forEach(btn => {
    btn.addEventListener('click', () => navigateTo(parseInt(btn.dataset.goto) || 0));
  });

  /* ── Wheel ── */
  let wheelLock = false;
  window.addEventListener('wheel', e => {
    e.preventDefault();
    if(wheelLock) return;
    wheelLock = true;
    if(e.deltaY > 15) navigateTo(curIdx + 1);
    else if(e.deltaY < -15) navigateTo(curIdx - 1);
    setTimeout(() => wheelLock = false, ANIM_DUR + 100);
  }, {passive:false});

  /* ── Keys ── */
  let keyLock = false;
  document.addEventListener('keydown', e => {
    if(keyLock) return;
    if(['ArrowDown','PageDown',' '].includes(e.key)){ e.preventDefault(); keyLock=true; navigateTo(curIdx+1); setTimeout(()=>keyLock=false,ANIM_DUR+100); }
    if(['ArrowUp','PageUp'].includes(e.key)){ e.preventDefault(); keyLock=true; navigateTo(curIdx-1); setTimeout(()=>keyLock=false,ANIM_DUR+100); }
  });

  /* ── Touch ── */
  let tx0=0,ty0=0, touchLock=false;
  window.addEventListener('touchstart', e => { tx0=e.touches[0].clientX; ty0=e.touches[0].clientY; }, {passive:true});
  window.addEventListener('touchend', e => {
    if(touchLock) return;
    const dx = tx0 - e.changedTouches[0].clientX;
    const dy = ty0 - e.changedTouches[0].clientY;
    const adx = Math.abs(dx), ady = Math.abs(dy);
    if(Math.max(adx, ady) < 40) return;
    touchLock = true;
    const nextType = (curIdx + 1) % 3;
    // Smart swipe: swipe in direction matching next transition
    if(nextType === 0 && ady > adx){ // VERTICAL — swipe up/down
      dy > 0 ? navigateTo(curIdx+1) : navigateTo(curIdx-1);
    } else if(nextType === 1 && adx > ady){ // HORIZONTAL — swipe left/right
      dx > 0 ? navigateTo(curIdx+1) : navigateTo(curIdx-1);
    } else { // INCLINED or any
      if(dy > 30 || dx > 30) navigateTo(curIdx+1);
      else if(dy < -30 || dx < -30) navigateTo(curIdx-1);
    }
    setTimeout(() => touchLock = false, ANIM_DUR + 150);
  }, {passive:true});

  /* ── Mobile arrow buttons ── */
  document.getElementById('ma-up')?.addEventListener('click', () => navigateTo(curIdx-1));
  document.getElementById('ma-dn')?.addEventListener('click', () => navigateTo(curIdx+1));

  /* ── FAQ ── */
  document.querySelectorAll('.faq-item').forEach(item => {
    item.querySelector('.faq-q')?.addEventListener('click', () => {
      document.querySelectorAll('.faq-item').forEach(o => o!==item && o.classList.remove('on'));
      item.classList.toggle('on');
    });
  });

  /* ── Init ── */
  updateHUD(0);
  updateNav(0);
  panels[0].classList.add('vis');

  /* ── Expose for loading complete callback ── */
  window._navigateTo = navigateTo;

})();

/* ════════════════════════════════════════════════════
   THREE.JS — HOLOGRAPHIC BG
════════════════════════════════════════════════════ */
(function(){
  'use strict';
  let scene, camera, renderer, clock;
  let cubes=[], nodes=[], connections=[], particles;
  let curColor={r:0,g:.898,b:1}, tColor={r:0,g:.898,b:1};
  let mX=0,mY=0,tmX=0,tmY=0;
  let tIdx=0;
  const mob = innerWidth < 768;

  function lerp(a,b,t){ return a+(b-a)*t; }
  function hex2col(h){
    const m=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(h);
    return m?{r:parseInt(m[1],16)/255,g:parseInt(m[2],16)/255,b:parseInt(m[3],16)/255}:{r:0,g:.898,b:1};
  }

  window.initBg = function(){
    const canvas = document.getElementById('bg-canvas');
    if(!canvas || typeof THREE === 'undefined') return;

    scene = new THREE.Scene();
    scene.fog = new THREE.FogExp2(0x030614, .004);
    clock = new THREE.Clock();

    camera = new THREE.PerspectiveCamera(70, innerWidth/innerHeight, .1, 2000);
    camera.position.set(0,0,90);

    renderer = new THREE.WebGLRenderer({canvas, antialias:true, alpha:true});
    renderer.setSize(innerWidth, innerHeight);
    renderer.setPixelRatio(Math.min(devicePixelRatio,2));
    renderer.toneMapping = THREE.ACESFilmicToneMapping;
    renderer.toneMappingExposure = 1.2;

    scene.add(new THREE.AmbientLight(0x111133, 4));
    [{c:0x00e5ff,p:[60,60,60],i:8},{c:0xb400ff,p:[-60,-40,-40],i:6},{c:0xff2d9b,p:[0,80,-80],i:5},{c:0x00ff9d,p:[-80,0,80],i:4}]
    .forEach(l=>{const pl=new THREE.PointLight(l.c,l.i,250);pl.position.set(...l.p);scene.add(pl);});

    /* Holographic cubes */
    const cc = [0x00e5ff,0xb400ff,0xff2d9b,0x00ff9d,0x4f46ff,0xff7b00];
    const cn = mob?12:22;
    for(let i=0;i<cn;i++){
      const sz=2.5+Math.random()*4.5;
      const geo=new THREE.BoxGeometry(sz,sz,sz);
      const edgeMat=new THREE.LineBasicMaterial({color:cc[i%cc.length],transparent:true,opacity:.5+Math.random()*.3});
      const faceMat=new THREE.MeshPhongMaterial({color:cc[i%cc.length],transparent:true,opacity:.03+Math.random()*.05,side:THREE.DoubleSide});
      const g=new THREE.Group();
      g.add(new THREE.Mesh(geo,faceMat));
      g.add(new THREE.LineSegments(new THREE.EdgesGeometry(geo),edgeMat));
      const ang=(i/cn)*Math.PI*2+Math.random()*.5;
      const rad=35+Math.random()*60;
      g.position.set(Math.cos(ang)*rad,(Math.random()-.5)*80,Math.sin(ang)*rad*.6-20);
      g.rotation.set(Math.random()*Math.PI,Math.random()*Math.PI,Math.random()*Math.PI);
      g.userData={rx:(Math.random()-.5)*.015,ry:(Math.random()-.5)*.018,rz:(Math.random()-.5)*.01,baseY:g.position.y,fSpd:.2+Math.random()*.4,fOff:Math.random()*Math.PI*2,edgeMat,faceMat};
      scene.add(g);cubes.push(g);
    }

    /* Neural nodes */
    const nGeo=new THREE.SphereGeometry(.7,8,8);
    const nc=mob?18:36;
    for(let i=0;i<nc;i++){
      const mat=new THREE.MeshPhongMaterial({color:0x00e5ff,emissive:0x00e5ff,emissiveIntensity:.5,transparent:true,opacity:.7});
      const mesh=new THREE.Mesh(nGeo,mat);
      const r=20+Math.random()*80;
      const phi=Math.acos(2*Math.random()-1);
      const theta=Math.random()*Math.PI*2;
      mesh.position.set(r*Math.sin(phi)*Math.cos(theta),r*Math.sin(phi)*Math.sin(theta)*.5,r*Math.cos(phi)-20);
      mesh.userData={fOff:Math.random()*Math.PI*2,fSpd:.3+Math.random()*.5,mat,basePos:mesh.position.clone()};
      scene.add(mesh);nodes.push(mesh);
    }

    /* Connections */
    const lineMat=new THREE.LineBasicMaterial({color:0x00e5ff,transparent:true,opacity:.07});
    const maxCon=mob?25:70;
    for(let i=0;i<nodes.length;i++){
      for(let j=i+1;j<nodes.length;j++){
        if(connections.length>=maxCon) break;
        const d=nodes[i].position.distanceTo(nodes[j].position);
        if(d<45){const geo=new THREE.BufferGeometry().setFromPoints([nodes[i].position,nodes[j].position]);const l=new THREE.Line(geo,lineMat.clone());scene.add(l);connections.push(l);}
      }
    }

    /* Particle field */
    const pc=mob?3000:8000;
    const pPos=new Float32Array(pc*3);
    for(let i=0;i<pc;i++){pPos[i*3]=(Math.random()-.5)*300;pPos[i*3+1]=(Math.random()-.5)*200;pPos[i*3+2]=(Math.random()-.5)*300;}
    const pGeo=new THREE.BufferGeometry();pGeo.setAttribute('position',new THREE.BufferAttribute(pPos,3));
    particles=new THREE.Points(pGeo,new THREE.PointsMaterial({size:.1,color:0x00e5ff,transparent:true,opacity:.4,blending:THREE.AdditiveBlending}));
    scene.add(particles);

    document.addEventListener('mousemove',e=>{tmX=(e.clientX/innerWidth-.5)*2;tmY=(e.clientY/innerHeight-.5)*2;});
    window.addEventListener('resize',()=>{camera.aspect=innerWidth/innerHeight;camera.updateProjectionMatrix();renderer.setSize(innerWidth,innerHeight);});

    animate();
  };

  function animate(){
    requestAnimationFrame(animate);
    const el=clock.getElapsedTime();
    mX=lerp(mX,tmX,.05);mY=lerp(mY,tmY,.05);

    // Lerp section color
    const panels=document.querySelectorAll('.sec-panel.vis');
    if(panels.length){
      const p=panels[0];const col=SEC_COLORS[p.dataset.sec]||'#00e5ff';
      const tc=hex2col(col);
      tColor.r=tc.r;tColor.g=tc.g;tColor.b=tc.b;
    }
    curColor.r=lerp(curColor.r,tColor.r,.022);
    curColor.g=lerp(curColor.g,tColor.g,.022);
    curColor.b=lerp(curColor.b,tColor.b,.022);
    const c=curColor;

    // Camera gentle drift
    camera.position.x=lerp(camera.position.x,mX*5,.04);
    camera.position.y=lerp(camera.position.y,-mY*4,.04);
    camera.fov=lerp(camera.fov,70+Math.sin(el*.3)*2,.03);
    camera.lookAt(0,0,0);camera.updateProjectionMatrix();

    // Tint lights
    scene.children.forEach(o=>{if(o.isPointLight)o.color.setRGB(c.r*.8+.2,c.g*.8+.2,c.b*.8+.2);});

    // Cubes
    cubes.forEach((g,i)=>{
      g.rotation.x+=g.userData.rx;g.rotation.y+=g.userData.ry;g.rotation.z+=g.userData.rz;
      g.position.y=g.userData.baseY+Math.sin(el*g.userData.fSpd+g.userData.fOff)*3;
      const op=.25+.3*Math.abs(Math.sin(el*.3+i*.4));
      g.userData.edgeMat.opacity=op;
      g.userData.edgeMat.color.setRGB(c.r,c.g,c.b);
      g.userData.faceMat.color.setRGB(c.r,c.g,c.b);
    });

    // Nodes
    nodes.forEach((n,i)=>{
      const fl=.5+.5*Math.sin(el*n.userData.fSpd+n.userData.fOff);
      n.userData.mat.opacity=.3+.5*fl;n.userData.mat.emissiveIntensity=.2+.6*fl;
      n.userData.mat.color.setRGB(c.r,c.g,c.b);n.userData.mat.emissive.setRGB(c.r*.5,c.g*.5,c.b*.5);
      n.position.y=n.userData.basePos.y+Math.sin(el*n.userData.fSpd*.5+i)*1.5;
    });

    // Connections
    connections.forEach(l=>{l.material.color.setRGB(c.r,c.g,c.b);l.material.opacity=.04+.05*Math.abs(Math.sin(el*.4));});

    // Particles — reactor field + gravity influence
    if(particles){
      particles.material.color.setRGB(c.r,c.g,c.b);
      // Base gentle rotation
      const grav = window.reactorGravity || {dx:0,dy:0,amp:1};
      particles.rotation.y += .0003 + grav.dx * 0.001;
      particles.rotation.x += .0001 + grav.dy * 0.001;
      // Interaction field — shift particle group position
      const field = window.reactorField || {x:0,y:0,strength:0,active:false};
      if(field.active && field.strength > 0.05){
        particles.position.x = lerp(particles.position.x, field.x * 4 * field.strength, 0.04);
        particles.position.y = lerp(particles.position.y, field.y * 3 * field.strength, 0.04);
      } else {
        particles.position.x = lerp(particles.position.x, 0, 0.02);
        particles.position.y = lerp(particles.position.y, 0, 0.02);
      }
      // Pulse push — expand particle group on click pulse
      const pulses = window.reactorPulses || [];
      if(pulses.length > 0){
        const lp = pulses[pulses.length-1];
        const pushStr = lp.life * 0.8;
        if(pushStr > 0.05){
          particles.position.z = lerp(particles.position.z, -pushStr * 6, 0.06);
        }
      } else {
        particles.position.z = lerp(particles.position.z, 0, 0.03);
      }
      // Section gravity amp — scale opacity
      particles.material.opacity = lerp(particles.material.opacity, 0.3 * grav.amp, 0.02);
    }

    renderer.render(scene,camera);
  }
})();

/* ════════════════════════════════════════════════════
   FX ENGINE — TYPE-AWARE TRANSITIONS
   
   Type 0 VERTICAL:    Horizontal scan bars sweep top→bottom
   Type 1 HORIZONTAL:  Vertical scan bars sweep left→right
   Type 2 INCLINED:    Diagonal beam sweeps 45°
════════════════════════════════════════════════════ */
(function(){
  const fc=document.getElementById('fx-canvas');
  const ctx=fc.getContext('2d');
  let raf=null;

  function resize(){ fc.width=innerWidth;fc.height=innerHeight; }
  resize();window.addEventListener('resize',resize);

  function col(hex,a){
    const m=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);
    if(!m) return `rgba(0,229,255,${a})`;
    return `rgba(${parseInt(m[1],16)},${parseInt(m[2],16)},${parseInt(m[3],16)},${a})`;
  }

  window.fireFX=function(color, type=0){
    if(raf) cancelAnimationFrame(raf);
    fc.style.opacity='1';
    let t=0;
    const cx=innerWidth/2,cy=innerHeight/2;
    const isMob=innerWidth<600;
    const FRAMES=isMob?32:55;
    const AM=isMob?0.42:1; // alpha multiplier - very subtle on mobile

    function frame(){
      const p=t/FRAMES;
      ctx.clearRect(0,0,innerWidth,innerHeight);

      if(type===0){
        const bc=isMob?7:12;const barH=innerHeight/bc;
        for(let i=0;i<bc;i++){
          const delay=i/(bc-1);
          const prog=Math.max(0,Math.min(1,(p*2-delay)));
          if(prog<=0) continue;
          const y=i*barH;
          const alpha=Math.sin(prog*Math.PI)*0.32*AM;
          ctx.fillStyle=col(color,alpha);
          ctx.fillRect(0,y,innerWidth*prog,barH*.9);
          const gx=innerWidth*prog;
          const g=ctx.createLinearGradient(gx-22,0,gx+2,0);
          g.addColorStop(0,col(color,0));g.addColorStop(1,col(color,alpha*2));
          ctx.fillStyle=g;ctx.fillRect(gx-22,y,24,barH*.9);
        }
        if(p>0.4&&p<0.8){
          const fp=(p-0.4)/0.4;
          const gr=ctx.createRadialGradient(cx,cy,0,cx,cy,innerWidth*.3);
          gr.addColorStop(0,col(color,.25*Math.sin(fp*Math.PI)*AM));
          gr.addColorStop(1,'rgba(0,0,0,0)');
          ctx.fillStyle=gr;ctx.fillRect(0,0,innerWidth,innerHeight);
        }
      }
      else if(type===1){
        const bc=isMob?6:10;const barW=innerWidth/bc;
        for(let i=0;i<bc;i++){
          const delay=i/(bc-1);
          const prog=Math.max(0,Math.min(1,(p*2-delay)));
          if(prog<=0) continue;
          const x=i*barW;
          const alpha=Math.sin(prog*Math.PI)*0.32*AM;
          ctx.fillStyle=col(color,alpha);
          ctx.fillRect(x,0,barW*.9,innerHeight*prog);
          const gy=innerHeight*prog;
          const g=ctx.createLinearGradient(0,gy-22,0,gy+2);
          g.addColorStop(0,col(color,0));g.addColorStop(1,col(color,alpha*2));
          ctx.fillStyle=g;ctx.fillRect(x,gy-22,barW*.9,24);
        }
        if(p>0.4&&p<0.8){
          const fp=(p-0.4)/0.4;
          const gr=ctx.createRadialGradient(cx,cy,0,cx,cy,innerHeight*.3);
          gr.addColorStop(0,col(color,.25*Math.sin(fp*Math.PI)*AM));
          gr.addColorStop(1,'rgba(0,0,0,0)');
          ctx.fillStyle=gr;ctx.fillRect(0,0,innerWidth,innerHeight);
        }
      }
      else{
        const diag=Math.sqrt(innerWidth*innerWidth+innerHeight*innerHeight);
        ctx.save();ctx.translate(cx,cy);ctx.rotate(Math.PI/4);
        const bands=isMob?5:8;
        for(let i=0;i<bands;i++){
          const delay=i/(bands-1);
          const prog=Math.max(0,Math.min(1,(p*2.2-delay)));
          if(prog<=0) continue;
          const bw=diag/bands;const bx=-diag/2+i*bw;
          const alpha=Math.sin(prog*Math.PI)*0.3*AM;
          ctx.fillStyle=col(color,alpha);
          ctx.fillRect(bx,-diag/2,bw*.88,diag*prog);
          const ey=diag*prog-diag/2;
          const g=ctx.createLinearGradient(0,ey-18,0,ey+2);
          g.addColorStop(0,col(color,0));g.addColorStop(1,col(color,alpha*2));
          ctx.fillStyle=g;ctx.fillRect(bx,ey-18,bw*.88,20);
        }
        ctx.restore();
        if(p>0.55){
          const ep=(p-0.55)/0.45;
          const maxR=Math.sqrt(cx*cx+cy*cy)*1.3;
          const r=ep*maxR;
          ctx.beginPath();ctx.arc(cx,cy,r,0,Math.PI*2);
          ctx.strokeStyle=col(color,(1-ep)*.3*AM);ctx.lineWidth=1.5;ctx.stroke();
          const rays=isMob?8:14;
          for(let i=0;i<rays;i++){
            const ang=(i/rays)*Math.PI*2;
            const x1=cx+Math.cos(ang)*r*.2,y1=cy+Math.sin(ang)*r*.2;
            const x2=cx+Math.cos(ang)*r*.75,y2=cy+Math.sin(ang)*r*.75;
            const g=ctx.createLinearGradient(x1,y1,x2,y2);
            g.addColorStop(0,col(color,.22*(1-ep)*AM));g.addColorStop(1,'rgba(0,0,0,0)');
            ctx.beginPath();ctx.moveTo(x1,y1);ctx.lineTo(x2,y2);ctx.strokeStyle=g;ctx.lineWidth=.7;ctx.stroke();
          }
        }
      }

      t++;
      if(t<=FRAMES) raf=requestAnimationFrame(frame);
      else{ctx.clearRect(0,0,innerWidth,innerHeight);fc.style.opacity='0';}
    }
    raf=requestAnimationFrame(frame);
  };

  window.fireScan=function(){
    const sl=document.getElementById('scanlines');
    if(!sl) return;sl.classList.add('on');setTimeout(()=>sl.classList.remove('on'),300);
  };

  window.fireBloom=function(color){
    const bl=document.getElementById('bloom');if(!bl) return;
    bl.style.background=`radial-gradient(ellipse at 50% 50%,${color}1a 0%,transparent 65%)`;
    bl.style.transition='none';bl.style.opacity='1';
    requestAnimationFrame(()=>{bl.style.transition='opacity 1s ease';bl.style.opacity='0';});
  };
})();

/* ════════════════════════════════════════════════════
   NEURAL BG CANVAS (Identity section)
════════════════════════════════════════════════════ */
(function(){
  const canvas=document.getElementById('neural-bg-canvas');if(!canvas) return;
  canvas.width=480;canvas.height=480;
  const ctx=canvas.getContext('2d');
  const N=20;const pts=[];
  for(let i=0;i<N;i++) pts.push({x:50+Math.random()*380,y:50+Math.random()*380,vx:(Math.random()-.5)*.55,vy:(Math.random()-.5)*.55});
  function frame(){
    ctx.clearRect(0,0,480,480);
    pts.forEach(p=>{p.x+=p.vx;p.y+=p.vy;if(p.x<30||p.x>450)p.vx*=-1;if(p.y<30||p.y>450)p.vy*=-1;});
    pts.forEach((a,i)=>{
      pts.forEach((b,j)=>{if(j<=i) return;const d=Math.hypot(a.x-b.x,a.y-b.y);if(d<130){ctx.beginPath();ctx.moveTo(a.x,a.y);ctx.lineTo(b.x,b.y);ctx.strokeStyle=`rgba(0,229,255,${(1-d/130)*.28})`;ctx.lineWidth=.8;ctx.stroke();}});
      ctx.beginPath();ctx.arc(a.x,a.y,3,0,Math.PI*2);ctx.fillStyle='rgba(0,229,255,.55)';ctx.shadowBlur=8;ctx.shadowColor='#00e5ff';ctx.fill();ctx.shadowBlur=0;
    });
    requestAnimationFrame(frame);
  }
  frame();
})();

/* ════════════════════════════════════════════════════
   LOADING ENGINE
════════════════════════════════════════════════════ */
(function(){
  const DUR=1400;
  const stages=[document.getElementById('ld1'),document.getElementById('ld2'),document.getElementById('ld3'),document.getElementById('ld4'),document.getElementById('ld5')];
  const bar=document.getElementById('ld-bar');
  const pct=document.getElementById('ld-pct');
  let stage=0;

  // Loading neural canvas
  const lnc=document.getElementById('ld-neural-canvas');
  if(lnc){
    const lctx=lnc.getContext('2d');
    const nodes=[];
    for(let i=0;i<10;i++) nodes.push({x:30+Math.random()*240,y:20+Math.random()*160,vx:(Math.random()-.5)*.4,vy:(Math.random()-.5)*.4});
    let lraf;
    function ldFrame(){
      lctx.clearRect(0,0,300,200);
      nodes.forEach(n=>{n.x+=n.vx;n.y+=n.vy;if(n.x<10||n.x>290)n.vx*=-1;if(n.y<10||n.y>190)n.vy*=-1;});
      nodes.forEach((a,i)=>{nodes.forEach((b,j)=>{if(j<=i) return;const d=Math.hypot(a.x-b.x,a.y-b.y);if(d<90){lctx.beginPath();lctx.moveTo(a.x,a.y);lctx.lineTo(b.x,b.y);lctx.strokeStyle=`rgba(0,229,255,${(1-d/90)*.5})`;lctx.lineWidth=.7;lctx.stroke();}});lctx.beginPath();lctx.arc(a.x,a.y,3,0,Math.PI*2);lctx.fillStyle='rgba(0,229,255,.7)';lctx.shadowBlur=7;lctx.shadowColor='#00e5ff';lctx.fill();lctx.shadowBlur=0;});
      lraf=requestAnimationFrame(ldFrame);
    }
    ldFrame();
    window._stopLdNeural=()=>cancelAnimationFrame(lraf);
  }

  function show(n){
    stages.forEach((s,i)=>s&&s.classList.toggle('on',i===n));
    if(bar) bar.style.width=((n+1)/stages.length*100)+'%';
    if(pct) pct.textContent=Math.round((n+1)/stages.length*100)+'%';
  }
  function next(){
    if(stage<stages.length){show(stage++);if(stage<stages.length) setTimeout(next,DUR);else setTimeout(done,DUR);}
  }
  function done(){
    window._stopLdNeural&&window._stopLdNeural();
    const loader=document.getElementById('loader');
    if(loader){loader.classList.add('out');setTimeout(()=>{loader.style.display='none';window.initBg&&window.initBg();},1200);}
  }
  window.addEventListener('DOMContentLoaded',()=>setTimeout(next,400));
})();

/* ════════════════════════════════════════════════════
   V6 — DROPDOWNS + INDEX TABLE
════════════════════════════════════════════════════ */
(function(){
'use strict';

/* ── DROPDOWN TOGGLE ── */
window.toggleDrop = function(hd){
  const bd = hd.nextElementSibling;
  const isOpen = bd.classList.contains('open');
  // close siblings in same .sec-drops
  const parent = hd.closest('.sec-drops');
  if(parent){
    parent.querySelectorAll('.drop-bd.open').forEach(b=>{
      b.classList.remove('open');
      b.previousElementSibling.classList.remove('open');
    });
  }
  if(!isOpen){
    bd.classList.add('open');
    hd.classList.add('open');
    // scroll the drop into view gently
    setTimeout(()=>{
      bd.scrollIntoView({behavior:'smooth',block:'nearest'});
    }, 120);
  }
};

/* ── INDEX TABLE ── */
let idxOpen = false;

window.toggleIdx = function(){
  idxOpen ? closeIdx() : openIdx();
};

function openIdx(){
  const ov = document.getElementById('idx-overlay');
  if(!ov) return;
  // Mark active row
  const cur = window.getCurrentSection ? window.getCurrentSection() : 0;
  document.querySelectorAll('.idx-row').forEach(r=>{
    r.classList.toggle('active-sec', parseInt(r.dataset.goto)===cur);
  });
  ov.classList.add('open');
  idxOpen = true;
  // Focus search
  setTimeout(()=>{
    const inp = document.getElementById('idx-search-input');
    if(inp) inp.focus();
  }, 150);
}

window.closeIdx = function(){
  const ov = document.getElementById('idx-overlay');
  if(ov) ov.classList.remove('open');
  idxOpen = false;
  // clear search
  const inp = document.getElementById('idx-search-input');
  if(inp){ inp.value=''; filterIdx(''); }
};

window.handleIdxOverlayClick = function(e){
  if(e.target.id === 'idx-overlay') closeIdx();
};

window.idxGoto = function(n){
  closeIdx();
  setTimeout(()=>{
    if(window.gotoSection) window.gotoSection(n);
  }, 220);
};

window.filterIdx = function(q){
  const s = q.toLowerCase().trim();
  document.querySelectorAll('.idx-row').forEach(row=>{
    const text = row.querySelector('.idx-info').textContent.toLowerCase();
    row.classList.toggle('hidden', s.length>0 && !text.includes(s));
  });
};

// Keyboard: I = toggle, Escape = close
document.addEventListener('keydown', e=>{
  if(e.target.tagName==='INPUT') return;
  if(e.key==='Escape') closeIdx();
  if(e.key==='i'||e.key==='I') toggleIdx();
});

// Keep active dot updated when section changes
document.addEventListener('sectionchange', e=>{
  if(!idxOpen) return;
  const cur = e.detail||0;
  document.querySelectorAll('.idx-row').forEach(r=>{
    r.classList.toggle('active-sec', parseInt(r.dataset.goto)===cur);
  });
});

/* Expose getCurrentSection for index (scroll engine sets window.curSec) */
window.getCurrentSection = ()=> window.curSec||0;

/* ── FAQ CATEGORY DROPDOWNS (expand FAQ with 2 new accordion groups) ── */
// Already handled by existing faq-item toggle + new items added in HTML

/* ── DROPDOWN SCROLL-INTO-GLASS FIX ──
   The section panels have overflow-y:auto. Ensure drop body expands
   correctly inside the scrollable container, not outside.
   We already use max-height CSS transition — no JS needed.
*/

})();

/* ════════════════════════════════════════════════════
   ENRICHMENT FEATURES V5
════════════════════════════════════════════════════ */
(function(){
'use strict';

/* ── TYPEWRITER HERO ── */
const tw = document.getElementById('hero-type');
if(tw){
  const phrases = [
    'AI Systems Architect',
    'Full-Stack Innovator',
    'RAG & Agentic Specialist',
    'Founder · DRN.TODAY',
    'Turning ideas into systems'
  ];
  let pi=0, ci=0, deleting=false;
  function tick(){
    const phrase = phrases[pi % phrases.length];
    if(!deleting){
      ci++;
      tw.textContent = phrase.slice(0, ci);
      if(ci >= phrase.length){ deleting=true; setTimeout(tick, 2200); return; }
      setTimeout(tick, 60 + Math.random()*40);
    } else {
      ci--;
      tw.textContent = phrase.slice(0, ci);
      if(ci === 0){ deleting=false; pi++; setTimeout(tick, 400); return; }
      setTimeout(tick, 35);
    }
  }
  setTimeout(tick, 2200);
}

/* ── ANIMATED STAT COUNTERS ── */
function animateCounter(el){
  const target = parseInt(el.dataset.target);
  const suffix = el.dataset.suffix || '';
  if(isNaN(target)) return;
  let start = null;
  const dur = 1400;
  function step(ts){
    if(!start) start = ts;
    const progress = Math.min((ts - start) / dur, 1);
    const ease = 1 - Math.pow(1 - progress, 3);
    el.textContent = Math.round(ease * target) + suffix;
    if(progress < 1) requestAnimationFrame(step);
  }
  requestAnimationFrame(step);
}

/* Observe panels becoming .vis and trigger counters ── */
const statObserver = new MutationObserver(mutations => {
  mutations.forEach(m => {
    if(m.target.classList.contains('vis')){
      m.target.querySelectorAll('[data-target]').forEach(el => {
        setTimeout(() => animateCounter(el), 600);
      });
    }
  });
});
document.querySelectorAll('.sec-panel').forEach(p =>
  statObserver.observe(p, {attributes:true, attributeFilter:['class']})
);

/* ── LIVE CLOCK (IST) ── */
const clockEl = document.getElementById('live-clock');
if(clockEl){
  function updateClock(){
    const now = new Date();
    // IST = UTC+5:30
    const utc = now.getTime() + now.getTimezoneOffset() * 60000;
    const ist = new Date(utc + 5.5 * 3600000);
    const h = String(ist.getHours()).padStart(2,'0');
    const m = String(ist.getMinutes()).padStart(2,'0');
    const s = String(ist.getSeconds()).padStart(2,'0');
    clockEl.textContent = `${h}:${m}:${s}`;
  }
  updateClock();
  setInterval(updateClock, 1000);
}

/* ── FAQ ACCORDION (enhanced - supports new items) ── */
document.querySelectorAll('.faq-item').forEach(item => {
  const q = item.querySelector('.faq-q');
  if(!q) return;
  // clear old listener by cloning
  const newQ = q.cloneNode(true);
  q.parentNode.replaceChild(newQ, q);
  newQ.addEventListener('click', () => {
    const isOn = item.classList.contains('on');
    // close all
    document.querySelectorAll('.faq-item.on').forEach(i => i.classList.remove('on'));
    if(!isOn) item.classList.add('on');
  });
});

/* ── PACKAGE BUTTON RIPPLE ── */
document.querySelectorAll('.pkg-btn').forEach(btn => {
  btn.addEventListener('click', function(e){
    const r = document.createElement('span');
    r.style.cssText=`position:absolute;border-radius:50%;background:rgba(255,255,255,.25);
      transform:scale(0);animation:ripple .5s linear;pointer-events:none;
      width:100px;height:100px;left:${e.offsetX-50}px;top:${e.offsetY-50}px`;
    this.style.position='relative';this.style.overflow='hidden';
    this.appendChild(r);
    setTimeout(()=>r.remove(), 600);
  });
});

/* Ripple CSS (injected once) */
if(!document.getElementById('ripple-style')){
  const s = document.createElement('style');
  s.id='ripple-style';
  s.textContent='@keyframes ripple{to{transform:scale(4);opacity:0}}';
  document.head.appendChild(s);
}

/* ── CUBE CARD MICRO-HOVER: color accent on --ac ── */
document.querySelectorAll('.cube-card').forEach(card => {
  card.addEventListener('mouseenter', () => {
    const ac = getComputedStyle(card.closest('[style*="--ac"]')||card).getPropertyValue('--ac').trim();
    if(ac) card.style.setProperty('--cc-glow', ac);
  });
});

/* ── PACKAGE MOST POPULAR GLOW ── */
const featPkg = document.querySelector('.pkg.feat');
if(featPkg){
  let t=0;
  function glowPkg(){
    t += 0.04;
    const alpha = 0.15 + Math.sin(t) * 0.08;
    featPkg.style.boxShadow = `0 0 24px rgba(255,45,155,${alpha}), inset 0 0 24px rgba(255,45,155,${alpha*0.3})`;
    requestAnimationFrame(glowPkg);
  }
  glowPkg();
}

/* ── HUD NUMBER FLIP ANIMATION ── */
const hudIdx = document.getElementById('hud-index');
if(hudIdx){
  const origUpdate = window.updateHUD;
  // wrap updateHUD to add flip class
  window.updateHUD = function(idx){
    if(origUpdate) origUpdate(idx);
    hudIdx.style.transform = 'rotateX(90deg)';
    hudIdx.style.transition = 'transform .15s ease-in';
    setTimeout(() => {
      hudIdx.style.transition = 'transform .2s ease-out';
      hudIdx.style.transform = 'rotateX(0deg)';
    }, 150);
  };
}

})();


/* ════════════════════════════════════════════════════
   V7 — REACTOR WORLD SYSTEM
════════════════════════════════════════════════════ */

/* ════════════════════════════════════════════════════
   V7 — REACTOR WORLD SYSTEM
   Phase 1: Interaction field, click pulse, section gravity, probe
   Phase 2: Probe scan, card tilt, scroll feedback, nav preview
   Phase 3: Section signatures, cinematic physics, stability, fragments, devmode
════════════════════════════════════════════════════ */
(function(){
'use strict';

const mob = innerWidth < 768;
const prefersReducedMotion = window.matchMedia('(prefers-reduced-motion: reduce)').matches;

/* ────────────────────────────────────────────────
   SHARED STATE
──────────────────────────────────────────────── */
const reactor = {
  // Interaction field
  field: { x: 0, y: 0, strength: 0, active: false, vx: 0, vy: 0 },

  // Active pulses (click rings)
  pulses: [],

  // Section gravity
  gravity: { dx: 0, dy: 0, amp: 1.0, targetDx: 0, targetDy: 0 },

  // Current section color
  sectionColor: '#00e5ff',

  // Scroll tilt
  scrollTilt: { val: 0, target: 0 },

  // Nav preview
  previewIdx: null,

  // Stability
  stability: 100,
  stabilityTarget: 100,
  interactionEvents: 0,
  lastInteraction: 0,
  lastNavTime: 0,
  rapidNavCount: 0,

  // Fragment collection
  fragsCollected: 0,

  // FPS tracking
  fps: 60,
  lastFrameTime: performance.now(),
  frameCount: 0,
  qualityLevel: 2, // 0=low,1=med,2=high
};

/* ────────────────────────────────────────────────
   HELPER: hex to rgb string
──────────────────────────────────────────────── */
function hexToRgb(h) {
  const m = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(h);
  if (!m) return '0,229,255';
  return `${parseInt(m[1],16)},${parseInt(m[2],16)},${parseInt(m[3],16)}`;
}
function lerp(a, b, t) { return a + (b - a) * t; }

/* ────────────────────────────────────────────────
   ═══ PHASE 1.1 — INTERACTION FIELD ═══
   Mouse/touch movement distorts particles in Three.js world
──────────────────────────────────────────────── */
let lastMX = 0, lastMY = 0, lastMoveTime = 0;

function updateInteractionField(clientX, clientY) {
  const now = performance.now();
  const dt = Math.max(1, now - lastMoveTime);
  const dx = clientX - lastMX;
  const dy = clientY - lastMY;
  const speed = Math.sqrt(dx*dx + dy*dy) / dt;

  reactor.field.x = (clientX / innerWidth) * 2 - 1;
  reactor.field.y = -((clientY / innerHeight) * 2 - 1);
  reactor.field.strength = Math.min(speed * 3, 1.0);
  reactor.field.active = true;
  reactor.field.vx = dx / dt;
  reactor.field.vy = dy / dt;

  lastMX = clientX; lastMY = clientY; lastMoveTime = now;

  // Decay strength
  clearTimeout(reactor._fieldDecay);
  reactor._fieldDecay = setTimeout(() => { reactor.field.active = false; reactor.field.strength = 0; }, 200);

  reactor.interactionEvents++;
  reactor.lastInteraction = now;
}

window.addEventListener('mousemove', e => updateInteractionField(e.clientX, e.clientY));
window.addEventListener('touchmove', e => {
  const t = e.touches[0];
  updateInteractionField(t.clientX, t.clientY);
}, { passive: true });

/* Expose field to Three.js animate loop */
window.reactorField = reactor.field;

/* ────────────────────────────────────────────────
   ═══ PHASE 1.2 — CLICK PULSE ═══
──────────────────────────────────────────────── */
window.addEventListener('pointerdown', e => {
  if (prefersReducedMotion) return;
  spawnClickPulse(e.clientX, e.clientY);
  reactor.interactionEvents++;
  reactor.lastInteraction = performance.now();
});

function spawnClickPulse(x, y) {
  reactor.pulses.push({
    x, y,
    radius: 0,
    maxRadius: Math.max(innerWidth, innerHeight) * 0.35,
    life: 1.0,
    color: reactor.sectionColor,
  });
  // Put probe in pulse mode briefly
  if (probe.el) {
    probe.el.classList.add('pulse');
    setTimeout(() => probe.el && probe.el.classList.remove('pulse'), 500);
  }
}

/* Expose for Three.js pulse particles */
window.reactorPulses = reactor.pulses;

/* ────────────────────────────────────────────────
   ═══ PHASE 1.3 — SECTION GRAVITY ═══
──────────────────────────────────────────────── */
const gravityMap = {
  // section num → {dx, dy, amp}
  0:  { dx: 0,     dy: 0.0,  amp: 1.0 },  // HOME
  1:  { dx: 0.05,  dy: -0.05, amp: 0.9 }, // IDENTITY
  2:  { dx: -0.08, dy: 0.03, amp: 1.2 },  // DRN
  3:  { dx: 0.1,   dy: 0.05, amp: 1.4 },  // AGENTIC
  4:  { dx: 0.12,  dy: 0.0,  amp: 1.1 },  // WORKFLOWS
  5:  { dx: -0.06, dy: 0.08, amp: 1.3 },  // RAG
  6:  { dx: 0.04,  dy: -0.06, amp: 1.2 }, // AI AUTO
  7:  { dx: -0.1,  dy: 0.04, amp: 1.0 },  // FULLSTACK
  8:  { dx: 0.08,  dy: 0.06, amp: 0.9 },  // MOBILE
  9:  { dx: -0.05, dy: -0.08, amp: 1.1 }, // BACKEND
  10: { dx: 0.06,  dy: 0.0,  amp: 1.3 },  // ARCHITECTURE
  11: { dx: -0.04, dy: 0.07, amp: 0.8 },  // PACKAGES
  12: { dx: 0.09,  dy: -0.04, amp: 1.0 }, // FAQ
  13: { dx: 0.0,   dy: -0.1, amp: 0.7 },  // CONTACT
};

document.addEventListener('sectionchange', e => {
  const idx = e.detail || 0;
  const g = gravityMap[idx] || gravityMap[0];
  reactor.gravity.targetDx = g.dx;
  reactor.gravity.targetDy = g.dy;
  reactor.gravity.amp = g.amp;

  // Update section color
  const panels = document.querySelectorAll('.sec-panel');
  const panel = panels[idx];
  if (panel) reactor.sectionColor = panel.dataset.color || '#00e5ff';

  // Stability hit on rapid navigation
  const now = performance.now();
  if (now - reactor.lastNavTime < 1200) {
    reactor.rapidNavCount++;
    reactor.stabilityTarget = Math.max(30, reactor.stabilityTarget - 8);
  } else {
    reactor.rapidNavCount = 0;
  }
  reactor.lastNavTime = now;

  // Signature section behaviors
  triggerSectionSignature(idx);
});

/* Expose gravity to Three.js */
window.reactorGravity = reactor.gravity;

/* ────────────────────────────────────────────────
   ═══ PHASE 1.4 + 2.1 — DRN PROBE ═══
──────────────────────────────────────────────── */
const probe = {
  x: innerWidth / 2,
  y: innerHeight / 2,
  vx: 0, vy: 0,
  targetX: innerWidth / 2,
  targetY: innerHeight / 2,
  mode: 'idle',          // idle | tracking | scanning | docking | pulse
  color: '#00e5ff',
  el: document.getElementById('drn-probe'),
  canvas: document.getElementById('probe-canvas'),
  ctx: null,
  trail: [],             // [{x,y,a}]
  scanPhase: 0,          // 0=idle, >0 = scanning progress 0→1
  scanTimer: null,
  orbitAngle: 0,         // for idle orbit
  cursorX: innerWidth / 2,
  cursorY: innerHeight / 2,
};

if (probe.canvas) {
  probe.canvas.width = innerWidth;
  probe.canvas.height = innerHeight;
  probe.ctx = probe.canvas.getContext('2d');
  window.addEventListener('resize', () => {
    probe.canvas.width = innerWidth;
    probe.canvas.height = innerHeight;
  });
}

// Track cursor
window.addEventListener('mousemove', e => {
  probe.cursorX = e.clientX;
  probe.cursorY = e.clientY;
  probe.mode = 'tracking';
});
window.addEventListener('touchmove', e => {
  probe.cursorX = e.touches[0].clientX;
  probe.cursorY = e.touches[0].clientY;
  probe.mode = 'tracking';
}, { passive: true });

// Probe update — called from RAF loop
const PROBE_INERTIA = mob ? 0.06 : 0.055;
const TRAIL_LEN = mob ? 12 : 28;

function updateProbe(dt) {
  if (!probe.el) return;

  // Target depends on mode
  let tx = probe.cursorX, ty = probe.cursorY;

  if (probe.mode === 'scanning') {
    // Sweeping arc during section entry
    const cx = innerWidth / 2;
    const cy = innerHeight / 2;
    const sweepAngle = (probe.scanPhase - 0.5) * Math.PI * 1.6;
    const radius = Math.min(innerWidth, innerHeight) * 0.22;
    tx = cx + Math.cos(sweepAngle) * radius;
    ty = cy + Math.sin(sweepAngle) * 0.4 * radius;
  } else if (probe.mode === 'docking') {
    // Move to bottom-right of contact card
    tx = innerWidth * 0.72;
    ty = innerHeight * 0.62;
  } else if (probe.mode === 'idle' && !mob) {
    // Gentle orbit when truly idle
    probe.orbitAngle += 0.008;
    tx = probe.cursorX + Math.cos(probe.orbitAngle) * 18;
    ty = probe.cursorY + Math.sin(probe.orbitAngle) * 12;
  }

  // Spring physics
  const ease = PROBE_INERTIA;
  probe.vx += (tx - probe.x) * ease;
  probe.vy += (ty - probe.y) * ease;
  probe.vx *= 0.72;
  probe.vy *= 0.72;
  probe.x += probe.vx;
  probe.y += probe.vy;

  // Trail
  probe.trail.push({ x: probe.x, y: probe.y, a: 1.0 });
  if (probe.trail.length > TRAIL_LEN) probe.trail.shift();

  // Apply DOM position
  const px = Math.round(probe.x);
  const py = Math.round(probe.y);
  probe.el.style.left = px + 'px';
  probe.el.style.top = py + 'px';

  // Color from section
  probe.el.style.setProperty('--probe-color', probe.color);
}

// Draw probe trail on canvas
function drawProbeTrail() {
  if (!probe.ctx) return;
  const ctx = probe.ctx;
  ctx.clearRect(0, 0, innerWidth, innerHeight);

  if (probe.trail.length < 2) return;
  if (prefersReducedMotion) return;

  const maxLen = probe.trail.length;
  for (let i = 1; i < maxLen; i++) {
    const a_frac = i / maxLen;
    const alpha = a_frac * 0.35;
    const width = a_frac * (mob ? 1.2 : 1.8);
    const p0 = probe.trail[i - 1];
    const p1 = probe.trail[i];
    ctx.beginPath();
    ctx.moveTo(p0.x, p0.y);
    ctx.lineTo(p1.x, p1.y);
    ctx.strokeStyle = `rgba(${hexToRgb(probe.color)},${alpha})`;
    ctx.lineWidth = width;
    ctx.lineCap = 'round';
    ctx.stroke();
  }

  // Draw scan radial lines during scanning
  if (probe.mode === 'scanning' && probe.scanPhase > 0) {
    const rays = mob ? 6 : 10;
    const r1 = 20, r2 = 60 + probe.scanPhase * 40;
    ctx.save();
    for (let i = 0; i < rays; i++) {
      const ang = (i / rays) * Math.PI * 2 + probe.orbitAngle;
      ctx.beginPath();
      ctx.moveTo(probe.x + Math.cos(ang) * r1, probe.y + Math.sin(ang) * r1);
      ctx.lineTo(probe.x + Math.cos(ang) * r2, probe.y + Math.sin(ang) * r2);
      ctx.strokeStyle = `rgba(${hexToRgb(probe.color)},${0.12 * probe.scanPhase})`;
      ctx.lineWidth = 0.8;
      ctx.stroke();
    }
    ctx.restore();
  }

  // Click pulses drawn on probe canvas too
  reactor.pulses.forEach(p => {
    if (p.life <= 0) return;
    const rgb = hexToRgb(p.color);
    const alpha = p.life * 0.35;
    ctx.beginPath();
    ctx.arc(p.x, p.y, p.radius, 0, Math.PI * 2);
    ctx.strokeStyle = `rgba(${rgb},${alpha})`;
    ctx.lineWidth = mob ? 1.5 : 2;
    ctx.stroke();

    // Inner glow
    if (p.radius < p.maxRadius * 0.3) {
      const gr = ctx.createRadialGradient(p.x, p.y, 0, p.x, p.y, p.radius);
      gr.addColorStop(0, `rgba(${rgb},${alpha * 0.4})`);
      gr.addColorStop(1, 'rgba(0,0,0,0)');
      ctx.fillStyle = gr;
      ctx.beginPath();
      ctx.arc(p.x, p.y, p.radius, 0, Math.PI * 2);
      ctx.fill();
    }
  });
}

/* Probe trigger section scan */
function triggerProbeScan(color) {
  if (prefersReducedMotion) return;
  probe.mode = 'scanning';
  probe.color = color || reactor.sectionColor;
  probe.scanPhase = 0;
  if (probe.el) probe.el.classList.add('scanning');

  let start = null;
  const dur = 900;
  function animScan(ts) {
    if (!start) start = ts;
    const p = Math.min((ts - start) / dur, 1);
    probe.scanPhase = p;
    if (p < 1) {
      requestAnimationFrame(animScan);
    } else {
      probe.mode = 'tracking';
      probe.scanPhase = 0;
      if (probe.el) probe.el.classList.remove('scanning');
    }
  }
  requestAnimationFrame(animScan);
}

// Listen for section changes to trigger scan
document.addEventListener('sectionchange', e => {
  const idx = e.detail || 0;
  const panels = document.querySelectorAll('.sec-panel');
  const p = panels[idx];
  const color = p ? p.dataset.color || '#00e5ff' : '#00e5ff';
  probe.color = color;

  // Contact section → docking
  if (idx === 13) {
    setTimeout(() => { probe.mode = 'docking'; if (probe.el) probe.el.classList.add('docking'); }, 400);
    setTimeout(() => { probe.mode = 'tracking'; if (probe.el) probe.el.classList.remove('docking'); }, 2800);
  } else {
    if (probe.el) probe.el.classList.remove('docking');
    setTimeout(() => triggerProbeScan(color), 200);
  }
});

/* ────────────────────────────────────────────────
   ═══ PHASE 2.2 — CURSOR-REACTIVE GLASS TILT ═══
──────────────────────────────────────────────── */
if (!mob && !prefersReducedMotion) {
  const MAX_TILT = 4;
  const tiltState = new WeakMap();

  function applyCardTilt(e) {
    // Find the glass card under cursor
    const glass = e.currentTarget.querySelector('.glass');
    if (!glass) return;

    const rect = e.currentTarget.getBoundingClientRect();
    const cx = rect.left + rect.width / 2;
    const cy = rect.top + rect.height / 2;
    const dx = (e.clientX - cx) / (rect.width / 2);
    const dy = (e.clientY - cy) / (rect.height / 2);

    // Spring tilt
    let state = tiltState.get(glass) || { rx: 0, ry: 0 };
    state.rx = lerp(state.rx, -dy * MAX_TILT, 0.12);
    state.ry = lerp(state.ry, dx * MAX_TILT, 0.12);
    tiltState.set(glass, state);

    glass.style.transform = `perspective(900px) rotateX(${state.rx}deg) rotateY(${state.ry}deg)`;
    glass.style.transition = 'transform 0.1s linear';
  }

  function resetCardTilt(e) {
    const glass = e.currentTarget.querySelector('.glass');
    if (!glass) return;
    tiltState.set(glass, { rx: 0, ry: 0 });
    glass.style.transition = 'transform 0.5s var(--ez)';
    glass.style.transform = '';
  }

  // Throttled mousemove tilt application per-panel
  document.querySelectorAll('.sec-panel').forEach(panel => {
    panel.addEventListener('mousemove', applyCardTilt);
    panel.addEventListener('mouseleave', resetCardTilt);
  });
}

/* ────────────────────────────────────────────────
   ═══ PHASE 2.3 — INNER SCROLL WORLD FEEDBACK ═══
──────────────────────────────────────────────── */
let scrollFeedbackTimer = null;
document.querySelectorAll('.sec-panel').forEach(panel => {
  panel.addEventListener('scroll', e => {
    reactor.scrollTilt.target = panel.scrollTop > 0 ? 0.35 : -0.35;
    clearTimeout(scrollFeedbackTimer);
    scrollFeedbackTimer = setTimeout(() => {
      reactor.scrollTilt.target = 0;
    }, 400);
    reactor.interactionEvents++;
  }, { passive: true });
});

/* ────────────────────────────────────────────────
   ═══ PHASE 2.4 — NAV DOT HOVER PREVIEW ═══
──────────────────────────────────────────────── */
if (!mob) {
  const stageClip = document.getElementById('stage-clip');
  document.querySelectorAll('.ndot').forEach((dot, i) => {
    dot.addEventListener('mouseenter', () => {
      reactor.previewIdx = i;
      // Subtle tilt toward target section
      if (stageClip) {
        const dir = i > (window.curSec || 0) ? 1 : -1;
        const tType = i % 3;
        const tiltAmt = 2.5;
        let rx = 0, ry = 0;
        if (tType === 0) rx = dir * tiltAmt;
        else if (tType === 1) ry = dir * -tiltAmt;
        else { rx = dir * 1.5; ry = dir * -1.5; }
        stageClip.style.transition = 'transform 0.4s ease';
        stageClip.style.transform = `perspective(1400px) rotateX(${rx}deg) rotateY(${ry}deg)`;
      }
    });
    dot.addEventListener('mouseleave', () => {
      reactor.previewIdx = null;
      if (stageClip) {
        stageClip.style.transition = 'transform 0.6s var(--ez)';
        stageClip.style.transform = '';
      }
    });
  });
}

/* ────────────────────────────────────────────────
   ═══ PHASE 3.1 — SECTION SIGNATURE MOMENTS ═══
──────────────────────────────────────────────── */
const sectionSignaturesFired = new Set();

function triggerSectionSignature(idx) {
  // Always re-trigger (not just once) for re-entry
  switch(idx) {
    case 0: signatureHome(); break;
    case 1: signatureIdentity(); break;
    case 3: signatureAgentic(); break;
    case 4: signatureWorkflows(); break;
    case 5: signatureRAG(); break;
    case 10: signatureArchitecture(); break;
    case 12: /* FAQ handled inline */ break;
    case 13: signatureContact(); break;
  }
}

// HOME — Reactor Boot
function signatureHome() {
  const hb = document.getElementById('hud-bar');
  if (hb) { hb.classList.remove('grow'); void hb.offsetWidth; hb.classList.add('grow'); }
  // Probe circular sweep
  setTimeout(() => triggerProbeScan('#00e5ff'), 300);
}

// IDENTITY — Signal Lock: glow passes through sec-title text
function signatureIdentity() {
  const title = document.querySelector('#sec-identity .sec-title');
  if (!title) return;
  title.style.transition = 'text-shadow .15s';
  title.style.textShadow = '0 0 30px rgba(0,229,255,.9)';
  setTimeout(() => { title.style.textShadow = ''; }, 700);
}

// AGENTIC — Orbital glow on agent loop steps
function signatureAgentic() {
  const steps = document.querySelectorAll('.al-step');
  if (!steps.length) return;
  steps.forEach((s, i) => {
    setTimeout(() => {
      s.style.boxShadow = '0 0 14px rgba(0,255,157,.6)';
      s.style.transition = 'box-shadow .2s';
      setTimeout(() => { s.style.boxShadow = ''; }, 500);
    }, i * 130);
  });
}

// WORKFLOWS — Flow nodes light up conveyor-style
function signatureWorkflows() {
  const nodes = document.querySelectorAll('.fe-node');
  if (!nodes.length) return;
  nodes.forEach((n, i) => {
    setTimeout(() => {
      n.style.background = 'rgba(255,123,0,.3)';
      n.style.borderColor = '#ff7b00';
      n.style.transition = 'all .15s';
      setTimeout(() => { n.style.background = ''; n.style.borderColor = ''; }, 400);
    }, i * 90);
  });
}

// RAG — Scan beam across pipeline on entry
function signatureRAG() {
  const pipe = document.querySelector('.rag-pipe');
  if (!pipe || prefersReducedMotion) return;
  // Inject temporary scan beam overlay
  const beam = document.createElement('div');
  beam.style.cssText = `
    position:absolute;left:-10px;top:50%;transform:translateY(-50%);
    width:3px;height:140%;
    background:linear-gradient(to bottom,transparent,rgba(255,45,155,.7),transparent);
    pointer-events:none;z-index:10;
    transition:left 0.7s linear;
  `;
  pipe.style.position = 'relative';
  pipe.style.overflow = 'visible';
  pipe.appendChild(beam);
  requestAnimationFrame(() => {
    beam.style.left = '110%';
  });
  setTimeout(() => beam.remove(), 900);
}

// ARCHITECTURE — Blueprint mode (sharpen grid)
function signatureArchitecture() {
  const panel = document.querySelectorAll('.sec-panel')[10];
  if (!panel) return;
  panel.classList.add('blueprint-mode');
  setTimeout(() => panel.classList.remove('blueprint-mode'), 3000);
}

// CONTACT — Clock glow + docking
function signatureContact() {
  const contactPanel = document.querySelectorAll('.sec-panel')[13];
  if (contactPanel) {
    contactPanel.classList.add('docking-active');
    setTimeout(() => contactPanel.classList.remove('docking-active'), 3500);
  }
}

// FAQ — diagnostic flash on accordion open (hook into existing toggle)
document.querySelectorAll('.faq-item').forEach(item => {
  const q = item.querySelector('.faq-q');
  if (!q) return;
  q.addEventListener('click', () => {
    if (!item.classList.contains('on')) {
      // Will open — fire bloom
      window.fireBloom && window.fireBloom(reactor.sectionColor);
      window.fireScan && window.fireScan();
      // Probe pin
      const rect = q.getBoundingClientRect();
      probe.cursorX = rect.left + rect.width * 0.1;
      probe.cursorY = rect.top + rect.height / 2;
    }
  });
});

/* ────────────────────────────────────────────────
   ═══ PHASE 3.2 — CINEMATIC PHYSICS ═══
   Enhance transitions with overshoot/settle, roll, Z-push
──────────────────────────────────────────────── */
// Hook into sectionchange to add physics overlays
document.addEventListener('sectionchange', e => {
  if (prefersReducedMotion) return;
  const idx = e.detail || 0;
  const tType = idx % 3;

  // Access the scroll engine cam via exposed interface
  // We push a temporary extra tilt that settles naturally
  // This is done via the existing cam.ease system
  // We inject an overshoot by briefly setting ease higher then restoring
  setTimeout(() => {
    // Type 0 VERTICAL — slight overshoot Y
    // Type 1 HORIZONTAL — tiny roll Z
    // Type 2 INCLINED — Z push zoom feel
    // The transitions already handle these; we add subtle echo
    if (tType === 2) {
      // Z push: momentary extra depth via stage perspective
      const clip = document.getElementById('stage-clip');
      if (clip) {
        clip.style.perspective = '1000px';
        setTimeout(() => { clip.style.perspective = ''; }, 500);
      }
    }
  }, 100);
});

/* ────────────────────────────────────────────────
   ═══ PHASE 3.3 — STABILITY METER ═══
──────────────────────────────────────────────── */
function updateStability() {
  const now = performance.now();

  // Recover slowly
  reactor.stabilityTarget = Math.min(100, reactor.stabilityTarget + 0.08);

  // Idle boosts stability
  if (now - reactor.lastInteraction > 4000) {
    reactor.stabilityTarget = Math.min(100, reactor.stabilityTarget + 0.15);
  }

  // Lerp actual
  reactor.stability = lerp(reactor.stability, reactor.stabilityTarget, 0.02);

  const val = Math.round(reactor.stability);
  const el = document.getElementById('stab-val');
  if (el) {
    el.textContent = val + '%';
    // Color based on level
    if (val > 80) el.style.color = 'var(--c4)';
    else if (val > 50) el.style.color = 'var(--c5)';
    else el.style.color = '#ff4444';
  }

  // Dev mode
  const dStab = document.getElementById('dev-stab');
  if (dStab) dStab.textContent = val + '%';
}

/* ────────────────────────────────────────────────
   ═══ PHASE 3.4 — DATA FRAGMENTS ═══
──────────────────────────────────────────────── */
document.querySelectorAll('.data-frag').forEach(frag => {
  frag.addEventListener('click', e => {
    e.stopPropagation();
    if (frag.classList.contains('collected')) return;
    frag.classList.add('collected');
    reactor.fragsCollected++;

    // Update counter
    const fc = document.getElementById('frag-count');
    if (fc) fc.textContent = reactor.fragsCollected;
    const df = document.getElementById('dev-frags');
    if (df) df.textContent = `${reactor.fragsCollected}/14`;

    // Probe pulse
    const rect = frag.getBoundingClientRect();
    spawnClickPulse(rect.left + 5, rect.top + 5);

    // Brief stability boost
    reactor.stabilityTarget = Math.min(100, reactor.stabilityTarget + 5);

    // Flash
    window.fireBloom && window.fireBloom(reactor.sectionColor);
  });
});

/* ────────────────────────────────────────────────
   ═══ PHASE 3.5 — DEVELOPER MODE (EASTER EGG) ═══
──────────────────────────────────────────────── */
let devHoldTimer = null;
let devOpen = false;
const hudIdx = document.getElementById('hud-index');
if (hudIdx) {
  hudIdx.style.cursor = 'pointer';
  hudIdx.addEventListener('pointerdown', () => {
    devHoldTimer = setTimeout(() => openDevMode(), 2000);
  });
  hudIdx.addEventListener('pointerup', () => clearTimeout(devHoldTimer));
  hudIdx.addEventListener('pointerleave', () => clearTimeout(devHoldTimer));
}

function openDevMode() {
  devOpen = !devOpen;
  const overlay = document.getElementById('devmode-overlay');
  if (overlay) overlay.classList.toggle('open', devOpen);
}
document.addEventListener('keydown', e => {
  if (e.key === 'Escape' && devOpen) { devOpen = false; const o = document.getElementById('devmode-overlay'); if(o) o.classList.remove('open'); }
});

/* FPS counter for devmode */
let devFpsFrames = 0, devFpsLast = performance.now();
function updateDevMode() {
  if (!devOpen) return;
  const panels = document.querySelectorAll('.sec-panel');
  const idx = window.curSec || 0;
  const panel = panels[idx];
  const dSec = document.getElementById('dev-sec');
  const dTrans = document.getElementById('dev-trans');
  const dProbe = document.getElementById('dev-probe');
  const dFps = document.getElementById('dev-fps');
  const dPart = document.getElementById('dev-particles');
  if (dSec) dSec.textContent = panel ? panel.dataset.sec : '--';
  if (dTrans) dTrans.textContent = ['VERTICAL','HORIZONTAL','INCLINED'][idx % 3];
  if (dProbe) dProbe.textContent = probe.mode;
  if (dPart) dPart.textContent = (window.reactorParticleCount || '--');
}

/* ────────────────────────────────────────────────
   ═══ MASTER RAF TICK ═══
──────────────────────────────────────────────── */
let lastRafTime = performance.now();

function reactorTick(now) {
  const dt = now - lastRafTime;
  lastRafTime = now;

  // FPS tracking
  reactor.frameCount++;
  if (now - reactor.lastFrameTime > 1000) {
    reactor.fps = reactor.frameCount;
    reactor.frameCount = 0;
    reactor.lastFrameTime = now;
    const dFps = document.getElementById('dev-fps');
    if (dFps) dFps.textContent = reactor.fps + ' fps';
    // Dynamic quality
    if (reactor.fps < 30) reactor.qualityLevel = 0;
    else if (reactor.fps < 45) reactor.qualityLevel = 1;
    else reactor.qualityLevel = 2;
  }

  // Gravity lerp
  reactor.gravity.dx = lerp(reactor.gravity.dx, reactor.gravity.targetDx, 0.025);
  reactor.gravity.dy = lerp(reactor.gravity.dy, reactor.gravity.targetDy, 0.025);

  // Pulse update
  reactor.pulses.forEach(p => {
    p.radius += (mob ? 3 : 5) * (dt / 16.67);
    p.life -= 0.028 * (dt / 16.67);
  });
  // Remove dead pulses
  for (let i = reactor.pulses.length - 1; i >= 0; i--) {
    if (reactor.pulses[i].life <= 0 || reactor.pulses[i].radius > reactor.pulses[i].maxRadius) {
      reactor.pulses.splice(i, 1);
    }
  }

  // Scroll tilt
  reactor.scrollTilt.val = lerp(reactor.scrollTilt.val, reactor.scrollTilt.target, 0.08);

  // Probe
  updateProbe(dt);
  drawProbeTrail();

  // Probe rotate
  probe.orbitAngle += 0.012;

  // Stability
  updateStability();

  // Dev mode
  updateDevMode();

  requestAnimationFrame(reactorTick);
}
requestAnimationFrame(reactorTick);

/* ────────────────────────────────────────────────
   PATCH THREE.JS animate() WITH REACTOR FIELD
   Done by exposing the field and having Three.js
   read it each frame (we patch window.reactorField above)
──────────────────────────────────────────────── */

/* Patch the Three.js animate function to use reactor field for particle displacement */
// We can't easily patch it here since it's in another IIFE, but we expose state
// and Three.js reads window.reactorField and window.reactorGravity each frame
// This is already set up above — the Three.js engine reads these globals

/* Expose particle count for devmode */
window.reactorParticleCount = mob ? 3000 : 8000;

/* ────────────────────────────────────────────────
   SCROLL TILT → STAGE-CLIP FEEDBACK
──────────────────────────────────────────────── */
// Apply scroll tilt to stage every frame (separate from probe RAF)
;(function scrollTiltLoop() {
  const clip = document.getElementById('stage-clip');
  let prevTilt = 0;
  function applyScrollTilt() {
    if (!clip) return;
    const tilt = reactor.scrollTilt.val;
    if (Math.abs(tilt - prevTilt) > 0.005) {
      // Read current transform (set by scroll engine) and add our tilt
      // Since we can't easily compose, we add a subtle skew instead
      clip.style.marginTop = (tilt * 3) + 'px';
      prevTilt = tilt;
    }
    requestAnimationFrame(applyScrollTilt);
  }
  applyScrollTilt();
})();

})();


</script>
</body>
</html>
